const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/explore-world-B9IR7DPw.js","assets/react-vendor-Cax8SarP.js","assets/ui-vendor-Dn3tdylj.js"])))=>i.map(i=>d[i]);
import{r as h,j as e,R as fe,u as re,L as V,N as Re,a as $e,O as En,V as I,b as Ot,c as lr,d as Rn,e as Po,f as Eo,g as _,h as Ro,B as Mo}from"./react-vendor-Cax8SarP.js";import{C as dt,d as Mn,e as Pt,L as Io,f as Vs,D as Et,F as $,g as ss,h as Fs,i as Q,j as Ie,B as De,k as Ne,H as ae,l as ct,m as he,n as Lo,o as Oe,p as In,q as rs,r as as,s as Xr,W as kt,t as Vo,U as Qe,u as Bs,X as ze,v as Fo,w as de,x as dr,y as cr,z as mr,G as ur,E as xr,I as Ln,J as mt,K as W,N as rt,O as xs,Q as Rt,R as Vn,V as Ve,b as oe,Y as Bo,Z as $o,_ as Oo,$ as Jr,a0 as Uo,a1 as _o,a2 as ns,A as Le,a3 as Zo,a4 as Ut,a5 as qo,a6 as Ae,a7 as hs,a8 as se,a9 as ys,aa as Ko,ab as vs,S as te,ac as ps,ad as is,ae as Wo,af as H,ag as Ho,ah as ne,ai as Se,aj as ge,ak as et,al as Fn,am as Go,an as Yo,ao as _t,ap as Bn,aq as Xo,ar as Jo,T as $s,as as hr,at as Qo,au as Qr,av as $n,aw as el,P as tl,ax as sl,ay as rl,az as al,aA as ut,aB as Ns,aC as pr,aD as nl,aE as On,aF as ea,aG as Un,aH as ta,aI as Tt,aJ as il,aK as ol,aL as ll,aM as dl,aN as cl,aO as ml,aP as ul,aQ as xl,aR as hl,aS as pl,aT as fl,aU as gl}from"./ui-vendor-Dn3tdylj.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const bl="modulepreload",jl=function(t){return"/"+t},sa={},_n=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=jl(c),c in sa)return;sa[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":bl,d||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((x,g)=>{m.addEventListener("load",x),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&l(o.reason);return s().catch(l)})},Zn=h.createContext(void 0),qn=({children:t,defaultThemeSetting:s="system",storageKey:r="app-theme-preference"})=>{const[a,n]=h.useState(()=>localStorage.getItem(r)||s),[l,i]=h.useState(()=>a==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a);h.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark");let d;a==="system"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=a,c.classList.add(d),i(d)},[a]),h.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{a==="system"&&i(c.matches?"dark":"light")};return a==="system"&&c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[a]);const o=c=>{localStorage.setItem(r,c),n(c)};return e.jsx(Zn.Provider,{value:{theme:l,setThemeSetting:o,currentThemeSetting:a},children:t})},fr=()=>{const t=h.useContext(Zn);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Kn=h.createContext(void 0),yl=({children:t})=>{const[s,r]=h.useState(null),[a,n]=h.useState(!0);h.useEffect(()=>{(()=>{try{const d=localStorage.getItem("token"),u=localStorage.getItem("user");if(d&&u){const m=JSON.parse(u);r(m)}}catch(d){console.error("Error initializing auth:",d),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{n(!1)}})()},[]);const l=(c,d)=>{localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(d)),r(d)},i=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},o=c=>{if(s){const d={...s,...c};r(d),localStorage.setItem("user",JSON.stringify(d))}};return e.jsx(Kn.Provider,{value:{user:s,isAuthenticated:!!s,isLoading:a,login:l,logout:i,updateUser:o},children:t})},Zt=()=>{const t=h.useContext(Kn);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Os=({size:t="md",className:s="",text:r})=>{const a={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-2",lg:"w-12 h-12 border-4"};return e.jsxs("div",{className:`flex flex-col items-center justify-center ${s}`,children:[e.jsx("div",{className:`${a[t]} border-primary-200 dark:border-primary-800 border-t-primary-600 dark:border-t-primary-400 rounded-full animate-spin`,role:"status","aria-label":"加载中",children:e.jsx("span",{className:"sr-only",children:"加载中..."})}),r&&e.jsx("p",{className:"mt-3 text-sm text-muted-foreground animate-pulse",children:r})]})},vl=({text:t="加载中...",fullScreen:s=!0})=>s?e.jsx("div",{className:"fixed inset-0 bg-background/80 dark:bg-background/90 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx(Os,{size:"lg",text:t})})}):e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(Os,{size:"lg",text:t})}),Ze=({content:t,children:s,position:r="right",delay:a=300,disabled:n=!1})=>{const[l,i]=h.useState(!1),[o,c]=h.useState({top:0,left:0}),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),x=()=>{n||(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{if(d.current&&u.current){const j=d.current.getBoundingClientRect(),y=u.current.getBoundingClientRect();let T=0,p=0;switch(r){case"top":T=j.top-y.height-8,p=j.left+(j.width-y.width)/2;break;case"bottom":T=j.bottom+8,p=j.left+(j.width-y.width)/2;break;case"left":T=j.top+(j.height-y.height)/2,p=j.left-y.width-8;break;case"right":T=j.top+(j.height-y.height)/2,p=j.right+8;break}c({top:T,left:p}),i(!0)}},a))},g=()=>{m.current&&clearTimeout(m.current),i(!1)};return h.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:d,onMouseEnter:x,onMouseLeave:g,onFocus:x,onBlur:g,className:"inline-block",children:s}),l&&e.jsx("div",{ref:u,className:`fixed z-[9999] pointer-events-none transition-all duration-200 ${l?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{top:`${o.top}px`,left:`${o.left}px`},children:e.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white text-xs font-medium px-3 py-1.5 rounded-lg shadow-2xl shadow-black/40 dark:shadow-black/60 border border-gray-700/50 dark:border-gray-600/50 backdrop-blur-md whitespace-nowrap",children:[t,e.jsx("div",{className:`absolute w-2 h-2 bg-gray-900 dark:bg-gray-800 border-gray-700/50 dark:border-gray-600/50 ${r==="top"?"bottom-[-4px] left-1/2 -translate-x-1/2 rotate-45 border-r border-b":r==="bottom"?"top-[-4px] left-1/2 -translate-x-1/2 rotate-45 border-l border-t":r==="left"?"right-[-4px] top-1/2 -translate-y-1/2 rotate-45 border-r border-t":"left-[-4px] top-1/2 -translate-y-1/2 rotate-45 border-l border-b"}`})]})})]})},Nl=()=>{const[t,s]=fe.useState(!1),r=re(),a=[{to:"/app",icon:Vs,label:"控制台",exact:!0,shortcut:"⌘1",description:"查看概览和统计信息"},{to:"/app/data",icon:Et,label:"数据管理",shortcut:"⌘2",description:"管理数据源和数据集合"},{to:"/app/templates",icon:$,label:"模板管理",shortcut:"⌘3",description:"创建和管理文档模板"},{to:"/app/generate",icon:ss,label:"生成文档",shortcut:"⌘4",description:"从模板批量生成文档"},{to:"/app/documents",icon:Fs,label:"文档管理",shortcut:"⌘5",description:"查看和管理生成的文档"}],n=[{to:"/app/creator",icon:Q,label:"创作中心",exact:!0,description:"创作统计概览"},{to:"/app/creator/published",icon:Fs,label:"我的发布",description:"管理发布的内容"},{to:"/app/creator/publish",icon:ss,label:"发布内容",description:"发布新的模板或文档"},{to:"/app/creator/earnings",icon:Ie,label:"收益管理",description:"查看收益和提现"},{to:"/app/creator/analytics",icon:De,label:"数据统计",description:"内容表现分析"},{to:"/app/creator/interactions",icon:Ne,label:"互动管理",description:"评论和粉丝管理"},{to:"/app/creator/favorites",icon:ae,label:"我的收藏",description:"收藏的内容"}],l=[{to:"/templates",icon:$,label:"模板市场",exact:!1,description:"浏览模板和文档"},{to:"/cases",icon:ct,label:"案例库",exact:!1,description:"查看应用案例"},{to:"/ai",icon:Q,label:"AI助手",exact:!1,description:"AI智能生成"},{to:"/discover",icon:Q,label:"发现",exact:!1,description:"发现精彩内容"},{to:"/ranking",icon:he,label:"排行榜",exact:!1,description:"热门排行"}];return h.useEffect(()=>{const i=o=>{if(o.metaKey||o.ctrlKey){const c=o.key;if(c>="1"&&c<="5"){const d=parseInt(c)-1;a[d]&&(o.preventDefault(),r(a[d].to))}(c==="b"||c==="B")&&(o.preventDefault(),s(!t))}};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t,r]),e.jsxs("div",{className:`flex flex-col h-full transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] border-r border-border bg-background text-foreground
                  ${t?"w-20":"w-64"}
                  relative overflow-hidden`,children:[e.jsxs("div",{className:`relative flex items-center border-b border-border px-4 flex-shrink-0 transition-all duration-500 ${t?"justify-center h-[72px]":"justify-between h-[72px]"}`,children:[!t&&e.jsx(Ze,{content:"返回控制台",position:"right",delay:200,children:e.jsxs(V,{to:"/app",className:"flex items-center gap-2.5 flex-shrink-0 group",title:"返回控制台",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center text-white font-bold text-base shadow-sm shadow-primary-500/30 group-hover:shadow-md group-hover:shadow-primary-500/40 transition-all duration-300 group-hover:scale-105",children:"文"}),e.jsx("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400 group-hover:text-primary-700 dark:group-hover:text-primary-300 transition-colors duration-300",children:"文管家"})]})}),e.jsx(Ze,{content:t?"展开侧边栏 (⌘B)":"收起侧边栏 (⌘B)",position:"right",delay:200,children:e.jsxs("button",{onClick:()=>s(!t),className:"relative p-2.5 rounded-xl hover:bg-background/60 dark:hover:bg-white/5 text-muted-foreground hover:text-foreground transition-all duration-300 focus-ring hover:scale-110 active:scale-95 hover:shadow-lg hover:shadow-primary-500/10 group",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-primary-500/0 to-primary-500/0 group-hover:from-primary-500/10 group-hover:to-primary-500/5 transition-all duration-300"}),e.jsx("div",{className:"relative transition-transform duration-500 group-hover:rotate-12 group-active:rotate-0",children:t?e.jsx(dt,{size:20}):e.jsx(Mn,{size:20})})]})})]}),e.jsxs("nav",{className:"relative flex-1 px-3 py-4 overflow-y-auto scrollbar-thin space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[!t&&e.jsx("div",{className:"px-3 py-1",children:e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"工作台"})}),a.map((i,o)=>{const c=i.icon;return e.jsx("li",{className:"list-none relative",style:{animationDelay:`${o*40}ms`,animation:"fadeInUp 0.5s cubic-bezier(0.4,0,0.2,1) backwards"},children:t?e.jsx(Ze,{content:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:i.label}),i.shortcut&&e.jsx("div",{className:"text-xs text-gray-300 mt-0.5",children:i.shortcut}),i.description&&e.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-[200px]",children:i.description})]}),position:"right",delay:200,children:e.jsx(Re,{to:i.to,end:i.exact,className:({isActive:d})=>`flex items-center justify-center w-full h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                         ${d?"bg-primary-500/20 dark:bg-primary-500/30 text-primary-600 dark:text-primary-300 font-semibold scale-105":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground hover:scale-105"}`,children:e.jsx(c,{size:22,className:"relative z-10"})})}):e.jsx(Re,{to:i.to,end:i.exact,className:({isActive:d})=>`flex items-center px-4 py-2.5 h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                       ${d?"bg-primary-500/15 dark:bg-primary-500/25 text-primary-600 dark:text-primary-300 font-semibold":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground"}`,children:({isActive:d})=>e.jsxs(e.Fragment,{children:[d&&e.jsx("div",{className:"absolute left-0 top-1 bottom-1 w-1.5 bg-primary-500 rounded-r-full animate-slideInLeft"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/0 group-hover:from-white/30 group-hover:via-white/15 group-hover:to-white/5 dark:group-hover:from-white/10 dark:group-hover:via-white/5 dark:group-hover:to-white/2 rounded-xl transition-all duration-500"}),e.jsx(c,{size:20,className:`transition-all duration-500 mr-3 ${d?"text-primary-500":"text-foreground/70 group-hover:text-foreground"}`}),e.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:i.label}),i.shortcut&&e.jsx("span",{className:`text-[10px] font-mono px-2 py-1 rounded-md transition-all duration-500 border ${d?"bg-primary-500/10 border-primary-500/20 text-primary-600 dark:text-primary-300":"bg-background/50 border-border/50 text-muted-foreground opacity-0 group-hover:opacity-100"}`,children:i.shortcut})]})})},i.to)})]}),e.jsxs("div",{className:"space-y-2",children:[!t&&e.jsx("div",{className:"px-3 py-1",children:e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"创作中心"})}),n.map((i,o)=>{const c=i.icon;return e.jsx("li",{className:"list-none relative",style:{animationDelay:`${(a.length+o)*40}ms`,animation:"fadeInUp 0.5s cubic-bezier(0.4,0,0.2,1) backwards"},children:t?e.jsx(Ze,{content:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:i.label}),i.description&&e.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-[200px]",children:i.description})]}),position:"right",delay:200,children:e.jsx(Re,{to:i.to,end:i.exact,className:({isActive:d})=>`flex items-center justify-center w-full h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                         ${d?"bg-primary-500/20 dark:bg-primary-500/30 text-primary-600 dark:text-primary-300 font-semibold scale-105":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground hover:scale-105"}`,children:e.jsx(c,{size:22,className:"relative z-10"})})}):e.jsx(Re,{to:i.to,end:i.exact,className:({isActive:d})=>`flex items-center px-4 py-2.5 h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                       ${d?"bg-primary-500/15 dark:bg-primary-500/25 text-primary-600 dark:text-primary-300 font-semibold":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground"}`,children:({isActive:d})=>e.jsxs(e.Fragment,{children:[d&&e.jsx("div",{className:"absolute left-0 top-1 bottom-1 w-1.5 bg-primary-500 rounded-r-full animate-slideInLeft"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/0 group-hover:from-white/30 group-hover:via-white/15 group-hover:to-white/5 dark:group-hover:from-white/10 dark:group-hover:via-white/5 dark:group-hover:to-white/2 rounded-xl transition-all duration-500"}),e.jsx(c,{size:20,className:`transition-all duration-500 mr-3 ${d?"text-primary-500":"text-foreground/70 group-hover:text-foreground"}`}),e.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:i.label})]})})},i.to)})]}),e.jsxs("div",{className:"space-y-2",children:[!t&&e.jsx("div",{className:"px-3 py-1",children:e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"内容市场"})}),l.map((i,o)=>{const c=i.icon;return e.jsx("li",{className:"list-none relative",style:{animationDelay:`${(a.length+n.length+o)*40}ms`,animation:"fadeInUp 0.5s cubic-bezier(0.4,0,0.2,1) backwards"},children:t?e.jsx(Ze,{content:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:i.label}),i.description&&e.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-[200px]",children:i.description})]}),position:"right",delay:200,children:e.jsx(Re,{to:i.to,end:i.exact,className:({isActive:d})=>`flex items-center justify-center w-full h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                         ${d?"bg-primary-500/20 dark:bg-primary-500/30 text-primary-600 dark:text-primary-300 font-semibold scale-105":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground hover:scale-105"}`,children:e.jsx(c,{size:22,className:"relative z-10"})})}):e.jsx(Re,{to:i.to,end:i.exact,className:({isActive:d})=>`flex items-center px-4 py-2.5 h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                       ${d?"bg-primary-500/15 dark:bg-primary-500/25 text-primary-600 dark:text-primary-300 font-semibold":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground"}`,children:({isActive:d})=>e.jsxs(e.Fragment,{children:[d&&e.jsx("div",{className:"absolute left-0 top-1 bottom-1 w-1.5 bg-primary-500 rounded-r-full animate-slideInLeft"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/0 group-hover:from-white/30 group-hover:via-white/15 group-hover:to-white/5 dark:group-hover:from-white/10 dark:group-hover:via-white/5 dark:group-hover:to-white/2 rounded-xl transition-all duration-500"}),e.jsx(c,{size:20,className:`transition-all duration-500 mr-3 ${d?"text-primary-500":"text-foreground/70 group-hover:text-foreground"}`}),e.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:i.label})]})})},i.to)})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("li",{className:"list-none relative",children:t?e.jsx(Ze,{content:"系统设置",position:"right",delay:200,children:e.jsx(Re,{to:"/app/settings",className:({isActive:i})=>`flex items-center justify-center w-full h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                     ${i?"bg-primary-500/20 dark:bg-primary-500/30 text-primary-600 dark:text-primary-300 font-semibold scale-105":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground hover:scale-105"}`,children:e.jsx(Pt,{size:22,className:"relative z-10"})})}):e.jsx(Re,{to:"/app/settings",className:({isActive:i})=>`flex items-center px-4 py-2.5 h-11 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.4,0,0.2,1)] group focus-ring relative overflow-hidden
                   ${i?"bg-primary-500/15 dark:bg-primary-500/25 text-primary-600 dark:text-primary-300 font-semibold":"text-foreground/70 dark:text-foreground/80 hover:bg-white/60 dark:hover:bg-white/5 hover:text-foreground dark:hover:text-foreground"}`,children:({isActive:i})=>e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"absolute left-0 top-1 bottom-1 w-1.5 bg-primary-500 rounded-r-full animate-slideInLeft"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/0 via-white/0 to-white/0 group-hover:from-white/30 group-hover:via-white/15 group-hover:to-white/5 dark:group-hover:from-white/10 dark:group-hover:via-white/5 dark:group-hover:to-white/2 rounded-xl transition-all duration-500"}),e.jsx(Pt,{size:20,className:`transition-all duration-500 mr-3 ${i?"text-primary-500":"text-foreground/70 group-hover:text-foreground"}`}),e.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:"系统设置"})]})})})})]}),e.jsx("div",{className:"border-t border-border flex-shrink-0 mt-auto",children:e.jsx("div",{className:`p-3 ${t?"px-2":"px-4"}`,children:e.jsx(Ze,{content:t?"退出登录":void 0,position:"right",delay:200,disabled:!t,children:e.jsxs("button",{onClick:()=>r("/login"),className:`flex items-center w-full ${t?"justify-center":"px-4"} py-2.5 rounded-xl text-red-500 hover:bg-red-500/10 dark:hover:bg-red-500/20 group transition-all duration-300 ease-out focus-ring`,children:[e.jsx(Io,{size:t?20:18,className:`transition-all duration-300 flex-shrink-0 ${t?"":"mr-3"} group-hover:text-red-600 dark:group-hover:text-red-400`}),!t&&e.jsx("span",{className:"text-sm font-medium transition-all duration-300",children:"退出登录"})]})})})})]})},wl=()=>{const t=$e(),{theme:s,setThemeSetting:r,currentThemeSetting:a}=fr(),n=m=>{const x={"/app":"控制台","/app/data":"数据管理","/app/templates":"模板管理","/app/generate":"生成文档","/app/documents":"文档管理","/app/market":"内容市场","/app/market/publish":"发布内容","/app/market/profile":"我的市场","/app/market/ranking":"排行榜","/app/settings":"系统设置","/app/profile":"个人资料"};if(x[m])return x[m];if(m.startsWith("/app/market/templates/"))return"模板详情";if(m.startsWith("/app/market/documents/"))return"文档详情";const g=m.split("/").filter(Boolean);return g.length>1?x[`/${g[g.length-1]}`]||"文管家":x[m]||"文管家"},l=()=>{const m=t.pathname.split("/").filter(Boolean),x=[{label:"控制台",path:"/app"}];if(m.length>1&&m[1]==="app"&&m.length>2){const g=`/${m.join("/")}`,j=n(g);j!=="控制台"&&x.push({label:j,path:g})}else if(m.length===1&&m[0]==="app")return[];return x},i=()=>{r(a==="light"?"dark":a==="dark"?"system":"light")},o=()=>a==="light"?e.jsx(rs,{size:20}):a==="dark"?e.jsx(as,{size:20}):s==="dark"?e.jsx(as,{size:20}):e.jsx(rs,{size:20}),c=()=>a==="light"?"切换到深色模式":a==="dark"?"切换到系统默认":"切换到浅色模式",d=l(),u=n(t.pathname);return e.jsxs("header",{className:"bg-background text-foreground border-b border-border py-3 px-4 md:px-6 flex items-center justify-between z-20 relative shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(V,{to:"/app",className:"flex items-center text-muted-foreground hover:text-foreground transition-colors flex-shrink-0",title:"返回控制台",children:e.jsx(Lo,{size:18})}),d.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(dt,{size:16,className:"text-muted-foreground flex-shrink-0"}),e.jsx("nav",{className:"flex items-center gap-2 text-sm min-w-0",children:d.map((m,x)=>e.jsxs(fe.Fragment,{children:[x>0&&e.jsx(dt,{size:14,className:"text-muted-foreground flex-shrink-0"}),x===d.length-1?e.jsx("span",{className:"font-semibold text-foreground truncate",children:m.label}):e.jsx(V,{to:m.path,className:"text-muted-foreground hover:text-foreground transition-colors truncate",children:m.label})]},m.path))})]}),d.length===1&&e.jsx("h1",{className:"text-lg font-semibold text-foreground truncate",children:u})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Oe,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{type:"text",placeholder:"搜索模板、文档...",className:"input-primary block w-64 pl-10 pr-4 py-2 text-sm"})]}),e.jsx("button",{onClick:i,className:"p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-background dark:hover:bg-white/5 transition-colors focus-ring",title:c(),children:o()}),e.jsxs("button",{className:"p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-background dark:hover:bg-white/5 relative transition-colors focus-ring",title:"通知",children:[e.jsx(In,{size:20}),e.jsx("span",{className:"absolute top-1.5 right-1.5 bg-red-500 rounded-full w-2 h-2 border-2 border-background"})]}),e.jsxs(V,{to:"/app/profile",className:"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-background dark:hover:bg-white/5 transition-colors group cursor-pointer",title:"个人资料",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-800 flex items-center justify-center text-primary-600 dark:text-primary-200 text-sm font-semibold flex-shrink-0",children:"管"}),e.jsxs("div",{className:"hidden lg:block min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-foreground truncate group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:"管理员"}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:"admin@example.com"})]})]})]})]})},kl=()=>e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsx(Nl,{}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsx(wl,{}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-5 lg:p-6 bg-background scroll-smooth",children:e.jsx(En,{})})]})]}),Tl=()=>{const{isAuthenticated:t,user:s}=Zt(),{theme:r,setThemeSetting:a}=fr(),n=$e(),[l,i]=h.useState(!1),[o,c]=h.useState(!0),[d,u]=h.useState(!1),m=[{id:"hr",name:"人力资源",icon:de},{id:"legal",name:"法律合同",icon:dr},{id:"sales",name:"销售营销",icon:he},{id:"finance",name:"财务会计",icon:De},{id:"it",name:"IT技术",icon:cr},{id:"realestate",name:"房地产",icon:mr},{id:"education",name:"教育培训",icon:ur},{id:"service",name:"客户服务",icon:xr}],x=()=>{a(r==="dark"?"light":"dark")},g=n.pathname==="/",j=n.pathname==="/search";return h.useEffect(()=>{let y=0;const T=()=>{const p=window.scrollY;p>y&&p>80?c(!1):p<y&&c(!0),y=p};return window.addEventListener("scroll",T,{passive:!0}),()=>{window.removeEventListener("scroll",T)}},[]),e.jsxs("div",{className:"bg-background",children:[e.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 ${g||j?"bg-background/80 backdrop-blur-sm":"bg-card border-b border-border shadow-sm"}`,style:{transform:o?"translateY(0)":"translateY(-100%)",transition:"transform 0.3s ease-in-out"},children:[e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(V,{to:"/",className:"flex items-center space-x-2",children:e.jsx("div",{className:`font-bold text-primary-600 dark:text-primary-400 ${g||j?"text-xl":"text-2xl"}`,children:"文管家"})}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[e.jsxs(V,{to:"/templates",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${n.pathname.startsWith("/templates")||n.pathname.startsWith("/documents")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[e.jsx(Xr,{size:18}),e.jsx("span",{children:"模板市场"})]}),e.jsxs(V,{to:"/cases",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${n.pathname.startsWith("/cases")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[e.jsx(ct,{size:18}),e.jsx("span",{children:"案例库"})]}),e.jsxs(V,{to:"/ai",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${n.pathname.startsWith("/ai")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[e.jsx(kt,{size:18}),e.jsx("span",{children:"AI助手"})]}),e.jsxs(V,{to:"/discover",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-2 ${n.pathname.startsWith("/discover")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[e.jsx(Q,{size:18}),e.jsx("span",{children:"发现"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!d),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-1 text-foreground hover:bg-accent hover:text-accent-foreground",children:[e.jsx("span",{children:"行业"}),e.jsx(Vo,{size:16,className:`transition-transform ${d?"rotate-180":""}`})]}),d&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-card border border-border rounded-lg shadow-lg py-2 z-50",onMouseLeave:()=>u(!1),children:m.map(y=>{const T=y.icon;return e.jsxs(V,{to:`/templates?industry=${y.id}`,onClick:()=>u(!1),className:"flex items-center space-x-3 px-4 py-2.5 text-sm text-foreground hover:bg-accent transition-colors",children:[e.jsx(T,{size:18}),e.jsx("span",{children:y.name})]},y.id)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:x,className:"p-2 rounded-md text-foreground hover:bg-accent transition-colors","aria-label":"切换主题",children:r==="dark"?e.jsx(rs,{size:20}):e.jsx(as,{size:20})}),t?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{to:"/app",className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium bg-primary-600 text-white hover:bg-primary-700 transition-colors shadow-sm",children:[e.jsx(Vs,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"工作台"})]}),!g&&!j&&e.jsx(V,{to:"/publish",className:"hidden md:inline-flex items-center px-3 py-1.5 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"发布内容"}),e.jsxs(V,{to:"/profile",className:"flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium hover:bg-accent transition-colors",children:[s!=null&&s.avatar?e.jsx("img",{src:s.avatar,alt:s.username,className:"w-6 h-6 rounded-full"}):e.jsx(Qe,{size:18}),e.jsx("span",{className:"hidden sm:inline text-foreground",children:(s==null?void 0:s.username)||"我的"})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(V,{to:"/login",className:"flex items-center space-x-1 px-4 py-2 text-sm font-medium text-foreground hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[e.jsx(Bs,{size:18}),e.jsx("span",{children:"登录"})]}),e.jsx(V,{to:"/register",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-md transition-colors",children:"注册"})]}),e.jsx("button",{onClick:()=>i(!l),className:"md:hidden p-2 rounded-md text-foreground hover:bg-accent transition-colors","aria-label":"菜单",children:l?e.jsx(ze,{size:20}):e.jsx(Fo,{size:20})})]})]})}),l&&e.jsx("div",{className:"md:hidden border-t border-border bg-card",children:e.jsxs("nav",{className:"px-4 py-2 space-y-1",children:[t&&e.jsxs(V,{to:"/app",onClick:()=>i(!1),className:"flex items-center gap-2 px-3 py-2.5 mb-2 rounded-md text-sm font-medium bg-primary-500/10 text-primary-600 dark:text-primary-400 border border-primary-500/20",children:[e.jsx(Vs,{size:18}),e.jsx("span",{children:"返回工作台"})]}),e.jsxs(V,{to:"/templates",onClick:()=>i(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname.startsWith("/templates")||n.pathname.startsWith("/documents")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent"}`,children:[e.jsx(Xr,{size:18}),e.jsx("span",{children:"模板市场"})]}),e.jsxs(V,{to:"/cases",onClick:()=>i(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname.startsWith("/cases")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent"}`,children:[e.jsx(ct,{size:18}),e.jsx("span",{children:"案例库"})]}),e.jsxs(V,{to:"/ai",onClick:()=>i(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname.startsWith("/ai")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent"}`,children:[e.jsx(kt,{size:18}),e.jsx("span",{children:"AI助手"})]}),e.jsxs(V,{to:"/discover",onClick:()=>i(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${n.pathname.startsWith("/discover")?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-foreground hover:bg-accent"}`,children:[e.jsx(Q,{size:18}),e.jsx("span",{children:"发现"})]}),e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase",children:"行业分类"}),m.slice(0,6).map(y=>{const T=y.icon;return e.jsxs(V,{to:`/templates?industry=${y.id}`,onClick:()=>i(!1),className:"flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium text-foreground hover:bg-accent",children:[e.jsx(T,{size:18}),e.jsx("span",{children:y.name})]},y.id)}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-2 border-t border-border"}),e.jsx(V,{to:"/publish",onClick:()=>i(!1),className:"block px-3 py-2 rounded-md text-sm font-medium text-foreground hover:bg-accent",children:"发布内容"}),e.jsx(V,{to:"/profile",onClick:()=>i(!1),className:"block px-3 py-2 rounded-md text-sm font-medium text-foreground hover:bg-accent",children:"我的中心"})]})]})})]}),e.jsx("main",{className:g||j?"pt-16":"pt-20 container mx-auto px-4 sm:px-6 lg:px-8 pb-6",children:e.jsx(En,{})}),e.jsx("footer",{className:`border-t border-border bg-card ${g||j?"mt-8":"mt-12"}`,children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"文管家"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"智能文档管理系统，让文档生成更高效"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"核心功能"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx(V,{to:"/templates",className:"hover:text-foreground",children:"模板市场"})}),e.jsx("li",{children:e.jsx(V,{to:"/cases",className:"hover:text-foreground",children:"案例库"})}),e.jsx("li",{children:e.jsx(V,{to:"/ai",className:"hover:text-foreground",children:"AI助手"})}),e.jsx("li",{children:e.jsx(V,{to:"/discover",className:"hover:text-foreground",children:"发现"})}),e.jsx("li",{children:e.jsx(V,{to:"/ranking",className:"hover:text-foreground",children:"排行榜"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"热门行业"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx(V,{to:"/templates?industry=hr",className:"hover:text-foreground",children:"人力资源"})}),e.jsx("li",{children:e.jsx(V,{to:"/templates?industry=legal",className:"hover:text-foreground",children:"法律合同"})}),e.jsx("li",{children:e.jsx(V,{to:"/templates?industry=sales",className:"hover:text-foreground",children:"销售营销"})}),e.jsx("li",{children:e.jsx(V,{to:"/templates?industry=finance",className:"hover:text-foreground",children:"财务会计"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"关于"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:e.jsx(V,{to:"/about",className:"hover:text-foreground",children:"关于我们"})}),e.jsx("li",{children:e.jsx(V,{to:"/about#contact",className:"hover:text-foreground",children:"联系我们"})}),e.jsx("li",{children:e.jsx(V,{to:"/about#faq",className:"hover:text-foreground",children:"常见问题"})}),e.jsx("li",{children:e.jsx(V,{to:"/about#privacy",className:"hover:text-foreground",children:"隐私政策"})})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"© 2024 文管家. All rights reserved."})})]})})]})},Sl=({title:t,value:s,icon:r,change:a,iconClassName:n="text-primary-600 dark:text-primary-400"})=>{const l=a==null?void 0:a.startsWith("+"),i=a==null?void 0:a.startsWith("-");return e.jsx("div",{className:`bg-card text-card-foreground rounded-xl border border-border p-4 \r
                    transition-all duration-300 hover:shadow-lg focus-within:ring-2 focus-within:ring-ring focus-within:border-primary-500 card-hover`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground capitalize",children:t}),e.jsx("h3",{className:"text-3xl font-bold text-foreground mt-1 truncate",title:s,children:s}),a&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${l?"text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-500/20":i?"text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-500/20":"text-muted-foreground bg-gray-100 dark:bg-gray-700"}`,children:a})})]}),e.jsx("div",{className:"p-2.5 rounded-lg bg-background ml-3",children:fe.cloneElement(r,{className:`w-5 h-5 ${n}`,strokeWidth:2})})]})})},Cl=()=>{const t=[{id:1,action:"创建了新模板",target:"员工合同模板",time:"10分钟前",icon:e.jsx($,{strokeWidth:1.5}),iconClassName:"text-blue-500 dark:text-blue-400"},{id:2,action:"批量生成了文档",target:"15份员工合同",time:"1小时前",icon:e.jsx(ss,{strokeWidth:1.5}),iconClassName:"text-green-500 dark:text-green-400"},{id:3,action:"上传了新数据",target:"员工信息表.xlsx",time:"2小时前",icon:e.jsx(mt,{strokeWidth:1.5}),iconClassName:"text-purple-500 dark:text-purple-400"},{id:4,action:"下载了文档",target:"员工合同-张三.docx",time:"3小时前",icon:e.jsx(W,{strokeWidth:1.5}),iconClassName:"text-orange-500 dark:text-orange-400"},{id:5,action:"修改了模板",target:"项目合同模板",time:"1天前",icon:e.jsx($,{strokeWidth:1.5}),iconClassName:"text-blue-500 dark:text-blue-400"}];return e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"px-4 py-3 border-b border-border",children:e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"最近活动"})}),e.jsx("div",{className:"p-3 md:p-4 flex-grow overflow-y-auto scrollbar-thin",children:e.jsxs("div",{className:"relative space-y-3",children:[t.length>1&&e.jsx("div",{className:"absolute top-4 bottom-4 left-[1.125rem] w-0.5 bg-border -z-0"}),t.map(s=>e.jsxs("div",{className:"flex items-start z-10 relative",children:[e.jsx("div",{className:`w-9 h-9 rounded-full bg-background flex items-center justify-center 
                            border-2 border-card shadow-sm`,children:fe.cloneElement(s.icon,{size:16,className:`${s.iconClassName||"text-muted-foreground"}`})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-foreground",children:s.action}),s.target&&e.jsxs("span",{className:"text-muted-foreground",children:[": ",e.jsx("a",{href:"#",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:s.target})]})]}),e.jsxs("div",{className:"mt-0.5 flex items-center text-xs text-muted-foreground",children:[e.jsx(Ln,{size:13,className:"mr-1.5 flex-shrink-0"}),s.time]})]})]},s.id))]})})]})},Al=()=>{const t=[{title:"新建模板",description:"创建新的文档模板",icon:e.jsx($,{size:22,strokeWidth:1.5}),path:"/templates",iconClassName:"text-blue-600 dark:text-blue-400"},{title:"批量生成",description:"从Excel数据批量生成文档",icon:e.jsx(ss,{size:22,strokeWidth:1.5}),path:"/generate",iconClassName:"text-green-600 dark:text-green-400"},{title:"上传数据",description:"上传Excel数据文件",icon:e.jsx(mt,{size:22,strokeWidth:1.5}),path:"/generate",iconClassName:"text-purple-600 dark:text-purple-400"},{title:"系统设置",description:"配置系统参数",icon:e.jsx(Pt,{size:22,strokeWidth:1.5}),path:"/settings",iconClassName:"text-orange-600 dark:text-orange-400"}];return e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"px-4 py-3 border-b border-border",children:e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"快速操作"})}),e.jsx("div",{className:"p-3 md:p-4 flex-grow",children:e.jsx("div",{className:"space-y-2",children:t.map((s,r)=>e.jsxs(V,{to:s.path,className:"flex items-start p-2.5 rounded-lg hover:bg-background dark:hover:bg-white/5 focus-ring transition-all duration-200 group",children:[e.jsx("div",{className:"p-2 rounded-lg bg-background dark:bg-slate-700 mr-3 flex-shrink-0",children:fe.cloneElement(s.icon,{className:`w-5 h-5 ${s.iconClassName||"text-primary-600 dark:text-primary-400"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-foreground group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors text-sm truncate",title:s.title,children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",title:s.description,children:s.description})]})]},r))})})]})},Dl=[{title:"模板总数",value:"24",icon:e.jsx($,{}),change:"+3",iconClassName:"text-blue-600 dark:text-blue-400"},{title:"已生成文档",value:"187",icon:e.jsx($,{}),change:"+12",iconClassName:"text-green-600 dark:text-green-400"},{title:"本月生成",value:"43",icon:e.jsx($,{}),change:"+8",iconClassName:"text-purple-600 dark:text-purple-400"},{title:"平均生成时间",value:"1.2s",icon:e.jsx($,{}),change:"-0.3s",iconClassName:"text-orange-600 dark:text-orange-400"}],zl=[{id:1,name:"员工合同模板",category:"合同",lastUsed:"2天前",description:"用于生成标准员工合同"},{id:2,name:"项目合作协议",category:"协议",lastUsed:"5天前",description:"客户项目外包通用协议"},{id:3,name:"销售报价单",category:"销售",lastUsed:"1周前",description:"产品或服务销售报价标准格式"},{id:4,name:"保密协议 (NDA)",category:"法律",lastUsed:"3天前",description:"双方信息保密通用条款"}],Pl=t=>{let s=0;for(let a=0;a<t.length;a++)s=t.charCodeAt(a)+((s<<5)-s);const r=["bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300","bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-300","bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-300","bg-yellow-100 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-300","bg-pink-100 text-pink-700 dark:bg-pink-500/20 dark:text-pink-300","bg-purple-100 text-purple-700 dark:bg-purple-500/20 dark:text-purple-300","bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-300","bg-cyan-100 text-cyan-700 dark:bg-cyan-500/20 dark:text-cyan-300","bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"];return r[Math.abs(s)%r.length]},El=()=>e.jsxs("div",{className:"space-y-4 lg:space-y-5 page-wrapper",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:Dl.map((t,s)=>e.jsx("div",{className:"stagger-item",style:{animationDelay:`${s*100}ms`},children:e.jsx(Sl,{title:t.title,value:t.value,icon:t.icon,change:t.change,iconClassName:t.iconClassName})},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Al,{})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Cl,{})})]}),e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 md:px-5 border-b border-border flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"最近使用的模板"}),e.jsxs("a",{href:"/templates",className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 flex items-center transition-colors group focus-ring rounded-md px-2 py-1",children:["查看全部",e.jsx(dt,{size:18,className:"ml-1 group-hover:translate-x-0.5 transition-transform"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-4 p-3 md:p-4",children:zl.map((t,s)=>e.jsxs("div",{className:`bg-card rounded-lg shadow-sm border border-border \r
                         hover:shadow-lg hover:border-primary-500/50 dark:hover:border-primary-500/70\r
                         p-3 flex flex-col group transition-all duration-300 cursor-pointer focus-within:ring-2 focus-within:ring-ring card-hover stagger-item`,style:{animationDelay:`${s*50}ms`},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-primary-50 dark:bg-primary-500/10 group-hover:bg-primary-100 dark:group-hover:bg-primary-500/20 transition-colors",children:e.jsx($,{className:"text-primary-500 dark:text-primary-400 group-hover:text-primary-600 dark:group-hover:text-primary-300 transition-colors",size:20})}),e.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-foreground transition-colors",children:t.lastUsed})]}),e.jsx("h4",{className:"text-base font-semibold text-foreground mb-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors truncate",title:t.name,children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 leading-relaxed flex-grow line-clamp-2",title:t.description,children:t.description}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border mt-auto",children:[e.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${Pl(t.category)}`,children:t.category}),e.jsx("button",{className:`p-1.5 rounded-full text-muted-foreground hover:bg-background dark:hover:bg-white/10 hover:text-primary-600 dark:hover:text-primary-300 \r
                             focus-ring transition-all`,"aria-label":"Use template",title:"使用模板",children:e.jsx(rt,{size:16})})]})]},t.id))})]})]}),ra=[{id:"ds-001",name:"员工信息表",type:"excel",description:"从Excel导入的员工基本信息",status:"connected",lastSyncAt:"2024-01-15T10:30:00Z",recordCount:156,createdAt:"2024-01-10T08:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"ds-002",name:"客户数据库",type:"database",description:"MySQL客户信息数据库",status:"connected",connectionConfig:{host:"192.168.1.100",port:3306,database:"customer_db",username:"admin",table:"customers"},lastSyncAt:"2024-01-15T09:15:00Z",recordCount:2340,createdAt:"2024-01-08T10:00:00Z",updatedAt:"2024-01-15T09:15:00Z"},{id:"ds-003",name:"产品信息API",type:"api",description:"通过REST API获取产品信息",status:"connected",connectionConfig:{url:"https://api.example.com/products",method:"GET"},lastSyncAt:"2024-01-15T11:00:00Z",recordCount:890,createdAt:"2024-01-12T14:00:00Z",updatedAt:"2024-01-15T11:00:00Z"},{id:"ds-004",name:"合同数据",type:"csv",description:"从CSV文件导入的合同数据",status:"disconnected",lastSyncAt:"2024-01-14T16:20:00Z",recordCount:45,createdAt:"2024-01-13T09:00:00Z",updatedAt:"2024-01-14T16:20:00Z"},{id:"ds-005",name:"手动录入数据",type:"manual",description:"手动创建和编辑的数据集合",status:"connected",recordCount:23,createdAt:"2024-01-11T11:00:00Z",updatedAt:"2024-01-15T08:30:00Z"}],aa=[{id:"dc-001",name:"员工信息集合",description:"包含员工基本信息的完整数据集合",dataSourceId:"ds-001",category:"人力资源",tags:["员工","HR","基本信息"],isFavorite:!0,fields:[{name:"name",type:"string",required:!0,description:"员工姓名"},{name:"employeeId",type:"string",required:!0,description:"工号"},{name:"department",type:"string",required:!0,description:"部门"},{name:"position",type:"string",required:!0,description:"职位"},{name:"email",type:"email",required:!0,description:"邮箱"},{name:"phone",type:"phone",required:!1,description:"电话"},{name:"joinDate",type:"date",required:!0,description:"入职日期"},{name:"salary",type:"number",required:!1,description:"薪资"}],records:[{id:"r-001",name:"张三",employeeId:"E001",department:"技术部",position:"高级工程师",email:"zhangsan@example.com",phone:"13800138001",joinDate:"2023-01-15",salary:15e3},{id:"r-002",name:"李四",employeeId:"E002",department:"产品部",position:"产品经理",email:"lisi@example.com",phone:"13800138002",joinDate:"2023-03-20",salary:18e3},{id:"r-003",name:"王五",employeeId:"E003",department:"设计部",position:"UI设计师",email:"wangwu@example.com",phone:"13800138003",joinDate:"2023-05-10",salary:12e3}],createdAt:"2024-01-10T08:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"dc-002",name:"客户信息集合",description:"客户基本信息和联系方式",dataSourceId:"ds-002",category:"销售",tags:["客户","销售","CRM"],isFavorite:!0,fields:[{name:"companyName",type:"string",required:!0,description:"公司名称"},{name:"contactName",type:"string",required:!0,description:"联系人"},{name:"email",type:"email",required:!0,description:"邮箱"},{name:"phone",type:"phone",required:!0,description:"电话"},{name:"address",type:"string",required:!1,description:"地址"},{name:"industry",type:"string",required:!1,description:"行业"},{name:"createDate",type:"date",required:!0,description:"创建日期"}],records:[{id:"r-004",companyName:"ABC科技有限公司",contactName:"赵六",email:"zhaoliu@abc.com",phone:"13900139001",address:"北京市朝阳区xxx",industry:"科技",createDate:"2023-06-01"},{id:"r-005",companyName:"XYZ贸易公司",contactName:"孙七",email:"sunqi@xyz.com",phone:"13900139002",address:"上海市浦东新区xxx",industry:"贸易",createDate:"2023-07-15"}],createdAt:"2024-01-08T10:00:00Z",updatedAt:"2024-01-15T09:15:00Z"},{id:"dc-003",name:"产品信息集合",description:"产品基本信息和规格",dataSourceId:"ds-003",category:"产品",tags:["产品","库存"],fields:[{name:"productName",type:"string",required:!0,description:"产品名称"},{name:"productCode",type:"string",required:!0,description:"产品编码"},{name:"price",type:"number",required:!0,description:"价格"},{name:"stock",type:"number",required:!0,description:"库存"},{name:"category",type:"string",required:!1,description:"分类"}],records:[{id:"r-006",productName:"笔记本电脑",productCode:"P001",price:5999,stock:50,category:"电子产品"},{id:"r-007",productName:"无线鼠标",productCode:"P002",price:99,stock:200,category:"电子产品"}],createdAt:"2024-01-12T14:00:00Z",updatedAt:"2024-01-15T11:00:00Z"}],na=[{id:"mt-001",name:"员工劳动合同（标准版）",description:"符合劳动法规定的标准员工劳动合同模板，包含完整的条款和条件，适用于各类企业。",category:"人力资源",tags:["合同","HR","劳动法","标准"],author:{id:"user-001",name:"法务专家",level:"expert",verified:!0},price:{type:"free"},stats:{views:12580,uses:3420,favorites:890,downloads:2100,rating:4.8,ratingCount:456},preview:{content:"标准员工劳动合同，包含基本信息、工作内容、薪酬待遇、工作时间、保密条款等完整内容。"},placeholders:["companyName","employeeName","position","salary","startDate"],version:"2.1",status:"published",featured:!0,official:!0,createdAt:"2024-01-10T08:00:00Z",updatedAt:"2024-01-20T10:00:00Z",publishedAt:"2024-01-15T09:00:00Z"},{id:"mt-002",name:"保密协议（NDA）专业版",description:"专业的保密协议模板，适用于技术合作、商业谈判等场景，条款完善，保护双方权益。",category:"法律",tags:["保密","NDA","法律","专业"],author:{id:"user-002",name:"法律顾问",level:"master",verified:!0},price:{type:"paid",points:50},stats:{views:8920,uses:1560,favorites:420,downloads:890,rating:4.9,ratingCount:234},preview:{content:"专业保密协议，包含保密范围、保密期限、违约责任、争议解决等完整条款。"},placeholders:["partyOne","partyTwo","confidentialInfo","period"],version:"1.5",status:"published",featured:!0,official:!1,createdAt:"2024-01-05T10:00:00Z",updatedAt:"2024-01-18T14:00:00Z",publishedAt:"2024-01-08T11:00:00Z"},{id:"mt-003",name:"销售合同模板（通用版）",description:"适用于各类产品销售的标准合同模板，包含价格、交付、付款等核心条款。",category:"销售",tags:["销售","合同","通用","商业"],author:{id:"user-003",name:"销售达人",level:"advanced",verified:!1},price:{type:"free"},stats:{views:6780,uses:1890,favorites:320,downloads:1200,rating:4.6,ratingCount:189},preview:{content:"通用销售合同模板，适用于各类产品销售场景，条款清晰，易于使用。"},placeholders:["seller","buyer","product","price","delivery"],version:"1.0",status:"published",featured:!1,official:!1,createdAt:"2024-01-12T09:00:00Z",updatedAt:"2024-01-12T09:00:00Z",publishedAt:"2024-01-12T10:00:00Z"},{id:"mt-004",name:"项目合作协议（IT外包）",description:"专门针对IT项目外包的合作协议模板，包含技术规范、交付标准、知识产权等专业条款。",category:"IT",tags:["IT","外包","项目","技术"],author:{id:"user-004",name:"IT项目经理",level:"expert",verified:!0},price:{type:"paid",points:80},stats:{views:5420,uses:890,favorites:210,downloads:560,rating:4.7,ratingCount:145},preview:{content:"IT项目外包协议，包含技术规范、交付标准、验收标准、知识产权归属等专业条款。"},placeholders:["client","vendor","project","techSpec","deliverables"],version:"2.0",status:"published",featured:!1,official:!1,createdAt:"2024-01-08T11:00:00Z",updatedAt:"2024-01-15T16:00:00Z",publishedAt:"2024-01-10T12:00:00Z"},{id:"mt-005",name:"租赁合同模板（房屋）",description:"标准房屋租赁合同模板，符合相关法律法规，适用于个人和商业租赁。",category:"房地产",tags:["租赁","房屋","房地产","标准"],author:{id:"user-005",name:"房产专家",level:"intermediate",verified:!1},price:{type:"free"},stats:{views:4560,uses:1200,favorites:180,downloads:890,rating:4.5,ratingCount:98},preview:{content:"标准房屋租赁合同，包含租赁期限、租金、押金、维修责任等完整条款。"},placeholders:["landlord","tenant","property","rent","deposit"],version:"1.2",status:"published",featured:!1,official:!1,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T11:00:00Z",publishedAt:"2024-01-16T09:00:00Z"},{id:"mt-006",name:"服务协议模板（咨询）",description:"适用于咨询服务、培训服务等场景的服务协议模板。",category:"服务",tags:["服务","咨询","培训","协议"],author:{id:"user-006",name:"服务顾问",level:"beginner",verified:!1},price:{type:"free"},stats:{views:2340,uses:560,favorites:90,downloads:320,rating:4.3,ratingCount:67},preview:{content:"服务协议模板，适用于各类咨询服务场景，条款清晰，易于使用。"},placeholders:["serviceProvider","client","service","fee","duration"],version:"1.0",status:"published",featured:!1,official:!1,createdAt:"2024-01-18T14:00:00Z",updatedAt:"2024-01-18T14:00:00Z",publishedAt:"2024-01-19T10:00:00Z"},{id:"mt-007",name:"项目计划书（标准版）",description:"适用于各类项目的完整计划书模板，包含项目目标、时间表、资源分配等。",category:"IT",tags:["项目管理","计划书","时间表","IT"],author:{id:"user-007",name:"项目经理",level:"intermediate",verified:!0},price:{type:"paid",points:100},stats:{views:8900,uses:2100,favorites:450,downloads:1890,rating:4.8,ratingCount:245},preview:{content:"专业项目计划书模板，帮助你快速编制项目计划，提高项目管理效率。"},placeholders:["projectName","manager","startDate","endDate","budget"],version:"2.0",status:"published",featured:!0,official:!1,createdAt:"2024-01-20T09:00:00Z",updatedAt:"2024-01-25T10:00:00Z",publishedAt:"2024-01-21T08:00:00Z"},{id:"mt-008",name:"绩效考核表（通用）",description:"适用于各类岗位的员工绩效考核表模板，包含多维度评价指标。",category:"人力资源",tags:["绩效","考核","评价","HR"],author:{id:"user-001",name:"HR专家",level:"expert",verified:!0},price:{type:"free"},stats:{views:12500,uses:3400,favorites:890,downloads:2890,rating:4.9,ratingCount:456},preview:{content:"全面的绩效考核表模板，帮助企业科学评估员工表现。"},placeholders:["employeeName","department","period","evaluator"],version:"1.5",status:"published",featured:!0,official:!0,createdAt:"2024-01-10T08:00:00Z",updatedAt:"2024-01-28T09:00:00Z",publishedAt:"2024-01-11T07:00:00Z"},{id:"mt-009",name:"保密协议（企业版）",description:"适用于企业员工、合作伙伴的保密协议模板，保护企业商业机密。",category:"法律",tags:["保密","协议","法律","知识产权"],author:{id:"user-002",name:"法律顾问张律师",level:"expert",verified:!0},price:{type:"paid",points:80},stats:{views:7800,uses:1890,favorites:320,downloads:1450,rating:4.7,ratingCount:178},preview:{content:"专业保密协议模板，确保企业信息安全，具有法律效力。"},placeholders:["company","party","confidentialInfo","period"],version:"1.3",status:"published",featured:!1,official:!1,createdAt:"2024-01-22T10:00:00Z",updatedAt:"2024-01-26T11:00:00Z",publishedAt:"2024-01-23T09:00:00Z"},{id:"mt-010",name:"销售提案模板（商务）",description:"专业的销售提案模板，帮助销售团队快速制作高质量商务提案。",category:"销售",tags:["销售","提案","商务","客户"],author:{id:"user-003",name:"销售总监",level:"advanced",verified:!0},price:{type:"paid",points:120},stats:{views:9600,uses:2340,favorites:560,downloads:1980,rating:4.8,ratingCount:298},preview:{content:"高转化率销售提案模板，提升客户成交率。"},placeholders:["client","product","price","benefits","timeline"],version:"2.1",status:"published",featured:!0,official:!1,createdAt:"2024-01-15T14:00:00Z",updatedAt:"2024-01-30T15:00:00Z",publishedAt:"2024-01-16T13:00:00Z"},{id:"mt-011",name:"请假申请单",description:"简单实用的员工请假申请单模板，支持各类请假类型。",category:"人力资源",tags:["请假","申请","考勤","HR"],author:{id:"user-001",name:"HR专家",level:"expert",verified:!0},price:{type:"free"},stats:{views:15600,uses:5600,favorites:1200,downloads:4890,rating:4.6,ratingCount:678},preview:{content:"标准请假申请单，流程清晰，便于审批管理。"},placeholders:["employeeName","leaveType","startDate","endDate","reason"],version:"1.0",status:"published",featured:!1,official:!0,createdAt:"2024-01-08T09:00:00Z",updatedAt:"2024-01-08T09:00:00Z",publishedAt:"2024-01-09T08:00:00Z"},{id:"mt-012",name:"会议记录模板",description:"规范的会议记录模板，帮助记录会议要点和行动项。",category:"IT",tags:["会议","记录","管理","协作"],author:{id:"user-008",name:"行政主管",level:"intermediate",verified:!1},price:{type:"free"},stats:{views:6700,uses:1890,favorites:340,downloads:1450,rating:4.5,ratingCount:156},preview:{content:"清晰的会议记录模板，提高会议效率。"},placeholders:["meetingTitle","date","attendees","topics","actions"],version:"1.1",status:"published",featured:!1,official:!1,createdAt:"2024-01-25T10:00:00Z",updatedAt:"2024-01-27T11:00:00Z",publishedAt:"2024-01-26T09:00:00Z"},{id:"mt-013",name:"财务报表（月度）",description:"标准月度财务报表模板，包含收入、支出、利润等关键指标。",category:"销售",tags:["财务","报表","会计","月报"],author:{id:"user-009",name:"财务总监",level:"expert",verified:!0},price:{type:"paid",points:150},stats:{views:8900,uses:2100,favorites:450,downloads:1780,rating:4.9,ratingCount:234},preview:{content:"专业财务报表模板，符合会计准则，便于分析决策。"},placeholders:["company","period","revenue","expenses","profit"],version:"2.0",status:"published",featured:!0,official:!1,createdAt:"2024-01-12T08:00:00Z",updatedAt:"2024-01-29T09:00:00Z",publishedAt:"2024-01-13T07:00:00Z"},{id:"mt-014",name:"商业计划书（创业版）",description:"适用于创业公司的完整商业计划书模板，帮助获得投资。",category:"销售",tags:["商业计划","创业","融资","投资"],author:{id:"user-010",name:"创业导师",level:"master",verified:!0},price:{type:"paid",points:200},stats:{views:11200,uses:1890,favorites:670,downloads:1560,rating:4.9,ratingCount:312},preview:{content:"获投资人青睐的商业计划书模板，结构完整，逻辑清晰。"},placeholders:["projectName","founder","market","product","financing"],version:"3.0",status:"published",featured:!0,official:!1,createdAt:"2024-01-05T09:00:00Z",updatedAt:"2024-01-31T10:00:00Z",publishedAt:"2024-01-06T08:00:00Z"},{id:"mt-015",name:"入职申请表",description:"新员工入职申请表模板，收集员工基本信息和入职资料。",category:"人力资源",tags:["入职","招聘","HR","员工"],author:{id:"user-001",name:"HR专家",level:"expert",verified:!0},price:{type:"free"},stats:{views:9800,uses:3200,favorites:560,downloads:2890,rating:4.7,ratingCount:345},preview:{content:"标准入职申请表，信息全面，便于新员工入职管理。"},placeholders:["name","position","department","startDate","education"],version:"1.2",status:"published",featured:!1,official:!0,createdAt:"2024-01-14T10:00:00Z",updatedAt:"2024-01-20T11:00:00Z",publishedAt:"2024-01-15T09:00:00Z"},{id:"mt-016",name:"培训计划方案",description:"员工培训计划方案模板，包含培训目标、内容、时间安排等。",category:"人力资源",tags:["培训","员工发展","HR","计划"],author:{id:"user-011",name:"培训经理",level:"advanced",verified:!0},price:{type:"paid",points:90},stats:{views:5600,uses:1340,favorites:280,downloads:1120,rating:4.6,ratingCount:167},preview:{content:"系统的培训计划方案，提升员工能力，助力企业发展。"},placeholders:["trainingName","target","content","schedule","budget"],version:"1.0",status:"published",featured:!1,official:!1,createdAt:"2024-01-28T14:00:00Z",updatedAt:"2024-01-28T14:00:00Z",publishedAt:"2024-01-29T13:00:00Z"},{id:"mt-017",name:"产品需求文档（PRD）",description:"标准的产品需求文档模板，适用于产品经理编写需求。",category:"IT",tags:["产品","需求","PRD","产品经理"],author:{id:"user-012",name:"产品总监",level:"expert",verified:!0},price:{type:"paid",points:110},stats:{views:10200,uses:2560,favorites:620,downloads:2180,rating:4.8,ratingCount:389},preview:{content:"专业PRD模板，帮助产品经理清晰表达需求，提高开发效率。"},placeholders:["productName","version","requirements","priority","timeline"],version:"2.5",status:"published",featured:!0,official:!1,createdAt:"2024-01-11T09:00:00Z",updatedAt:"2024-02-01T10:00:00Z",publishedAt:"2024-01-12T08:00:00Z"},{id:"mt-018",name:"技术方案文档",description:"技术方案设计文档模板，适用于架构设计和技术评审。",category:"IT",tags:["技术","架构","设计","开发"],author:{id:"user-013",name:"架构师",level:"master",verified:!0},price:{type:"paid",points:130},stats:{views:7800,uses:1560,favorites:410,downloads:1340,rating:4.9,ratingCount:245},preview:{content:"完整的技术方案文档模板，助力技术团队高效协作。"},placeholders:["projectName","architecture","technology","risk","timeline"],version:"1.8",status:"published",featured:!0,official:!1,createdAt:"2024-01-17T11:00:00Z",updatedAt:"2024-01-30T12:00:00Z",publishedAt:"2024-01-18T10:00:00Z"},{id:"mt-019",name:"客户满意度调查表",description:"客户满意度调查问卷模板，帮助了解客户需求和改进方向。",category:"服务",tags:["客户","调查","满意度","服务"],author:{id:"user-006",name:"服务顾问",level:"beginner",verified:!1},price:{type:"free"},stats:{views:4200,uses:980,favorites:150,downloads:780,rating:4.4,ratingCount:98},preview:{content:"简洁的客户满意度调查表，快速收集客户反馈。"},placeholders:["company","service","rating","feedback"],version:"1.0",status:"published",featured:!1,official:!1,createdAt:"2024-01-24T15:00:00Z",updatedAt:"2024-01-24T15:00:00Z",publishedAt:"2024-01-25T14:00:00Z"},{id:"mt-020",name:"房屋买卖合同",description:"标准房屋买卖合同模板，符合房地产交易法律要求。",category:"房地产",tags:["房产","买卖","合同","交易"],author:{id:"user-005",name:"房产经纪",level:"intermediate",verified:!0},price:{type:"paid",points:120},stats:{views:8900,uses:1780,favorites:390,downloads:1560,rating:4.7,ratingCount:234},preview:{content:"专业房屋买卖合同，保障买卖双方权益。"},placeholders:["seller","buyer","property","price","paymentTerms"],version:"1.5",status:"published",featured:!1,official:!1,createdAt:"2024-01-19T10:00:00Z",updatedAt:"2024-01-28T11:00:00Z",publishedAt:"2024-01-20T09:00:00Z"}],ia=[{id:"md-001",name:"员工劳动合同示例（2024版）",description:"基于标准模板生成的员工劳动合同示例，展示了完整的合同内容和格式。",category:"人力资源",tags:["合同","示例","HR","参考"],author:{id:"user-001",name:"法务专家",level:"expert",verified:!0},price:{type:"free"},stats:{views:3420,favorites:890,downloads:560,uses:120},preview:{content:"完整的员工劳动合同示例，包含所有必要条款和格式规范。"},templateId:"mt-001",templateName:"员工劳动合同（标准版）",sanitized:!0,status:"published",featured:!0,createdAt:"2024-01-20T10:00:00Z",updatedAt:"2024-01-20T10:00:00Z",publishedAt:"2024-01-20T11:00:00Z"},{id:"md-002",name:"技术合作协议示例",description:"展示技术合作协议的完整格式和内容，可作为参考使用。",category:"IT",tags:["技术","合作","示例","参考"],author:{id:"user-004",name:"IT项目经理",level:"expert",verified:!0},price:{type:"paid",points:30},stats:{views:1890,favorites:320,downloads:180,uses:45},preview:{content:"技术合作协议示例，展示了专业的技术合作条款和格式。"},templateId:"mt-004",templateName:"项目合作协议（IT外包）",sanitized:!0,status:"published",featured:!1,createdAt:"2024-01-18T14:00:00Z",updatedAt:"2024-01-18T14:00:00Z",publishedAt:"2024-01-19T09:00:00Z"},{id:"md-003",name:"销售合同示例（电子产品）",description:"电子产品销售合同的完整示例，展示了销售合同的标准格式。",category:"销售",tags:["销售","电子产品","示例","参考"],author:{id:"user-003",name:"销售达人",level:"advanced",verified:!1},price:{type:"free"},stats:{views:1560,favorites:210,downloads:120,uses:30},preview:{content:"电子产品销售合同示例，展示了销售合同的标准格式和内容。"},templateId:"mt-003",templateName:"销售合同模板（通用版）",sanitized:!0,status:"published",featured:!1,createdAt:"2024-01-15T11:00:00Z",updatedAt:"2024-01-15T11:00:00Z",publishedAt:"2024-01-16T10:00:00Z"}],oa=[{id:"review-001",targetId:"mt-001",targetType:"template",author:{id:"user-007",name:"HR经理"},rating:5,content:"非常实用的模板，条款完整，格式规范，直接使用即可。已经用这个模板生成了50多份合同，效率提升了很多！",helpful:45,replies:[],createdAt:"2024-01-16T10:00:00Z",updatedAt:"2024-01-16T10:00:00Z"},{id:"review-002",targetId:"mt-001",targetType:"template",author:{id:"user-008",name:"法务专员"},rating:4,content:"模板质量不错，但建议增加一些特殊情况的条款，比如试用期、竞业限制等。",helpful:23,replies:[{id:"reply-001",targetId:"mt-001",targetType:"template",author:{id:"user-001",name:"法务专家"},rating:0,content:"感谢建议！我会在下一版本中添加这些条款。",helpful:12,replies:[],createdAt:"2024-01-17T09:00:00Z",updatedAt:"2024-01-17T09:00:00Z"}],createdAt:"2024-01-17T08:00:00Z",updatedAt:"2024-01-17T08:00:00Z"},{id:"review-003",targetId:"mt-002",targetType:"template",author:{id:"user-009",name:"商务经理"},rating:5,content:"专业的保密协议模板，条款完善，保护双方权益。值得购买！",helpful:34,replies:[],createdAt:"2024-01-19T14:00:00Z",updatedAt:"2024-01-19T14:00:00Z"}],la=[{id:"user-001",name:"法务专家",email:"legal@example.com",level:"expert",verified:!0,stats:{templates:12,documents:8,followers:1250,following:45,totalEarnings:12500,totalViews:45600,totalUses:8900,averageRating:4.8},badges:["优质作者","官方认证","热门作者"],specialties:["法律","合同","HR"],joinedAt:"2023-06-01T08:00:00Z"},{id:"user-002",name:"法律顾问",email:"lawyer@example.com",level:"master",verified:!0,stats:{templates:18,documents:15,followers:2340,following:32,totalEarnings:28900,totalViews:89200,totalUses:15600,averageRating:4.9},badges:["顶级作者","官方认证","热门作者","质量保证"],specialties:["法律","保密协议","商业合同"],joinedAt:"2023-03-15T10:00:00Z"},{id:"user-003",name:"销售达人",email:"sales@example.com",level:"advanced",verified:!1,stats:{templates:8,documents:5,followers:560,following:120,totalEarnings:3200,totalViews:15600,totalUses:2800,averageRating:4.6},badges:["活跃作者"],specialties:["销售","商业"],joinedAt:"2023-09-20T14:00:00Z"}],q=(t=500)=>new Promise(s=>setTimeout(s,t)),fs=(t=0)=>Math.random()<t,E={TEMPLATES:"docbutler_templates",DOCUMENTS:"docbutler_documents",USERS:"docbutler_users",ACTIVITIES:"docbutler_activities",DATA_SOURCES:"docbutler_data_sources",DATA_COLLECTIONS:"docbutler_data_collections",MARKET_TEMPLATES:"docbutler_market_templates",MARKET_DOCUMENTS:"docbutler_market_documents",MARKET_REVIEWS:"docbutler_market_reviews",MARKET_USERS:"docbutler_market_users",USER_PURCHASES:"docbutler_user_purchases",USER_FAVORITES:"docbutler_user_favorites",USER_BROWSING_HISTORY:"docbutler_user_browsing_history",USER_FOLLOWING:"docbutler_user_following",DAILY_FEATURED:"docbutler_daily_featured"};function F(t,s){try{const r=localStorage.getItem(t);if(r)return JSON.parse(r)}catch(r){console.error(`Error reading from localStorage (${t}):`,r)}return s}function K(t,s){try{localStorage.setItem(t,JSON.stringify(s))}catch(r){console.error(`Error saving to localStorage (${t}):`,r)}}async function Wn(){return await q(300),fs(.05)?{success:!1,error:"Failed to fetch templates"}:{success:!0,data:F(E.TEMPLATES,[])}}async function Rl(t){await q(300);const s=F(E.TEMPLATES,[]),r=s.filter(a=>a.id!==t);return r.length===s.length?{success:!1,error:`Template with id ${t} not found`}:(K(E.TEMPLATES,r),{success:!0,message:"Template deleted successfully"})}async function Ml(){return await q(300),fs(.05)?{success:!1,error:"Failed to fetch documents"}:{success:!0,data:F(E.DOCUMENTS,[])}}async function Il(t){await q(500);const r=F(E.DOCUMENTS,[]).filter(a=>!t.includes(a.id));return K(E.DOCUMENTS,r),{success:!0,message:`${t.length} documents deleted successfully`}}async function Ll(){return await q(300),fs(.05)?{success:!1,error:"Failed to fetch data sources"}:{success:!0,data:F(E.DATA_SOURCES,[])}}async function Vl(t){await q(300);const s=F(E.DATA_SOURCES,[]),r=s.filter(a=>a.id!==t);return r.length===s.length?{success:!1,error:"Data source not found"}:(K(E.DATA_SOURCES,r),{success:!0})}async function Fl(){return await q(300),fs(.05)?{success:!1,error:"Failed to fetch data collections"}:{success:!0,data:F(E.DATA_COLLECTIONS,[])}}async function Bl(t){await q(300);const s=F(E.DATA_COLLECTIONS,[]),r=s.filter(a=>a.id!==t);return r.length===s.length?{success:!1,error:"Data collection not found"}:(K(E.DATA_COLLECTIONS,r),{success:!0})}async function tt(t){await q(300);let s=F(E.MARKET_TEMPLATES,[]);if(s=s.filter(r=>r.status==="published"),t){if(t.category&&(s=s.filter(r=>r.category===t.category)),t.tag&&(s=s.filter(r=>r.tags.includes(t.tag))),t.priceType&&t.priceType!=="all"&&(s=s.filter(r=>r.price.type===t.priceType)),t.search){const r=t.search.toLowerCase();s=s.filter(a=>a.name.toLowerCase().includes(r)||a.description.toLowerCase().includes(r)||a.tags.some(n=>n.toLowerCase().includes(r)))}if(t.sortBy)switch(t.sortBy){case"hot":s.sort((r,a)=>a.stats.uses+a.stats.favorites-(r.stats.uses+r.stats.favorites));break;case"newest":s.sort((r,a)=>new Date(a.publishedAt||a.createdAt).getTime()-new Date(r.publishedAt||r.createdAt).getTime());break;case"rating":s.sort((r,a)=>a.stats.rating-r.stats.rating);break;case"price":s.sort((r,a)=>{const n=r.price.points||0,l=a.price.points||0;return n-l});break}}return{success:!0,data:s}}async function $l(t){await q(200);const s=F(E.MARKET_TEMPLATES,[]),r=s.find(a=>a.id===t);return r?(r.stats.views+=1,K(E.MARKET_TEMPLATES,s),{success:!0,data:r}):{success:!1,error:"Template not found"}}async function Ol(t){await q(400);const s=F(E.MARKET_TEMPLATES,[]),r=s.find(n=>n.id===t);if(!r)return{success:!1,error:"Template not found"};if(r.price.type==="free")return{success:!0,data:r};const a=F(E.USER_PURCHASES,[]);return a.find(n=>n.templateId===t)||(a.push({templateId:t,purchasedAt:new Date().toISOString()}),K(E.USER_PURCHASES,a)),r.stats.uses+=1,K(E.MARKET_TEMPLATES,s),{success:!0,data:r}}async function Ul(t,s){await q(300);const r=F(E.MARKET_TEMPLATES,[]),a=r.find(l=>l.id===t);if(!a)return{success:!1,error:"Template not found"};s?a.stats.favorites+=1:a.stats.favorites=Math.max(0,a.stats.favorites-1),K(E.MARKET_TEMPLATES,r);const n=F(E.USER_FAVORITES,[]);if(s&&!n.includes(t))n.push(t);else if(!s){const l=n.indexOf(t);l>-1&&n.splice(l,1)}return K(E.USER_FAVORITES,n),{success:!0}}async function st(t){await q(300);let s=F(E.MARKET_DOCUMENTS,[]);if(s=s.filter(r=>r.status==="published"),t){if(t.category&&(s=s.filter(r=>r.category===t.category)),t.tag&&(s=s.filter(r=>r.tags.includes(t.tag))),t.priceType&&t.priceType!=="all"&&(s=s.filter(r=>r.price.type===t.priceType)),t.search){const r=t.search.toLowerCase();s=s.filter(a=>a.name.toLowerCase().includes(r)||a.description.toLowerCase().includes(r)||a.tags.some(n=>n.toLowerCase().includes(r)))}if(t.sortBy)switch(t.sortBy){case"hot":s.sort((r,a)=>a.stats.favorites+a.stats.downloads-(r.stats.favorites+r.stats.downloads));break;case"newest":s.sort((r,a)=>new Date(a.publishedAt||a.createdAt).getTime()-new Date(r.publishedAt||r.createdAt).getTime());break;case"downloads":s.sort((r,a)=>a.stats.downloads-r.stats.downloads);break}}return{success:!0,data:s}}async function _l(t){await q(200);const s=F(E.MARKET_DOCUMENTS,[]),r=s.find(a=>a.id===t);return r?(r.stats.views+=1,K(E.MARKET_DOCUMENTS,s),{success:!0,data:r}):{success:!1,error:"Document not found"}}async function Zl(t,s){await q(300);const r=F(E.MARKET_DOCUMENTS,[]),a=r.find(l=>l.id===t);if(!a)return{success:!1,error:"Document not found"};s?a.stats.favorites+=1:a.stats.favorites=Math.max(0,a.stats.favorites-1),K(E.MARKET_DOCUMENTS,r);const n=F(E.USER_FAVORITES,[]);if(s&&!n.includes(t))n.push(t);else if(!s){const l=n.indexOf(t);l>-1&&n.splice(l,1)}return K(E.USER_FAVORITES,n),{success:!0}}async function Hn(t,s){return await q(200),{success:!0,data:F(E.MARKET_REVIEWS,[]).filter(n=>n.targetId===t&&n.targetType===s)}}async function ql(t){await q(400);const s=F(E.MARKET_REVIEWS,[]),r={...t,id:`review-${Date.now()}`,helpful:0,replies:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(s.push(r),K(E.MARKET_REVIEWS,s),t.targetType==="template"){const a=F(E.MARKET_TEMPLATES,[]),n=a.find(l=>l.id===t.targetId);if(n){const l=s.filter(o=>o.targetId===t.targetId&&o.targetType==="template"),i=l.reduce((o,c)=>o+c.rating,0)/l.length;n.stats.rating=Math.round(i*10)/10,n.stats.ratingCount=l.length,K(E.MARKET_TEMPLATES,a)}}return{success:!0,data:r}}async function Kl(t){await q(200);const r=F(E.MARKET_USERS,[]).find(a=>a.id===t);return r?{success:!0,data:r}:{success:!1,error:"User not found"}}async function Wl(){return await q(200),{success:!0,data:F(E.MARKET_USERS,[])}}async function Hl(t,s){await q(100);const a=F(E.USER_BROWSING_HISTORY,[]).filter(l=>!(l.targetId===t&&l.targetType===s));a.unshift({id:`history-${Date.now()}`,targetId:t,targetType:s,viewedAt:new Date().toISOString()});const n=a.slice(0,100);return K(E.USER_BROWSING_HISTORY,n),{success:!0}}async function da(t,s=6){await q(300);const r=F(E.USER_BROWSING_HISTORY,[]),a=F(E.USER_FAVORITES,[]),n=F(E.USER_PURCHASES,[]),l={},i={},o={};r.forEach(x=>{if(x.targetType===t)if(t==="template"){const j=F(E.MARKET_TEMPLATES,[]).find(y=>y.id===x.targetId);j&&(l[j.category]=(l[j.category]||0)+1,j.tags.forEach(y=>{i[y]=(i[y]||0)+1}),o[j.author.id]=(o[j.author.id]||0)+1)}else{const j=F(E.MARKET_DOCUMENTS,[]).find(y=>y.id===x.targetId);j&&(l[j.category]=(l[j.category]||0)+1,j.tags.forEach(y=>{i[y]=(i[y]||0)+1}),o[j.author.id]=(o[j.author.id]||0)+1)}});let c=[];t==="template"?c=F(E.MARKET_TEMPLATES,[]).filter(g=>g.status==="published"):c=F(E.MARKET_DOCUMENTS,[]).filter(g=>g.status==="published");const d=new Set(r.filter(x=>x.targetType===t).map(x=>x.targetId)),u=new Set([...d,...a,...n]);return{success:!0,data:c.filter(x=>!u.has(x.id)).map(x=>{let g=0;const j=l[x.category]||0;g+=j*10;const y=x.tags.reduce((p,w)=>p+(i[w]||0),0);g+=y*5;const T=o[x.author.id]||0;if(g+=T*8,t==="template"){const p=x;g+=p.stats.rating*20,g+=p.stats.uses*.1,g+=p.stats.favorites*.2}else{const p=x;g+=p.stats.favorites*.2,g+=p.stats.downloads*.1}return x.featured&&(g+=50),{item:x,score:g}}).sort((x,g)=>g.score-x.score).slice(0,s).map(x=>x.item)}}async function Gn(t,s,r=6){await q(300);let a;if(a=F(E.MARKET_TEMPLATES,[]).find(o=>o.id===t),!a)return{success:!1,error:"Item not found"};let n=[];return n=F(E.MARKET_TEMPLATES,[]).filter(o=>o.status==="published"&&o.id!==t),{success:!0,data:n.map(i=>{let o=0;i.category===a.category&&(o+=30),i.author.id===a.author.id&&(o+=25);const c=i.tags.filter(d=>a.tags.includes(d));o+=c.length*10;{const d=i;o+=d.stats.rating*5,o+=d.stats.uses*.1}return{item:i,score:o}}).sort((i,o)=>o.score-i.score).slice(0,r).map(i=>i.item)}}async function Gl(t,s,r=6){await q(300);const a=F(E.USER_BROWSING_HISTORY,[]),n={};a.forEach(o=>{o.targetType===s&&o.targetId!==t&&a.filter(d=>d.targetType===s&&d.targetId!==t&&d.viewedAt!==o.viewedAt).forEach(d=>{n[d.targetId]=(n[d.targetId]||0)+1})});let l=[];l=F(E.MARKET_TEMPLATES,[]).filter(c=>c.status==="published"&&c.id!==t);const i=l.map(o=>({item:o,score:n[o.id]||0})).sort((o,c)=>c.score-o.score).slice(0,r).map(o=>o.item);if(i.length<r){const o=await Gn(t,s,r-i.length);o.success&&o.data&&i.push(...o.data)}return{success:!0,data:i.slice(0,r)}}async function Yn(t,s){await q(200);const r=F(E.USER_FOLLOWING,[]);if(s&&!r.includes(t))r.push(t);else if(!s){const a=r.indexOf(t);a>-1&&r.splice(a,1)}return K(E.USER_FOLLOWING,r),{success:!0}}async function Xn(t){return await q(100),{success:!0,data:F(E.USER_FOLLOWING,[]).includes(t)}}async function Yl(){await q(200);const t=new Date().toISOString().split("T")[0],s=F(E.DAILY_FEATURED,[]),r=s.find(o=>o.date===t);if(!r){const o=F(E.MARKET_TEMPLATES,[]),c=F(E.MARKET_DOCUMENTS,[]),d=o.filter(j=>j.status==="published"&&(j.featured||j.official)).sort((j,y)=>y.stats.rating*y.stats.uses-j.stats.rating*j.stats.uses).slice(0,3).map(j=>j.id),u=c.filter(j=>j.status==="published"&&j.featured).sort((j,y)=>y.stats.favorites*y.stats.downloads-j.stats.favorites*j.stats.downloads).slice(0,2).map(j=>j.id),m={id:`featured-${Date.now()}`,date:t,templates:d,documents:u,reason:"基于内容质量和用户反馈自动推荐"};s.push(m),K(E.DAILY_FEATURED,s);const x=o.filter(j=>d.includes(j.id)),g=c.filter(j=>u.includes(j.id));return{success:!0,data:[...x,...g]}}const a=F(E.MARKET_TEMPLATES,[]),n=F(E.MARKET_DOCUMENTS,[]),l=a.filter(o=>r.templates.includes(o.id)),i=n.filter(o=>r.documents.includes(o.id));return{success:!0,data:[...l,...i]}}function Xl(t,s){F(E.TEMPLATES,[]).length===0&&t.length>0&&K(E.TEMPLATES,t),F(E.DOCUMENTS,[]).length===0&&s.length>0&&K(E.DOCUMENTS,s),F(E.DATA_SOURCES,[]).length===0&&ra.length>0&&K(E.DATA_SOURCES,ra),F(E.DATA_COLLECTIONS,[]).length===0&&aa.length>0&&K(E.DATA_COLLECTIONS,aa),F(E.MARKET_TEMPLATES,[]).length===0&&na.length>0&&K(E.MARKET_TEMPLATES,na),F(E.MARKET_DOCUMENTS,[]).length===0&&ia.length>0&&K(E.MARKET_DOCUMENTS,ia),F(E.MARKET_REVIEWS,[]).length===0&&oa.length>0&&K(E.MARKET_REVIEWS,oa),F(E.MARKET_USERS,[]).length===0&&la.length>0&&K(E.MARKET_USERS,la)}const ie=({type:t="text",lines:s=3,className:r="",width:a,height:n})=>t==="text"?e.jsx("div",{className:`space-y-2 ${r}`,children:Array.from({length:s}).map((l,i)=>e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse",style:{width:i===s-1?"75%":"100%"}},i))}):t==="card"?e.jsx("div",{className:`bg-card border border-border rounded-lg p-4 ${r}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 animate-pulse"})]})]})}):t==="list"?e.jsx("div",{className:`space-y-3 ${r}`,children:Array.from({length:s}).map((l,i)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 animate-pulse"})]})]},i))}):t==="table"?e.jsxs("div",{className:`space-y-3 ${r}`,children:[e.jsx("div",{className:"flex space-x-4",children:Array.from({length:4}).map((l,i)=>e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded flex-1 animate-pulse"},i))}),Array.from({length:s}).map((l,i)=>e.jsx("div",{className:"flex space-x-4",children:Array.from({length:4}).map((o,c)=>e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded flex-1 animate-pulse"},c))},i))]}):e.jsx("div",{className:`bg-gray-200 dark:bg-gray-700 rounded animate-pulse ${r}`,style:{width:a||"100%",height:n||"1rem"}}),ue=({children:t,delay:s=0,className:r="",index:a=0})=>{const[n,l]=h.useState(!1),i=h.useRef(null);h.useEffect(()=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&l(!0)},{threshold:.1});return i.current&&c.observe(i.current),()=>{i.current&&c.unobserve(i.current)}},[]);const o=s||a*50;return e.jsx("div",{ref:i,className:`transition-all duration-500 ease-out ${r} ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:`${o}ms`},children:t})},Jl=t=>{let s=0;for(let a=0;a<t.length;a++)s=t.charCodeAt(a)+((s<<5)-s);const r=["bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300","bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-300","bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-300","bg-yellow-100 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-300","bg-pink-100 text-pink-700 dark:bg-pink-500/20 dark:text-pink-300","bg-purple-100 text-purple-700 dark:bg-purple-500/20 dark:text-purple-300","bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-300","bg-cyan-100 text-cyan-700 dark:bg-cyan-500/20 dark:text-cyan-300","bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"];return r[Math.abs(s)%r.length]},ca=t=>{try{return new Date(t).toLocaleDateString()}catch(s){return console.error("Error formatting date:",t,s),"Invalid Date"}},Ql=()=>{re();const[t,s]=h.useState(""),[r,a]=h.useState("all"),[n,l]=h.useState(null),[i,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(null);h.useEffect(()=>{x()},[]);const x=async()=>{d(!0);try{const v=await Wn();v.success&&v.data?o(v.data):I.error(v.error||"加载模板失败")}catch(v){I.error("加载模板时发生错误"),console.error("Error loading templates:",v)}finally{d(!1)}},g=i.filter(v=>v.name.toLowerCase().includes(t.toLowerCase())&&(r==="all"||v.createdBy===r)),j=["all",...new Set(i.map(v=>v.createdBy))],y=v=>{l(D=>D===v?null:v)},T=()=>{I.success("上传功能暂未实现 (Upload feature not yet implemented)")},p=v=>{console.log("Copy template:",v)},w=v=>{console.log("Download template:",v)},f=async v=>{if(confirm("确定要删除这个模板吗？此操作不可恢复。")){m(v);try{const D=await Rl(v);D.success?(I.success("模板删除成功"),o(C=>C.filter(L=>L.id!==v)),l(null)):I.error(D.error||"删除模板失败")}catch(D){I.error("删除模板时发生错误"),console.error("Error deleting template:",D)}finally{m(null)}}};if(c)return e.jsxs("div",{className:"space-y-6 p-4 sm:p-6 lg:p-8 fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx(ie,{type:"text",lines:1,width:"200px",height:"32px"}),e.jsx(ie,{type:"text",lines:1,width:"120px",height:"40px"})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-4 md:p-5 border-b border-border",children:e.jsx(ie,{type:"text",lines:1})}),e.jsx("div",{className:"p-4 md:p-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:Array.from({length:8}).map((v,D)=>e.jsx(ie,{type:"card"},D))})]})]});const N=i.length,b=i.filter(v=>{const D=new Date(v.createdAt);return(Date.now()-D.getTime())/(1e3*60*60*24)<=7}).length;return e.jsxs("div",{className:"space-y-4 page-wrapper",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"模板总数"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:N})]})}),e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"最近7天"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:b})]})})]}),e.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2 h-14 px-4 shadow-sm hover:shadow-md focus-ring transition-all",children:[e.jsx(mt,{size:18}),"上传模板"]})]}),e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-border",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative flex-grow md:flex-grow-0 md:w-72 lg:w-96",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Oe,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{type:"text",placeholder:"搜索模板名称...",className:"input-primary block w-full pl-10 pr-4 py-2 text-sm",value:t,onChange:v=>s(v.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("label",{htmlFor:"category-filter",className:"flex items-center text-sm text-muted-foreground whitespace-nowrap",children:[e.jsx(xs,{size:16,className:"mr-1.5 flex-shrink-0"}),"创建者:"]}),e.jsx("select",{id:"category-filter",className:"input-primary appearance-none text-sm py-2 pl-3 pr-8",value:r,onChange:v=>a(v.target.value),children:j.map(v=>e.jsx("option",{value:v,children:v==="all"?"全部创建者":v},v))})]})]})}),g.length>0?e.jsx("div",{className:"p-3 md:p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:g.map((v,D)=>e.jsx(ue,{index:D,children:e.jsxs("div",{className:`bg-card rounded-lg shadow-md border border-border hover:shadow-xl hover:border-primary-500/60 \r
                             dark:hover:border-primary-400/60\r
                             flex flex-col group transition-all duration-300 relative focus-within:ring-2 focus-within:ring-ring\r
                             card-hover`,children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10",children:[e.jsx("button",{onClick:()=>y(v.id),className:`p-1.5 rounded-full text-muted-foreground hover:text-foreground hover:bg-background dark:hover:bg-slate-700 \r
                               focus-ring transition-colors`,"aria-label":"Actions",title:"更多操作",children:e.jsx(Rt,{size:16})}),n===v.id&&e.jsx("div",{className:`absolute right-0 mt-1 w-40 rounded-md shadow-lg bg-popover text-popover-foreground\r
                                 ring-1 ring-black/5 dark:ring-white/10 focus:outline-none z-20 py-1`,onClick:C=>C.stopPropagation(),children:[{label:"复制模板",icon:Vn,action:()=>p(v.id)},{label:"下载模板",icon:W,action:()=>w(v.id),isDividerAfter:!0},{label:"删除模板",icon:Ve,action:()=>f(v.id),isDestructive:!0}].map((C,L)=>e.jsxs(fe.Fragment,{children:[e.jsxs("button",{onClick:C.action,disabled:u===v.id&&C.label==="删除模板",className:`flex items-center w-full text-left px-3 py-1.5 text-sm 
                                                ${C.isDestructive?"text-red-600 dark:text-red-400 hover:bg-red-500/10":"hover:bg-gray-500/5 dark:hover:bg-white/5"}
                                                transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:[u===v.id&&C.label==="删除模板"?e.jsx(Os,{size:"sm",className:"mr-2.5"}):e.jsx(C.icon,{size:15,className:`mr-2.5 ${C.isDestructive?"":"text-muted-foreground"}`}),C.label]}),C.isDividerAfter&&e.jsx("div",{className:"my-1 h-px bg-border"})]},C.label))})]}),e.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 dark:bg-primary-500/20 rounded-lg flex items-center justify-center text-primary-600 dark:text-primary-300",children:e.jsx($,{size:20})}),e.jsx("span",{className:`ml-auto text-[0.7rem] font-medium px-1.5 py-0.5 rounded-full self-start ${Jl(v.createdBy)}`,children:v.createdBy})]}),e.jsx("h3",{className:"text-md font-semibold text-foreground group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors truncate mb-1 cursor-pointer",title:v.name,children:v.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 leading-relaxed line-clamp-2 flex-grow",title:v.description,children:v.description||"暂无描述"}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-auto pt-2 border-t border-border/60",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"创建日期:"}),e.jsx("span",{children:ca(v.createdAt)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"更新日期:"}),e.jsx("span",{children:ca(v.updatedAt)})]})]})]})]})},v.id))}):e.jsxs("div",{className:"py-16 text-center px-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-background rounded-full mb-5 shadow",children:e.jsx($,{size:36,className:"text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"未找到模板"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"您的筛选条件没有匹配到任何模板，或者您还没有创建任何模板。"}),e.jsxs("button",{onClick:T,className:"btn-primary flex items-center mx-auto focus-ring",children:[e.jsx(mt,{size:18,className:"mr-2"}),"上传第一个模板"]})]})]})]})},ws={1:{name:"员工合同模板",elements:[{id:"el1",type:"heading",content:"员工劳动合同",level:"h1"},{id:"el2",type:"paragraph",content:"甲方（用人单位）信息："},{id:"el3",type:"textInput",label:"公司名称",placeholderName:"company_name",required:!0,inputType:"text",placeholder:"请输入公司全称"},{id:"el4",type:"textInput",label:"公司地址",placeholderName:"company_address",required:!0,inputType:"text",placeholder:"请输入公司地址"},{id:"el5",type:"paragraph",content:"乙方（员工）信息："},{id:"el6",type:"textInput",label:"员工姓名",placeholderName:"employee_name",required:!0,inputType:"text",placeholder:"请输入员工姓名"},{id:"el7",type:"date",label:"合同开始日期",placeholderName:"contract_start_date",required:!0},{id:"el8",type:"placeholder",placeholderName:"contract_terms",label:"合同条款"},{id:"el9",type:"checkbox",label:"附加福利",options:["交通补贴","餐饮补贴","通讯补贴"],placeholderName:"extra_benefits"}]},2:{name:"项目合作协议",elements:[{id:"p1",type:"heading",content:"项目合作协议书",level:"h1"},{id:"p2",type:"textInput",label:"项目名称",placeholderName:"project_name",required:!0},{id:"p3",type:"textArea",label:"项目描述",placeholderName:"project_description",required:!0,placeholder:"详细描述项目内容..."}]}},ma=()=>{const{templateId:t}=Ot(),[s,r]=h.useState(null),[a,n]=h.useState({}),[l,i]=h.useState("");h.useEffect(()=>{let m=t,x=!0;if((!m||!ws[m])&&(m="1",x=!1),ws[m]){const g=ws[m];r(g),i(x?`${g.name} - 生成实例`:`${g.name} - 默认加载`);const j={};g.elements.forEach(y=>{y.placeholderName&&(j[y.placeholderName]=y.type==="checkbox"?[]:"")}),n(j)}else r(null),i(""),n({})},[t]);const o=(m,x)=>{n(g=>({...g,[m]:x}))},c=(m,x,g)=>{n(j=>{const y=j[m]||[];return g?{...j,[m]:[...y,x]}:{...j,[m]:y.filter(T=>T!==x)}})},d=m=>{m.preventDefault(),console.log("Generating document with:",{templateId:t,templateName:s==null?void 0:s.name,documentName:l,formData:a}),alert("文档生成请求已提交 (查看控制台输出)!")},u=()=>{if(s){const m={};s.elements.forEach(x=>{x.placeholderName&&(m[x.placeholderName]=x.type==="checkbox"?[]:"")}),n(m)}};return s?e.jsxs("div",{className:"flex flex-col h-screen bg-background overflow-hidden",children:[e.jsxs("header",{className:"bg-card text-card-foreground border-b border-border px-6 py-3 flex items-center justify-between flex-shrink-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{to:"/templates",className:"p-1.5 rounded-md hover:bg-background text-muted-foreground hover:text-foreground transition-colors",title:"返回模板列表",children:e.jsx(oe,{size:20})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:["生成文档: ",s.name]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"请填写以下表单字段"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:u,className:"btn-outline text-sm py-2",children:[e.jsx(Bo,{size:16,className:"mr-1.5"}),"重置表单"]}),e.jsxs("button",{type:"submit",form:"documentGenerationForm",className:"btn-primary text-sm py-2",children:[e.jsx($o,{size:16,className:"mr-1.5"}),"生成文档"]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("form",{id:"documentGenerationForm",onSubmit:d,className:"flex-1 p-6 space-y-6 overflow-y-auto scrollbar-thin",children:[e.jsxs("div",{className:"bg-card text-card-foreground p-6 rounded-lg shadow-sm border border-border",children:[e.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-foreground mb-1",children:"文档名称"}),e.jsx("input",{type:"text",id:"documentName",value:l,onChange:m=>i(m.target.value),className:"input-primary w-full max-w-lg text-base",placeholder:"例如：张三的劳动合同 - 2024版",required:!0})]}),e.jsxs("div",{className:"bg-card text-card-foreground p-6 rounded-lg shadow-sm border border-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"选项 1: 上传数据文件 (批量生成)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"支持 Excel (.xlsx, .xls) 或 CSV (.csv) 文件。确保文件中的列名与模板占位符匹配。"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsx("input",{type:"file",id:"dataFileInput",accept:".xlsx, .xls, .csv",className:`block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 \r
                           file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100 \r
                           focus:outline-none focus:ring-2 focus:ring-ring focus:border-primary-500 flex-grow`,onChange:m=>console.log("File selected:",m.target.files?m.target.files[0].name:"No file")}),e.jsx("button",{type:"button",className:"btn-outline text-sm py-2 whitespace-nowrap",onClick:()=>alert("文件处理功能待实现。"),children:"处理上传文件"})]})]}),e.jsx("div",{className:"bg-card text-card-foreground p-6 rounded-lg shadow-sm border border-border mt-6",children:e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"选项 2: 手动填写表单"})}),s.elements.filter(m=>m.placeholderName).map(m=>e.jsxs("div",{className:"bg-card text-card-foreground p-6 rounded-lg shadow-sm border border-border",children:[e.jsxs("label",{htmlFor:m.placeholderName,className:"block text-sm font-medium text-foreground mb-1.5",children:[m.label||m.placeholderName,m.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),m.type==="textInput"&&e.jsx("input",{type:m.inputType||"text",id:m.placeholderName,value:a[m.placeholderName]||"",onChange:x=>o(m.placeholderName,x.target.value),placeholder:m.placeholder||"请输入...",required:m.required,className:"input-primary w-full text-base"}),m.type==="textArea"&&e.jsx("textarea",{id:m.placeholderName,value:a[m.placeholderName]||"",onChange:x=>o(m.placeholderName,x.target.value),placeholder:m.placeholder||"请输入...",required:m.required,rows:4,className:"input-primary w-full text-base"}),m.type==="numberInput"&&e.jsx("input",{type:"number",id:m.placeholderName,value:a[m.placeholderName]||"",onChange:x=>o(m.placeholderName,x.target.value),placeholder:m.placeholder||"0",required:m.required,className:"input-primary w-full text-base"}),m.type==="date"&&e.jsx("input",{type:"date",id:m.placeholderName,value:a[m.placeholderName]||"",onChange:x=>o(m.placeholderName,x.target.value),required:m.required,className:"input-primary w-full text-base"}),m.type==="checkbox"&&m.options&&e.jsx("div",{className:"space-y-2 mt-1",children:m.options.map(x=>e.jsxs("label",{className:"flex items-center text-sm text-foreground",children:[e.jsx("input",{type:"checkbox",value:x,checked:(a[m.placeholderName]||[]).includes(x),onChange:g=>c(m.placeholderName,x,g.target.checked),className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mr-2"}),x]},x))}),m.type==="placeholder"&&!["textInput","textArea","numberInput","date","checkbox"].includes(m.type)&&e.jsx("input",{type:"text",id:m.placeholderName,value:a[m.placeholderName]||"",onChange:x=>o(m.placeholderName,x.target.value),placeholder:`输入 ${m.label||m.placeholderName}`,required:m.required,className:"input-primary w-full text-base"})]},m.id))]}),e.jsx("aside",{className:"w-1/3 bg-background border-l border-border p-6 overflow-y-auto scrollbar-thin hidden lg:block",children:e.jsxs("div",{className:"sticky top-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[e.jsx(Oo,{size:20,className:"mr-2 text-primary-600"}),"文档预览 (简化版)"]}),e.jsx("div",{className:"bg-card text-card-foreground p-6 rounded-lg shadow-sm border border-border min-h-[300px] prose prose-sm max-w-none",children:s.elements.map(m=>{const x=m.placeholderName?a[m.placeholderName]:m.content;if(m.type==="heading"){const g=m.level||"h2";return e.jsx(g,{children:x||m.content},m.id)}if(m.type==="paragraph")return e.jsx("p",{children:m.content},m.id);if(m.placeholderName&&x){if(m.type==="checkbox"&&Array.isArray(x)&&x.length>0)return e.jsxs("div",{className:"mb-2",children:[e.jsxs("strong",{children:[m.label||m.placeholderName,":"]})," ",x.join(", ")]},m.id);if(m.type!=="checkbox")return e.jsxs("div",{className:"mb-2",children:[e.jsxs("strong",{children:[m.label||m.placeholderName,":"]})," ",String(x)]},m.id)}return null})})]})})]})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-xl text-red-600",children:"模板未找到或未选择"}),e.jsxs(V,{to:"/templates",className:"btn-primary mt-4 inline-flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"})," 返回模板列表"]})]})},ed=()=>{const[t,s]=h.useState(1),[r,a]=h.useState(null),[n,l]=h.useState(null),[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(null),[x,g]=h.useState(!1),[j,y]=h.useState({}),T=[{id:1,name:"员工合同",description:"适用于正式员工的劳动合同",category:"合同",icon:"📄",fields:[{name:"name",label:"姓名",type:"text",required:!0},{name:"position",label:"职位",type:"text",required:!0},{name:"department",label:"部门",type:"select",options:["技术部","市场部","销售部","人事部"],required:!0},{name:"startDate",label:"入职日期",type:"date",required:!0},{name:"salary",label:"基本工资",type:"number",required:!0}]},{id:2,name:"项目协议",description:"用于项目外包合作",category:"协议",icon:"📋",fields:[{name:"projectName",label:"项目名称",type:"text",required:!0},{name:"clientName",label:"客户名称",type:"text",required:!0},{name:"startDate",label:"开始日期",type:"date",required:!0},{name:"endDate",label:"结束日期",type:"date",required:!0},{name:"budget",label:"项目预算",type:"number",required:!0}]},{id:3,name:"销售订单",description:"标准销售订单文档",category:"订单",icon:"📎",fields:[{name:"orderNumber",label:"订单编号",type:"text",required:!0},{name:"customerName",label:"客户名称",type:"text",required:!0},{name:"productName",label:"产品名称",type:"text",required:!0},{name:"quantity",label:"数量",type:"number",required:!0},{name:"orderDate",label:"下单日期",type:"date",required:!0}]}],p=async k=>{if(k.target.files&&k.target.files[0]){const M=k.target.files[0];l(M),setTimeout(()=>{m({totalRows:15,columns:["姓名","职位","部门","入职日期"],sample:[["张三","工程师","技术部","2024-03-01"],["李四","设计师","设计部","2024-03-02"]]})},500)}},w=(k,M)=>{y(U=>({...U,[k]:M}))},f=()=>{o(!0),setTimeout(()=>{o(!1),d(!0)},2e3)},N=()=>{s(1),a(null),l(null),d(!1),m(null),g(!1),y({})},b=()=>e.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-50",children:[e.jsxs("div",{className:"flex items-center h-16 px-4",children:[t>1&&e.jsx("button",{onClick:()=>s(t-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100",children:e.jsx(Mn,{size:24})}),e.jsx("h1",{className:"text-lg font-medium ml-2",children:t===1?"选择模板":t===2?x?"填写信息":"上传数据":"生成文档"})]}),e.jsx("div",{className:"flex px-4 pb-4",children:[1,2,3].map((k,M)=>e.jsxs(fe.Fragment,{children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${t>=k?"bg-primary-600":"bg-gray-200"}`})}),M<2&&e.jsx("div",{className:"w-2"})]},k))})]}),v=()=>e.jsx("div",{className:"px-4 pb-20",children:e.jsx("div",{className:"space-y-4",children:T.map(k=>e.jsx("div",{onClick:()=>{a(k.id),g(!0)},className:`relative rounded-xl p-4 transition-all duration-300 ${r===k.id?"bg-primary-50 border-2 border-primary-500":"border border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-3xl mr-4",children:k.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-lg mb-1",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500",children:k.description}),e.jsx("span",{className:"inline-block text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full mt-2",children:k.category})]}),r===k.id&&e.jsx("div",{className:"absolute right-4 top-4",children:e.jsx("div",{className:"h-6 w-6 rounded-full bg-primary-500 flex items-center justify-center animate-scale",children:e.jsx(Jr,{size:16,className:"text-white"})})})]})},k.id))})}),D=()=>{const k=T.find(M=>M.id===r);return k?e.jsxs("div",{className:"px-4 pb-20",children:[e.jsxs("div",{className:"mb-6 flex rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>g(!0),className:`flex-1 py-3 text-center ${x?"bg-primary-600 text-white":"bg-gray-100 text-gray-600"}`,children:[e.jsx(Uo,{size:20,className:"mx-auto mb-1"}),e.jsx("span",{className:"text-sm",children:"填写表单"})]}),e.jsxs("button",{onClick:()=>g(!1),className:`flex-1 py-3 text-center ${x?"bg-gray-100 text-gray-600":"bg-primary-600 text-white"}`,children:[e.jsx(_o,{size:20,className:"mx-auto mb-1"}),e.jsx("span",{className:"text-sm",children:"上传Excel"})]})]}),x?e.jsx("div",{className:"space-y-4 animate-slide-in",children:k.fields.map(M=>{var U;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[M.label,M.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),M.type==="select"?e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:j[M.name]||"",onChange:z=>w(M.name,z.target.value),required:M.required,children:[e.jsx("option",{value:"",children:"请选择"}),(U=M.options)==null?void 0:U.map(z=>e.jsx("option",{value:z,children:z},z))]}):e.jsx("input",{type:M.type,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:j[M.name]||"",onChange:z=>w(M.name,z.target.value),required:M.required})]},M.name)})}):e.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 transition-all duration-300 ${n?"border-primary-400 bg-primary-50":"border-gray-300"}`,children:n?e.jsxs("div",{className:"animate-slide-in",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"bg-primary-100 text-primary-600 p-3 rounded-full",children:e.jsx($,{size:28})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h4",{className:"font-medium mb-1",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(n.size/1024).toFixed(2)," KB"]})]}),u&&e.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-4 mb-4",children:[e.jsx("h5",{className:"font-medium mb-2",children:"数据预览"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{className:"mb-2",children:["共 ",u.totalRows," 行数据"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:u.columns.map(M=>e.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500",children:M},M))})}),e.jsx("tbody",{children:u.sample.map((M,U)=>e.jsx("tr",{children:M.map((z,P)=>e.jsx("td",{className:"px-2 py-1 text-xs",children:z},P))},U))})]})})]})]}),e.jsxs("button",{onClick:()=>l(null),className:"flex items-center justify-center text-red-500 mx-auto",children:[e.jsx(ze,{size:16,className:"mr-1"}),"移除文件"]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-gray-100 p-4 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:e.jsx(mt,{size:28,className:"text-gray-500"})}),e.jsx("h4",{className:"font-medium mb-2",children:"上传Excel文件"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"支持.xlsx, .xls, .csv格式"}),e.jsxs("label",{className:"btn-primary inline-block",children:[e.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",className:"hidden",onChange:p}),"选择文件"]})]})})]}):null},C=()=>{var k,M;return e.jsxs("div",{className:"px-4 pb-20",children:[c?e.jsxs("div",{className:"text-center animate-slide-in",children:[e.jsx("div",{className:"bg-green-100 mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-6",children:e.jsx(Jr,{size:32,className:"text-green-600"})}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"生成成功！"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["已成功生成",x?"1份":"15份","文档"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"btn-primary w-full flex items-center justify-center py-3",children:[e.jsx(Zo,{size:20,className:"mr-2"}),"下载",x?"":"全部","文档"]}),e.jsx("button",{onClick:N,className:"text-primary-600 w-full py-3",children:"重新开始"})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary-100 mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-6",children:e.jsx($,{size:32,className:"text-primary-600"})}),e.jsx("h3",{className:"text-xl font-medium mb-4",children:"准备就绪"}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 text-left",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ns,{size:20,className:"text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-blue-600",children:x?e.jsxs(e.Fragment,{children:["将使用已填写的表单数据，基于",e.jsx("span",{className:"font-medium",children:(k=T.find(U=>U.id===r))==null?void 0:k.name}),"生成文档。"]}):e.jsxs(e.Fragment,{children:["将使用 ",e.jsx("span",{className:"font-medium",children:n==null?void 0:n.name})," 中的数据， 基于 ",e.jsx("span",{className:"font-medium",children:(M=T.find(U=>U.id===r))==null?void 0:M.name})," 生成文档。"]})})})]})}),e.jsxs("button",{className:"btn-primary w-full py-3 flex items-center justify-center",onClick:f,children:["开始生成",e.jsx(Le,{size:20,className:"ml-2"})]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-white flex items-center justify-center z-50",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mx-auto mb-6",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary-200 rounded-full animate-spin border-t-primary-600"}),e.jsx($,{size:24,className:"text-primary-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"正在生成..."}),e.jsx("p",{className:"text-gray-500",children:"请稍候"})]})})]})},L=()=>{var M;const k=x?Object.keys(j).length===((M=T.find(U=>U.id===r))==null?void 0:M.fields.length):!!n;return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:e.jsxs("button",{className:"btn-primary w-full py-3 flex items-center justify-center",disabled:t===1?!r:!k,onClick:()=>t<3?s(t+1):f(),children:[t<3?"下一步":"开始生成",e.jsx(Le,{size:20,className:"ml-2"})]})})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b(),e.jsxs("div",{className:"pt-28",children:[t===1&&v(),t===2&&D(),t===3&&C()]}),!i&&!c&&L()]})},ua=t=>{try{return new Date(t).toLocaleDateString()}catch(s){return console.error("Error formatting date:",t,s),"Invalid Date"}},xa=(t="Unknown")=>{let s=0;for(let a=0;a<t.length;a++)s=t.charCodeAt(a)+((s<<5)-s);const r=["bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300","bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-300","bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-300","bg-yellow-100 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-300","bg-pink-100 text-pink-700 dark:bg-pink-500/20 dark:text-pink-300","bg-purple-100 text-purple-700 dark:bg-purple-500/20 dark:text-purple-300","bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-300","bg-cyan-100 text-cyan-700 dark:bg-cyan-500/20 dark:text-cyan-300"];return r[Math.abs(s)%r.length]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"},td=()=>{const[t,s]=h.useState(""),[r,a]=h.useState("all"),[n,l]=h.useState([]),[i,o]=h.useState("table"),[c,d]=h.useState([]),[u,m]=h.useState({}),[x,g]=h.useState(!0),[j,y]=h.useState(!1);h.useEffect(()=>{T()},[]);const T=async()=>{g(!0);try{const[k,M]=await Promise.all([Ml(),Wn()]);if(k.success&&k.data&&d(k.data),M.success&&M.data){const U={};M.data.forEach(z=>{U[z.id]=z.name}),m(U)}}catch(k){I.error("加载数据时发生错误"),console.error("Error loading data:",k)}finally{g(!1)}},p=k=>{l(M=>M.includes(k)?M.filter(U=>U!==k):[...M,k])},w=c.filter(k=>k.name.toLowerCase().includes(t.toLowerCase())&&(r==="all"||k.templateId===Number(r))),f=()=>{n.length===w.length&&w.length>0?l([]):l(w.map(k=>k.id))},N=["all",...Object.entries(u).map(([k,M])=>({id:Number(k),name:M}))],b=async()=>{if(n.length!==0&&confirm(`确定要删除选中的 ${n.length} 个文档吗？此操作不可恢复。`)){y(!0);try{const k=await Il(n);k.success?(I.success(k.message||"删除成功"),d(M=>M.filter(U=>!n.includes(U.id))),l([])):I.error(k.error||"删除失败")}catch(k){I.error("删除文档时发生错误"),console.error("Error deleting documents:",k)}finally{y(!1)}}},v=()=>{console.log("Downloading selected documents:",n)},D=k=>{console.log("Deleting document:",k),d(M=>M.filter(U=>U.id!==k)),l(M=>M.filter(U=>U!==k))};if(x)return e.jsxs("div",{className:"space-y-4 fade-in",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:e.jsx(ie,{type:"text",lines:1,width:"200px",height:"32px"})}),e.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-border",children:e.jsx(ie,{type:"text",lines:1})}),e.jsx("div",{className:"p-3 md:p-4",children:e.jsx(ie,{type:"table",lines:5})})]})]});const C=c.length,L=c.filter(k=>{const M=new Date(k.generatedAt);return(Date.now()-M.getTime())/(1e3*60*60*24)<=7}).length;return e.jsxs("div",{className:"space-y-4 page-wrapper",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"文档总数"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:C})]})}),e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"最近7天"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:L})]})})]}),n.length>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:v,className:"btn-outline flex items-center gap-2 text-sm h-14 px-4",children:[e.jsx(W,{size:16}),"下载选中 (",n.length,")"]}),e.jsx("button",{onClick:b,disabled:j,className:"btn-danger flex items-center gap-2 text-sm h-14 px-4 disabled:opacity-50 disabled:cursor-not-allowed",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"删除中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ve,{size:16}),"删除选中 (",n.length,")"]})})]})]}),e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-border",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 flex-grow",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] w-full sm:w-auto",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Oe,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{type:"text",placeholder:"搜索文档名称...",className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",value:t,onChange:k=>s(k.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsxs("label",{htmlFor:"template-filter",className:"flex items-center text-sm text-muted-foreground whitespace-nowrap",children:[e.jsx(xs,{size:16,className:"mr-1.5 flex-shrink-0"}),"模板:"]}),e.jsx("select",{id:"template-filter",className:"input-primary appearance-none text-sm py-2.5 pl-3 pr-8",value:r,onChange:k=>a(k.target.value==="all"?"all":Number(k.target.value)),children:N.map(k=>e.jsx("option",{value:typeof k=="string"?k:k.id,children:typeof k=="string"?"全部模板":k.name},typeof k=="string"?k:k.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-1 p-0.5 bg-background rounded-lg",children:[e.jsx("button",{onClick:()=>o("table"),title:"表格视图",className:`p-1.5 rounded-md transition-colors ${i==="table"?"bg-primary-500 text-white shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Ut,{size:18})}),e.jsx("button",{onClick:()=>o("card"),title:"卡片视图",className:`p-1.5 rounded-md transition-colors ${i==="card"?"bg-primary-500 text-white shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(qo,{size:18})})]})]})}),w.length===0?e.jsxs("div",{className:"py-16 text-center px-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-background rounded-full mb-6",children:e.jsx($,{size:40,className:"text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"未找到任何文档"}),e.jsx("p",{className:"text-md text-muted-foreground mb-6",children:"请尝试调整搜索词或筛选条件，或生成您的第一个文档。"})]}):i==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-border",children:[e.jsx("thead",{className:"bg-background",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"pl-4 pr-2 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider w-12",children:e.jsx("div",{title:n.length===w.length&&w.length>0?"取消全选":"全选",className:`h-5 w-5 rounded-md border-2 flex items-center justify-center cursor-pointer transition-all
                        ${n.length===w.length&&w.length>0?"bg-primary-600 border-primary-600 hover:bg-primary-700":"border-border hover:border-primary-400 bg-card"}`,onClick:f,children:n.length===w.length&&w.length>0&&e.jsx(Ae,{size:14,className:"text-white",strokeWidth:3})})}),e.jsx("th",{scope:"col",className:"px-4 py-2.5 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"文档名称"}),e.jsx("th",{scope:"col",className:"px-4 py-2.5 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"模板"}),e.jsx("th",{scope:"col",className:"px-4 py-2.5 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"生成日期"}),e.jsx("th",{scope:"col",className:"px-4 py-2.5 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"状态"}),e.jsx("th",{scope:"col",className:"px-4 py-2.5 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-card divide-y divide-border",children:w.map(k=>e.jsxs("tr",{className:`hover:bg-background transition-colors duration-150 ${n.includes(k.id)?"bg-primary-50/30 dark:bg-primary-900/20":""}`,children:[e.jsx("td",{className:"pl-3 pr-2 py-3",children:e.jsx("div",{title:n.includes(k.id)?"取消选择":"选择",className:`h-5 w-5 rounded-md border-2 flex items-center justify-center cursor-pointer transition-all 
                          ${n.includes(k.id)?"bg-primary-600 border-primary-600 hover:bg-primary-700":"border-border hover:border-primary-400 bg-card"}`,onClick:()=>p(k.id),children:n.includes(k.id)&&e.jsx(Ae,{size:14,className:"text-white",strokeWidth:3})})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-primary-100 dark:bg-primary-900/50 rounded-lg flex items-center justify-center text-primary-600 dark:text-primary-400",children:e.jsx($,{size:16})}),e.jsxs("div",{className:"ml-2.5 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-foreground hover:text-primary-600 cursor-pointer truncate",title:k.name,children:k.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",title:k.contentPreview,children:k.contentPreview})]})]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full 
                                        ${xa(u[k.templateId])}`,children:u[k.templateId]||"未知模板"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{size:14,className:"mr-1.5 text-muted-foreground flex-shrink-0"}),ua(k.generatedAt)]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-muted-foreground",children:k.status||"N/A"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[e.jsx("button",{onClick:()=>console.log("Preview doc:",k.id),className:"p-1.5 rounded-md hover:bg-background focus-ring",title:"预览",children:e.jsx(se,{size:15,className:"text-muted-foreground hover:text-foreground"})}),e.jsx("button",{onClick:()=>console.log("Download doc:",k.id),className:"p-1.5 rounded-md hover:bg-background focus-ring",title:"下载",children:e.jsx(W,{size:15,className:"text-muted-foreground hover:text-foreground"})}),e.jsx("button",{onClick:()=>D(k.id),className:"p-1.5 rounded-md hover:bg-background focus-ring",title:"删除",children:e.jsx(Ve,{size:15,className:"text-red-500 hover:text-red-600"})})]})})]},k.id))})]})}):e.jsx("div",{className:"p-3 md:p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:w.map((k,M)=>e.jsx(ue,{index:M,children:e.jsxs("div",{className:"bg-card rounded-lg shadow-md border border-border p-3 flex flex-col card-hover",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 dark:bg-primary-500/20 rounded-lg flex items-center justify-center text-primary-600 dark:text-primary-300",children:e.jsx($,{size:20})}),e.jsx("span",{className:`ml-auto text-[0.7rem] font-medium px-1.5 py-0.5 rounded-full self-start ${xa(u[k.templateId])}`,children:u[k.templateId]||"未知模板"})]}),e.jsx("h3",{className:"text-md font-semibold text-foreground hover:text-primary-600 cursor-pointer truncate mb-1",title:k.name,children:k.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-1 truncate",title:k.contentPreview,children:k.contentPreview}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["状态: ",k.status||"N/A"]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-auto pt-2 border-t border-border/60",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"生成日期:"}),e.jsx("span",{children:ua(k.generatedAt)})]})}),e.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>console.log("Preview doc:",k.id),className:"p-1.5 rounded-md hover:bg-gray-500/10 focus-ring",title:"预览",children:e.jsx(se,{size:15,className:"text-muted-foreground hover:text-foreground"})}),e.jsx("button",{onClick:()=>console.log("Download doc:",k.id),className:"p-1.5 rounded-md hover:bg-gray-500/10 focus-ring",title:"下载",children:e.jsx(W,{size:15,className:"text-muted-foreground hover:text-foreground"})}),e.jsx("button",{onClick:()=>D(k.id),className:"p-1.5 rounded-md hover:bg-red-500/10 focus-ring",title:"删除",children:e.jsx(Ve,{size:15,className:"text-red-500 hover:text-red-600"})})]})]})},k.id))})]})]})},sd=()=>{const[t,s]=h.useState("general"),r=[{id:"general",label:"常规设置",icon:e.jsx(Pt,{size:16})},{id:"templates",label:"模板设置",icon:e.jsx($,{size:16})},{id:"account",label:"账户信息",icon:e.jsx(Qe,{size:16})},{id:"notifications",label:"通知设置",icon:e.jsx(In,{size:16})},{id:"storage",label:"存储设置",icon:e.jsx(Ko,{size:16})}];return e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm overflow-hidden flex flex-col md:flex-row h-[calc(100vh-8rem)]",children:[e.jsx("div",{className:"w-full md:w-56 border-b md:border-b-0 md:border-r border-border bg-background/50 flex-shrink-0",children:e.jsx("nav",{className:"p-3",children:e.jsx("ul",{className:"space-y-1",children:r.map(a=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>s(a.id),className:`w-full flex items-center px-3 py-2.5 rounded-lg transition-all duration-200 text-sm ${t===a.id?"bg-primary-500/15 dark:bg-primary-500/25 text-primary-600 dark:text-primary-300 font-medium":"text-muted-foreground hover:bg-background dark:hover:bg-white/5 hover:text-foreground"}`,children:[e.jsx("span",{className:"mr-2.5",children:a.icon}),e.jsx("span",{children:a.label})]})},a.id))})})}),e.jsxs("div",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:[t==="general"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"常规设置"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"配置系统基本参数和默认选项"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"系统名称"}),e.jsx("input",{type:"text",className:"input-primary w-full",defaultValue:"文管家"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"默认语言"}),e.jsxs("select",{className:"input-primary w-full",defaultValue:"zh_CN",children:[e.jsx("option",{value:"zh_CN",children:"简体中文"}),e.jsx("option",{value:"en_US",children:"English (US)"}),e.jsx("option",{value:"ja_JP",children:"日本語"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"默认文档格式"}),e.jsxs("select",{className:"input-primary w-full",defaultValue:"docx",children:[e.jsx("option",{value:"docx",children:"Microsoft Word (.docx)"}),e.jsx("option",{value:"pdf",children:"PDF Document (.pdf)"}),e.jsx("option",{value:"txt",children:"Text Document (.txt)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"autosave",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border rounded",defaultChecked:!0}),e.jsx("label",{htmlFor:"autosave",className:"ml-2 block text-sm text-foreground",children:"自动保存模板修改"})]})]}),e.jsx("div",{className:"pt-4 border-t border-border flex justify-end",children:e.jsxs("button",{className:"btn-primary flex items-center",children:[e.jsx(ys,{size:16,className:"mr-2"}),"保存设置"]})})]}),t==="templates"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"模板设置"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"管理模板存储和版本控制选项"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"模板存储路径"}),e.jsx("input",{type:"text",className:"input-primary w-full",defaultValue:"/templates"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"默认模板类型"}),e.jsxs("select",{className:"input-primary w-full",defaultValue:"standard",children:[e.jsx("option",{value:"standard",children:"标准模板"}),e.jsx("option",{value:"complex",children:"复杂模板"}),e.jsx("option",{value:"simple",children:"简单模板"})]})]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("input",{id:"allowDuplicate",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border rounded",defaultChecked:!0}),e.jsx("label",{htmlFor:"allowDuplicate",className:"ml-2 block text-sm text-foreground",children:"允许创建重名模板"})]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("input",{id:"enableVersioning",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border rounded",defaultChecked:!0}),e.jsx("label",{htmlFor:"enableVersioning",className:"ml-2 block text-sm text-foreground",children:"启用模板版本控制"})]})]}),e.jsx("div",{className:"pt-4 border-t border-border flex justify-end",children:e.jsxs("button",{className:"btn-primary flex items-center",children:[e.jsx(ys,{size:16,className:"mr-2"}),"保存设置"]})})]}),t==="account"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"账户信息"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"管理您的账户基本信息和安全设置"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-background rounded-lg border border-border",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Qe,{size:32,className:"text-primary-600 dark:text-primary-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-semibold text-foreground",children:"管理员账户"}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"admin@example.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"用户名"}),e.jsx("input",{type:"text",className:"input-primary w-full",defaultValue:"管理员"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"电子邮箱"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",className:"input-primary flex-1",defaultValue:"admin@example.com"}),e.jsx("button",{className:"btn-outline px-4 whitespace-nowrap",children:"验证邮箱"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("h3",{className:"text-base font-semibold text-foreground mb-4",children:"修改密码"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"当前密码"}),e.jsx("input",{type:"password",className:"input-primary w-full",placeholder:"输入当前密码"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"新密码"}),e.jsx("input",{type:"password",className:"input-primary w-full",placeholder:"输入新密码"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"确认新密码"}),e.jsx("input",{type:"password",className:"input-primary w-full",placeholder:"再次输入新密码"})]})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-border flex justify-end",children:e.jsxs("button",{className:"btn-primary flex items-center",children:[e.jsx(ys,{size:16,className:"mr-2"}),"保存设置"]})})]})]})]})})},rd=t=>{try{return new Date(t).toLocaleDateString("zh-CN")}catch{return"Invalid Date"}},ad=t=>{switch(t){case"connected":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-300",children:[e.jsx(H,{size:12}),"已连接"]});case"disconnected":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",children:[e.jsx(Wo,{size:12}),"未连接"]});case"error":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-300",children:[e.jsx(ns,{size:12}),"错误"]});default:return null}},nd=t=>{switch(t){case"excel":case"csv":return e.jsx(ne,{size:20,className:"text-blue-500"});case"database":return e.jsx(Et,{size:20,className:"text-green-500"});case"api":return e.jsx(Ho,{size:20,className:"text-purple-500"});case"manual":return e.jsx(is,{size:20,className:"text-orange-500"});default:return e.jsx(Et,{size:20})}},id=()=>{const[t,s]=h.useState("sources"),[r,a]=h.useState(""),[n,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!1);h.useEffect(()=>{x()},[t]);const x=async()=>{d(!0);try{if(t==="sources"){const N=await Ll();N.success&&N.data?l(N.data):I.error("加载数据源失败")}else{const N=await Fl();N.success&&N.data?o(N.data):I.error("加载数据集合失败")}}catch{I.error("加载数据失败")}finally{d(!1)}},g=async N=>{if(confirm("确定要删除这个数据源吗？")){m(!0);try{const b=await Vl(N);b.success?(I.success("删除成功"),x()):I.error(b.error||"删除失败")}catch{I.error("删除失败")}finally{m(!1)}}},j=async N=>{if(confirm("确定要删除这个数据集合吗？")){m(!0);try{const b=await Bl(N);b.success?(I.success("删除成功"),x()):I.error(b.error||"删除失败")}catch{I.error("删除失败")}finally{m(!1)}}},y=n.filter(N=>{var b;return N.name.toLowerCase().includes(r.toLowerCase())||((b=N.description)==null?void 0:b.toLowerCase().includes(r.toLowerCase()))}),T=i.filter(N=>{var b,v;return N.name.toLowerCase().includes(r.toLowerCase())||((b=N.description)==null?void 0:b.toLowerCase().includes(r.toLowerCase()))||((v=N.category)==null?void 0:v.toLowerCase().includes(r.toLowerCase()))}),p=n.filter(N=>N.status==="connected").length,w=t==="sources"?n.reduce((N,b)=>N+(b.recordCount||0),0):i.reduce((N,b)=>N+b.records.length,0),f=t==="sources"?n.length:i.length;return e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"总数"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:f})]})}),t==="sources"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"已连接"}),e.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:p})]})}),e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"总记录数"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:w.toLocaleString()})]})})]}),t==="collections"&&e.jsx("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-card border border-border h-14",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"总记录数"}),e.jsx("div",{className:"text-lg font-semibold text-foreground",children:w.toLocaleString()})]})})]}),e.jsxs("button",{className:"btn-primary flex items-center gap-2 h-14 px-6 whitespace-nowrap",children:[e.jsx(vs,{size:18}),t==="sources"?"新建数据源":"新建数据集合"]})]}),e.jsx("div",{className:"border-b border-border",children:e.jsxs("nav",{className:"flex gap-6",children:[e.jsxs("button",{onClick:()=>s("sources"),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${t==="sources"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-muted-foreground hover:text-foreground"}`,children:["数据源",e.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",n.length,")"]})]}),e.jsxs("button",{onClick:()=>s("collections"),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${t==="collections"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-muted-foreground hover:text-foreground"}`,children:["数据集合",e.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",i.length,")"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Oe,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:t==="sources"?"搜索数据源...":"搜索数据集合...",value:r,onChange:N=>a(N.target.value),className:"input-primary w-full pl-10 pr-4 py-2"})]}),e.jsxs("button",{className:"btn-outline flex items-center gap-2",children:[e.jsx(xs,{size:18}),"筛选"]})]}),c?e.jsx(ie,{type:"card",count:3}):e.jsx(e.Fragment,{children:t==="sources"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[y.map((N,b)=>e.jsx(ue,{animationDelay:b*50,children:e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm hover:shadow-md transition-all duration-300 p-5 card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[nd(N.type),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:N.name}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:N.type==="excel"?"Excel文件":N.type==="csv"?"CSV文件":N.type==="database"?"数据库":N.type==="api"?"API接口":"手动录入"})]})]}),e.jsx("button",{className:"p-1.5 rounded-lg hover:bg-background dark:hover:bg-white/5 text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(Rt,{size:16})})]}),N.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:N.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ad(N.status),N.recordCount!==void 0&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:[N.recordCount," 条记录"]})]}),N.lastSyncAt&&e.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:["最后同步: ",rd(N.lastSyncAt)]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-border",children:[e.jsxs("button",{className:"flex-1 btn-outline text-sm py-2 flex items-center justify-center gap-2",children:[e.jsx(se,{size:14}),"查看"]}),e.jsxs("button",{className:"flex-1 btn-outline text-sm py-2 flex items-center justify-center gap-2",children:[e.jsx(Pt,{size:14}),"配置"]}),e.jsx("button",{onClick:()=>g(N.id),disabled:u,className:"btn-outline text-sm py-2 px-3 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-500/10 dark:hover:text-red-400",children:e.jsx(Ve,{size:14})})]})]})},N.id)),y.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Et,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"暂无数据源"}),e.jsxs("button",{className:"btn-primary mt-4 flex items-center gap-2 mx-auto",children:[e.jsx(vs,{size:18}),"创建数据源"]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[T.map((N,b)=>e.jsx(ue,{animationDelay:b*50,children:e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm hover:shadow-md transition-all duration-300 p-5 card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:N.name}),N.isFavorite&&e.jsx(te,{size:16,className:"text-yellow-500 fill-yellow-500 flex-shrink-0"})]}),N.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:N.description})]}),e.jsx("button",{className:"p-1.5 rounded-lg hover:bg-background dark:hover:bg-white/5 text-muted-foreground hover:text-foreground transition-colors flex-shrink-0",children:e.jsx(Rt,{size:16})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[N.category&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-primary-100 text-primary-700 dark:bg-primary-500/20 dark:text-primary-300",children:[e.jsx(ps,{size:12}),N.category]}),N.tags&&N.tags.length>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.tags.length," 个标签"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"字段数"}),e.jsx("span",{className:"font-medium text-foreground",children:N.fields.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"记录数"}),e.jsx("span",{className:"font-medium text-foreground",children:N.records.length})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-border",children:[e.jsxs("button",{className:"flex-1 btn-outline text-sm py-2 flex items-center justify-center gap-2",children:[e.jsx(se,{size:14}),"查看"]}),e.jsxs("button",{className:"flex-1 btn-outline text-sm py-2 flex items-center justify-center gap-2",children:[e.jsx(is,{size:14}),"编辑"]}),e.jsx("button",{onClick:()=>j(N.id),disabled:u,className:"btn-outline text-sm py-2 px-3 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-500/10 dark:hover:text-red-400",children:e.jsx(Ve,{size:14})})]})]})},N.id)),T.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Et,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"暂无数据集合"}),e.jsxs("button",{className:"btn-primary mt-4 flex items-center gap-2 mx-auto",children:[e.jsx(vs,{size:18}),"创建数据集合"]})]})]})})]})})},od=()=>{const t=re(),r=$e().pathname==="/",[a,n]=h.useState(""),[l,i]=h.useState(0);h.useState("");const o=["探索","explore","宇宙","universe","404","未知","unknown"];h.useRef(null);const c=h.useRef(0),d=[{id:"all",name:"全部",icon:Se},{id:"人力资源",name:"人力资源",icon:de},{id:"法律",name:"法律",icon:$},{id:"销售",name:"销售",icon:he},{id:"IT",name:"IT",icon:Q},{id:"服务",name:"服务",icon:ge},{id:"房地产",name:"房地产",icon:ne}],u=()=>{const m=Date.now();m-c.current<1e3?i(x=>{const g=x+1;return g===5&&(I.success("✨ 发现了隐藏入口！",{icon:"🌌"}),setTimeout(()=>{t("/explore")},500)),g}):i(1),c.current=m};return h.useEffect(()=>{const m=a.toLowerCase();if(o.some(x=>m.includes(x.toLowerCase()))){const x=setTimeout(()=>{I.success("✨ 发现了隐藏入口！",{icon:"🌌"}),setTimeout(()=>{t("/explore"),n("")},500)},1e3);return()=>clearTimeout(x)}},[a,t]),h.useEffect(()=>{const m=x=>{(x.ctrlKey||x.metaKey)&&x.shiftKey&&x.key==="E"&&(x.preventDefault(),I.success("✨ 发现了隐藏入口！",{icon:"🌌"}),t("/explore"))};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[t]),e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e.jsx("div",{className:"w-full max-w-[1800px] mx-auto px-4 md:px-6 lg:px-8",children:r?e.jsx("div",{className:"pt-[20vh] pb-[30vh]",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsxs("div",{className:"relative cursor-pointer group transition-transform hover:scale-110 active:scale-95",onClick:u,title:"试试连续点击5次...",children:[e.jsx(Fs,{size:64,className:"text-primary-600 dark:text-primary-400 group-hover:text-primary-500 dark:group-hover:text-primary-300 transition-colors",strokeWidth:2}),e.jsx(Q,{size:24,className:"absolute -top-1 -right-1 text-primary-500 dark:text-primary-300 animate-pulse"}),l>0&&l<5&&e.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 text-xs text-primary-500 animate-bounce",children:[l,"/5"]})]}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-primary-600 dark:text-primary-400",children:"文管家"})]}),e.jsx("p",{className:"text-base text-muted-foreground",children:"智能文档管理，让工作更高效"}),e.jsx("p",{className:"text-xs text-muted-foreground/30 mt-2 font-mono",children:'hint: try Ctrl+Shift+E or type "explore"'})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Oe,{size:24,className:"absolute left-5 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"搜索模板、文档... 例如：劳动合同、销售方案、项目报告",value:a,onChange:m=>n(m.target.value),onKeyDown:m=>{m.key==="Enter"&&a&&t(`/search?q=${encodeURIComponent(a)}`)},className:"w-full pl-14 pr-14 py-4 text-lg rounded-2xl bg-card border-2 border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all shadow-lg hover:shadow-xl",autoFocus:!0}),a&&e.jsx("button",{onClick:()=>n(""),className:"absolute right-5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(ze,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"热门搜索："}),["劳动合同","入职申请","销售方案","项目计划","绩效考核","请假单","财务报表","会议记录"].map(m=>e.jsx("button",{onClick:()=>t(`/search?q=${encodeURIComponent(m)}`),className:"text-sm px-4 py-2 rounded-lg bg-card hover:bg-primary-500/10 border border-border hover:border-primary-500 text-foreground transition-all font-medium",children:m},m))]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"快速分类："}),d.filter(m=>m.id!=="all").map(m=>{const x=m.icon;return e.jsxs("button",{onClick:()=>t(`/search?category=${encodeURIComponent(m.id)}`),className:"text-sm px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-1.5 bg-card hover:bg-accent border border-border text-foreground",children:[e.jsx(x,{size:14}),e.jsx("span",{children:m.name})]},m.id)})]})]})]})}):null})})},ld=()=>{const t=re(),{isAuthenticated:s}=Zt(),[r,a]=h.useState([]),[n,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState([]),[x,g]=h.useState(!0),j=[{id:"人力资源",name:"人力资源",icon:de,color:"text-blue-500"},{id:"法律",name:"法律",icon:$,color:"text-purple-500"},{id:"销售",name:"销售",icon:he,color:"text-green-500"},{id:"IT",name:"IT",icon:Q,color:"text-cyan-500"},{id:"服务",name:"服务",icon:ge,color:"text-orange-500"}];h.useEffect(()=>{y()},[s]);const y=async()=>{g(!0);try{const[p,w,f,N]=await Promise.all([tt({sortBy:"hot"}),st({sortBy:"hot"}),Yl(),s?Promise.all([da("template",6),da("document",6)]):Promise.resolve([{success:!0,data:[]},{success:!0,data:[]}])]),b=[...(p.data||[]).slice(0,5),...(w.data||[]).slice(0,5)].sort((D,C)=>{const L="stats"in D?D.stats.views:0;return("stats"in C?C.stats.views:0)-L}).slice(0,8);if(a(b),f.success&&f.data&&o(f.data.slice(0,6)),Array.isArray(N)){const[D,C]=N,L=[...D.data||[],...C.data||[]].slice(0,8);l(L)}const v=[...b].slice(0,10);m(v),d([{id:"user-001",name:"HR专家",avatar:"",level:"expert",followers:12500,works:45},{id:"user-002",name:"法律顾问张律师",avatar:"",level:"expert",followers:8900,works:32},{id:"user-003",name:"销售总监",avatar:"",level:"advanced",followers:7800,works:28},{id:"user-012",name:"产品总监",avatar:"",level:"expert",followers:6700,works:25}])}catch{I.error("加载发现页内容失败")}finally{g(!1)}},T=(p,w)=>{const f="placeholders"in p,N="stats"in p?p.stats:{views:0,downloads:0,rating:0};return e.jsx(ue,{delay:w*50,children:e.jsxs("div",{onClick:()=>t(`/${f?"templates":"documents"}/${p.id}`),className:"bg-card rounded-xl border border-border p-4 cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all min-w-[280px] flex-shrink-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[f?e.jsx($,{size:20,className:"text-primary-500"}):e.jsx(Se,{size:20,className:"text-primary-500"}),p.featured&&e.jsx(et,{size:16,className:"text-orange-500"})]}),p.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"免费"}):e.jsxs("span",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:[p.price.points," 积分"]})]}),e.jsx("h3",{className:"font-semibold text-foreground mb-2 line-clamp-2",children:p.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:p.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:N.rating||0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:N.views||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:N.downloads||0})]})]})]})]})},p.id)};return x?e.jsx("div",{className:"min-h-[calc(100vh-4rem)] py-8",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 md:px-6 lg:px-8 space-y-8",children:[e.jsx(ie,{type:"card"}),e.jsx(ie,{type:"card"}),e.jsx(ie,{type:"card"})]})}):e.jsx("div",{className:"min-h-[calc(100vh-4rem)] py-8",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 md:px-6 lg:px-8 space-y-12",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(et,{size:28,className:"text-orange-500"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"今日热门"})]}),e.jsxs("button",{onClick:()=>t("/search?sortBy=hot"),className:"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-1",children:["查看更多 ",e.jsx(dt,{size:16})]})]}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:r.map((p,w)=>T(p,w))})]}),s&&n.length>0&&e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{size:28,className:"text-purple-500"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"为你推荐"})]})}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:n.map((p,w)=>T(p,w))})]}),e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ge,{size:28,className:"text-yellow-500"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"官方精选"})]})}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:i.map((p,w)=>T(p,w))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Se,{size:28,className:"text-primary-500"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"分类推荐"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:j.map(p=>{const w=p.icon;return e.jsxs("button",{onClick:()=>t(`/search?category=${encodeURIComponent(p.id)}`),className:"bg-card border border-border rounded-xl p-6 hover:border-primary-500/50 hover:shadow-lg transition-all group",children:[e.jsx(w,{size:32,className:`${p.color} mb-3 mx-auto group-hover:scale-110 transition-transform`}),e.jsx("h3",{className:"font-semibold text-foreground text-center",children:p.name})]},p.id)})})]}),e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{size:28,className:"text-blue-500"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"优秀创作者"})]})}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:c.map(p=>e.jsxs("div",{onClick:()=>t(`/author/${p.id}`),className:"bg-card border border-border rounded-xl p-6 min-w-[240px] flex-shrink-0 cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center mx-auto mb-3",children:e.jsx(de,{size:32,className:"text-primary-600 dark:text-primary-400"})}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:p.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:p.level}),e.jsxs("div",{className:"flex items-center justify-around text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-foreground",children:p.followers}),e.jsx("div",{className:"text-muted-foreground",children:"粉丝"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-foreground",children:p.works}),e.jsx("div",{className:"text-muted-foreground",children:"作品"})]})]})]},p.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{size:28,className:"text-green-500"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"本周排行"})]}),e.jsxs("button",{onClick:()=>t("/ranking"),className:"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-1",children:["查看完整榜单 ",e.jsx(dt,{size:16})]})]}),e.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:e.jsx("div",{className:"space-y-3",children:u.map((p,w)=>{const f="placeholders"in p,N="stats"in p?p.stats:{views:0,downloads:0,rating:0};return e.jsxs("div",{onClick:()=>t(`/${f?"templates":"documents"}/${p.id}`),className:"flex items-center gap-4 p-3 rounded-lg hover:bg-accent cursor-pointer transition-colors",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${w===0?"bg-yellow-500 text-white":w===1?"bg-gray-400 text-white":w===2?"bg-orange-600 text-white":"bg-muted text-muted-foreground"}`,children:w+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:p.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:p.category})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:14}),e.jsxs("span",{children:[(N.views/1e3).toFixed(1),"K"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:14,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{children:N.rating})]})]})]},p.id)})})})]})]})})},dd=()=>{const t=re(),[s]=lr();Zt();const[r,a]=h.useState("all"),[n,l]=h.useState("grid"),[i,o]=h.useState(s.get("q")||""),[c,d]=h.useState("hot"),[u,m]=h.useState("all"),[x,g]=h.useState(s.get("category")||"all"),[j,y]=h.useState(!1),[T,p]=h.useState([]),[w,f]=h.useState([]),[N,b]=h.useState(!0),[v,D]=h.useState("");h.useEffect(()=>{C()},[i,c,u,x]),h.useEffect(()=>{const z=s.get("q"),P=s.get("category");z&&o(z),P&&g(P)},[s]);const C=async()=>{b(!0);try{const[z,P]=await Promise.all([tt({sortBy:c,priceType:u,category:x!=="all"?x:void 0,search:i||void 0}),st({sortBy:c==="hot"?"hot":c==="newest"?"newest":"downloads",priceType:u,category:x!=="all"?x:void 0,search:i||void 0})]);z.success&&z.data&&p(z.data),P.success&&P.data&&f(P.data)}catch{I.error("加载数据失败")}finally{b(!1)}},L=[{id:"all",name:"全部",icon:Se},{id:"人力资源",name:"人力资源",icon:de},{id:"法律",name:"法律",icon:$},{id:"销售",name:"销售",icon:he},{id:"IT",name:"IT",icon:Q},{id:"服务",name:"服务",icon:ge},{id:"房地产",name:"房地产",icon:ne}],k=r==="all"?[...T,...w]:r==="templates"?T:w,U=(()=>{const z={};return k.forEach(P=>{P.tags.forEach(A=>{z[A]=(z[A]||0)+1})}),Object.entries(z).sort((P,A)=>A[1]-P[1]).slice(0,12).map(([P])=>P)})();return e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-6",children:[e.jsx("div",{className:"pb-6 mb-6 border-b border-border",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{size:24,className:"absolute left-5 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"搜索模板、文档... 例如：劳动合同、销售方案、项目报告",value:i,onChange:z=>o(z.target.value),onKeyDown:z=>{z.key==="Enter"&&C()},className:"w-full pl-14 pr-14 py-4 text-lg rounded-xl bg-card border border-border text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all hover:border-primary-500/50"}),i&&e.jsx("button",{onClick:()=>o(""),className:"absolute right-5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(ze,{size:20})})]})})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pb-4 border-b border-border",children:[e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 flex-1",children:L.map(z=>{const P=z.icon;return e.jsxs("button",{onClick:()=>g(z.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${x===z.id?"bg-primary-500 text-white shadow-lg":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:[e.jsx(P,{size:16}),e.jsx("span",{children:z.name})]},z.id)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(!j),className:`p-2 rounded-lg transition-colors ${j?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:e.jsx(Fn,{size:18})}),e.jsxs("div",{className:"flex items-center gap-1 border border-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded transition-colors ${n==="grid"?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Se,{size:18})}),e.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded transition-colors ${n==="list"?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Ut,{size:18})})]})]})]}),j&&e.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"排序方式"}),e.jsxs("select",{value:c,onChange:z=>d(z.target.value),className:"w-full px-4 py-2 rounded-lg bg-background border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"hot",children:"最热门"}),e.jsx("option",{value:"newest",children:"最新发布"}),e.jsx("option",{value:"rating",children:"最高评分"}),e.jsx("option",{value:"downloads",children:"下载最多"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"价格筛选"}),e.jsxs("select",{value:u,onChange:z=>m(z.target.value),className:"w-full px-4 py-2 rounded-lg bg-background border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"全部价格"}),e.jsx("option",{value:"free",children:"仅免费"}),e.jsx("option",{value:"paid",children:"仅付费"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"内容类型"}),e.jsxs("select",{value:r,onChange:z=>a(z.target.value),className:"w-full px-4 py-2 rounded-lg bg-background border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"全部内容"}),e.jsx("option",{value:"templates",children:"仅模板"}),e.jsx("option",{value:"documents",children:"仅文档"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{g("all"),m("all"),d("hot"),o(""),D(""),a("all")},className:"w-full px-4 py-2 rounded-lg border-2 border-primary-500 text-primary-600 hover:bg-primary-500 hover:text-white font-medium transition-all",children:"重置筛选"})})]})}),U.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"热门标签："}),U.map(z=>e.jsxs("button",{onClick:()=>D(v===z?"":z),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${v===z?"bg-primary-500 text-white shadow-md":"bg-card border border-border text-foreground hover:border-primary-500/50 hover:bg-primary-500/5"}`,children:["#",z]},z)),v&&e.jsx("button",{onClick:()=>D(""),className:"px-3 py-1 rounded-lg text-sm font-medium bg-muted hover:bg-muted/80 text-foreground",children:"清除"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"搜索结果"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["找到 ",e.jsx("strong",{children:k.filter(z=>!v||z.tags.includes(v)).length})," 个结果"]})]})}),N?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:Array.from({length:12}).map((z,P)=>e.jsx(ie,{type:"card"},P))}):k.length>0?e.jsx("div",{className:n==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4":"space-y-3",children:k.filter(z=>!v||z.tags.includes(v)).map((z,P)=>{var B,S,R,Z,X,_e,jt,yt,vt,Gr;const A="fileCount"in z;return e.jsx(ue,{delay:P*30,children:e.jsx("div",{onClick:()=>t(`/${A?"templates":"documents"}/${z.id}`),className:`bg-card rounded-xl border border-border cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all ${n==="grid"?"p-4":"p-5 flex items-center gap-4"}`,children:n==="grid"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[A?e.jsx($,{size:20,className:"text-primary-500"}):e.jsx(ne,{size:20,className:"text-primary-500"}),z.official&&e.jsx(H,{size:16,className:"text-primary-500"}),z.featured&&e.jsx(et,{size:16,className:"text-orange-500"})]}),z.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600",children:"免费"}):e.jsxs("span",{className:"text-xs font-medium text-primary-600",children:[z.price.points," 积分"]})]}),e.jsx("h3",{className:"font-semibold text-foreground mb-2 line-clamp-2",children:z.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:z.description}),e.jsx("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:z.tags.slice(0,2).map(Yr=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-primary-500/10 text-primary-600",children:Yr},Yr))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:((B=z.stats)==null?void 0:B.rating)||0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:((S=z.stats)==null?void 0:S.views)||((R=z.stats)==null?void 0:R.views)||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:((Z=z.stats)==null?void 0:Z.uses)||((X=z.stats)==null?void 0:X.downloads)||0})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-lg bg-gradient-to-br from-primary-500/10 to-primary-600/5 flex items-center justify-center",children:A?e.jsx($,{size:32,className:"text-primary-500"}):e.jsx(ne,{size:32,className:"text-primary-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-foreground line-clamp-1",children:z.name}),z.price.type==="free"?e.jsx("span",{className:"ml-3 text-sm font-medium text-green-600 whitespace-nowrap",children:"免费"}):e.jsxs("span",{className:"ml-3 text-sm font-medium text-primary-600 whitespace-nowrap",children:[z.price.points," 积分"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-1",children:z.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{children:((_e=z.stats)==null?void 0:_e.rating)||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:((jt=z.stats)==null?void 0:jt.uses)||((yt=z.stats)==null?void 0:yt.downloads)||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:((vt=z.stats)==null?void 0:vt.views)||((Gr=z.stats)==null?void 0:Gr.views)||0})]})]})]})]})})},z.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"没有找到结果"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"试试调整搜索关键词或筛选条件"}),e.jsx("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-medium transition-all",children:"返回首页"})]})]})})},cd=()=>{const{id:t}=Ot(),s=re(),[r,a]=h.useState(null),[n,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[x,g]=h.useState(!1),[j,y]=h.useState([]),[T,p]=h.useState([]),[w,f]=h.useState(!1),[N,b]=h.useState(5),[v,D]=h.useState("");h.useEffect(()=>{t&&C()},[t]);const C=async()=>{if(t){o(!0);try{await Hl(t,"template");const[P,A,B,S]=await Promise.all([$l(t),Hn(t,"template"),Gn(t,"template",6),Gl(t,"template",6)]);if(P.success&&P.data){a(P.data);const R=JSON.parse(localStorage.getItem("docbutler_user_purchases")||"[]");m(P.data.price.type==="free"||R.some(_e=>_e.templateId===t));const Z=JSON.parse(localStorage.getItem("docbutler_user_favorites")||"[]");d(Z.includes(t));const X=await Xn(P.data.author.id);X.success&&g(X.data)}A.success&&A.data&&l(A.data),B.success&&B.data&&y(B.data),S.success&&S.data&&p(S.data)}catch{I.error("加载模板详情失败")}finally{o(!1)}}},L=async()=>{if(!(!t||!r))try{const P=await Ol(t);P.success?(m(!0),I.success(r.price.type==="free"?"已添加到我的模板":"购买成功"),C()):I.error(P.error||"购买失败")}catch{I.error("购买失败")}},k=async()=>{if(t)try{const P=!c;(await Ul(t,P)).success&&(d(P),I.success(P?"已收藏":"已取消收藏"),C())}catch{I.error("操作失败")}},M=async()=>{if(r)try{const P=!x;(await Yn(r.author.id,P)).success&&(g(P),I.success(P?"已关注作者":"已取消关注"))}catch{I.error("操作失败")}},U=async()=>{if(!t||!v.trim()){I.error("请输入评论内容");return}try{(await ql({targetId:t,targetType:"template",author:{id:"current-user",name:"当前用户"},rating:N,content:v})).success?(I.success("评论成功"),D(""),f(!1),C()):I.error("评论失败")}catch{I.error("评论失败")}},z=P=>{try{return new Date(P).toLocaleDateString("zh-CN")}catch{return P}};return i?e.jsx("div",{className:"page-wrapper",children:e.jsx(ie,{type:"card",count:3})}):r?e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(oe,{size:18}),"返回市场"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r.name}),r.official&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-primary-500/20 text-primary-600 dark:text-primary-400",children:[e.jsx(H,{size:12}),"官方认证"]}),r.featured&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-600 dark:text-orange-400",children:[e.jsx(ge,{size:12}),"精选"]})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:r.description}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Qe,{size:16}),e.jsx("span",{children:r.author.name}),r.author.verified&&e.jsx(H,{size:14,className:"text-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(hs,{size:16}),e.jsxs("span",{children:["发布于 ",z(r.publishedAt||r.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ps,{size:16}),e.jsx("span",{children:r.category})]})]})]})}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-4",children:r.tags.map(P=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400",children:P},P))}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 pt-4 border-t border-border",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.rating}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"评分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.uses}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"使用量"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.favorites}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"收藏"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.views}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"浏览"})]})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"模板预览"}),e.jsx("div",{className:"bg-background rounded-lg border border-border p-4 min-h-[400px]",children:e.jsxs("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:[e.jsx("p",{className:"text-muted-foreground",children:r.preview.content}),e.jsx("div",{className:"mt-4 p-3 bg-primary-500/10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:[e.jsx("strong",{children:"占位符："}),r.placeholders.join(", ")]})})]})})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-foreground",children:["评论 (",n.length,")"]}),e.jsxs("button",{onClick:()=>f(!w),className:"btn-outline text-sm flex items-center gap-2",children:[e.jsx(Ne,{size:16}),"写评论"]})]}),w&&e.jsxs("div",{className:"mb-6 p-4 bg-background rounded-lg border border-border",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"评分"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(P=>e.jsx("button",{onClick:()=>b(P),className:`p-1 ${N>=P?"text-yellow-500":"text-muted-foreground"}`,children:e.jsx(te,{size:20,className:N>=P?"fill-current":""})},P))})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"评论内容"}),e.jsx("textarea",{value:v,onChange:P=>D(P.target.value),className:"input-primary w-full min-h-[100px]",placeholder:"分享你的使用体验..."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:U,className:"btn-primary text-sm",children:"提交评论"}),e.jsx("button",{onClick:()=>{f(!1),D("")},className:"btn-outline text-sm",children:"取消"})]})]}),e.jsxs("div",{className:"space-y-4",children:[n.map(P=>e.jsx("div",{className:"border-b border-border pb-4 last:border-0",children:e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-600 dark:text-primary-400 font-semibold flex-shrink-0",children:P.author.name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-foreground",children:P.author.name}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(A=>e.jsx(te,{size:14,className:A<=P.rating?"text-yellow-500 fill-yellow-500":"text-muted-foreground"},A))}),e.jsx("span",{className:"text-xs text-muted-foreground",children:z(P.createdAt)})]}),e.jsx("p",{className:"text-sm text-foreground mb-2",children:P.content}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[e.jsx(Go,{size:14}),"有用 (",P.helpful,")"]}),P.replies.length>0&&e.jsxs("button",{className:"text-xs text-muted-foreground hover:text-foreground",children:["查看回复 (",P.replies.length,")"]})]})]})]})},P.id)),n.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ne,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"暂无评论，成为第一个评论者吧！"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 sticky top-6",children:[e.jsx("div",{className:"text-center mb-6",children:r.price.type==="free"?e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2",children:"免费"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:r.price.points}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"积分"})]})}),e.jsxs("div",{className:"space-y-3",children:[u?e.jsxs("button",{onClick:()=>s(`/app/generate?templateId=${t}`),className:"btn-primary w-full flex items-center justify-center gap-2",children:[e.jsx(Q,{size:18}),"使用模板生成文档"]}):e.jsxs("button",{onClick:L,className:"btn-primary w-full flex items-center justify-center gap-2",children:[e.jsx(Yo,{size:18}),r.price.type==="free"?"免费使用":`购买 (${r.price.points} 积分)`]}),e.jsxs("button",{onClick:k,className:`btn-outline w-full flex items-center justify-center gap-2 ${c?"text-red-600 border-red-500/50 bg-red-500/10":""}`,children:[e.jsx(ae,{size:18,className:c?"fill-current":""}),c?"已收藏":"收藏"]}),e.jsxs("button",{className:"btn-outline w-full flex items-center justify-center gap-2",children:[e.jsx(_t,{size:18}),"分享"]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-border space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"版本"}),e.jsx("span",{className:"font-medium text-foreground",children:r.version})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"更新时间"}),e.jsx("span",{className:"font-medium text-foreground",children:z(r.updatedAt)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"占位符数量"}),e.jsx("span",{className:"font-medium text-foreground",children:r.placeholders.length})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-600 dark:text-primary-400 font-semibold",children:r.author.name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:r.author.name}),r.author.verified&&e.jsx(H,{size:14,className:"text-primary-500"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.author.level==="expert"?"专家":r.author.level==="master"?"大师":r.author.level==="advanced"?"高级":r.author.level==="intermediate"?"中级":r.author.level==="beginner"?"初级":"新手"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:M,className:`flex-1 text-sm py-2 rounded-lg transition-all ${x?"btn-outline border-primary-500 text-primary-600 dark:text-primary-400":"btn-primary"}`,children:x?e.jsxs(e.Fragment,{children:[e.jsx(de,{size:14,className:"mr-2"}),"已关注"]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{size:14,className:"mr-2"}),"关注作者"]})}),e.jsx("button",{onClick:()=>s(`/author/${r.author.id}`),className:"btn-outline text-sm py-2 px-4",children:"查看主页"})]})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"相关推荐"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg border border-border hover:border-primary-500/50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx($,{size:16,className:"text-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"员工合同模板（简化版）"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{children:"4.7"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"免费"})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border hover:border-primary-500/50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx($,{size:16,className:"text-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"劳动合同补充协议"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{children:"4.6"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"30 积分"})]})]})]})]})]})]})]})}):e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx($,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"模板不存在"}),e.jsx("button",{onClick:()=>s("/"),className:"btn-primary mt-4",children:"返回市场"})]})})},md=()=>{const{id:t}=Ot(),s=re(),[r,a]=h.useState(null),[n,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(!1);h.useState(!1),h.useState([]),h.useState([]),h.useEffect(()=>{t&&u()},[t]);const u=async()=>{if(t){o(!0);try{const[y,T]=await Promise.all([_l(t),Hn(t,"document")]);if(y.success&&y.data){a(y.data);const p=JSON.parse(localStorage.getItem("docbutler_user_favorites")||"[]");d(p.includes(t))}T.success&&T.data&&l(T.data)}catch{I.error("加载文档详情失败")}finally{o(!1)}}},m=async()=>{if(t)try{const y=!c;(await Zl(t,y)).success&&(d(y),I.success(y?"已收藏":"已取消收藏"),u())}catch{I.error("操作失败")}},x=()=>{if(r){if(r.price.type==="paid"){I.error("付费文档需要先购买");return}I.success("下载开始...")}},g=()=>{r!=null&&r.templateId&&s(`/templates/${r.templateId}`)},j=y=>{try{return new Date(y).toLocaleDateString("zh-CN")}catch{return y}};return i?e.jsx("div",{className:"page-wrapper",children:e.jsx(ie,{type:"card",count:3})}):r?e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>s("/"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(oe,{size:18}),"返回市场"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r.name}),r.author.verified&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-primary-500/20 text-primary-600 dark:text-primary-400",children:[e.jsx(H,{size:12}),"官方认证"]}),r.featured&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-600 dark:text-orange-400",children:[e.jsx(ge,{size:12}),"精选"]})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:r.description}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Qe,{size:16}),e.jsx("span",{children:r.author.name}),r.author.verified&&e.jsx(H,{size:14,className:"text-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(hs,{size:16}),e.jsxs("span",{children:["发布于 ",j(r.publishedAt||r.createdAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ps,{size:16}),e.jsx("span",{children:r.category})]})]})]})}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-4",children:r.tags.map(y=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400",children:y},y))}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 pt-4 border-t border-border",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.favorites}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"收藏"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.downloads}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"下载"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.views}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"浏览"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.uses}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"使用"})]})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"文档预览"}),e.jsx("div",{className:"bg-background rounded-lg border border-border p-4 min-h-[400px]",children:e.jsxs("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:[e.jsx("p",{className:"text-muted-foreground",children:r.preview.content}),r.sanitized&&e.jsx("div",{className:"mt-4 p-3 bg-green-500/10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.jsx(H,{size:14,className:"inline mr-1"}),"已脱敏处理，保护隐私数据"]})})]})})]}),r.templateId&&e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"使用的模板"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{size:24,className:"text-primary-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:r.templateName}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"基于此模板生成"})]})]}),e.jsxs("button",{onClick:g,className:"btn-outline text-sm flex items-center gap-2",children:["查看模板",e.jsx(Bn,{size:14})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 sticky top-6",children:[e.jsx("div",{className:"text-center mb-6",children:r.price.type==="free"?e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2",children:"免费"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:r.price.points}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"积分"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:x,className:"btn-primary w-full flex items-center justify-center gap-2",children:[e.jsx(W,{size:18}),"下载文档"]}),e.jsxs("button",{onClick:m,className:`btn-outline w-full flex items-center justify-center gap-2 ${c?"text-red-600 border-red-500/50 bg-red-500/10":""}`,children:[e.jsx(ae,{size:18,className:c?"fill-current":""}),c?"已收藏":"收藏"]}),e.jsxs("button",{className:"btn-outline w-full flex items-center justify-center gap-2",children:[e.jsx(_t,{size:18}),"分享"]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-border space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"分类"}),e.jsx("span",{className:"font-medium text-foreground",children:r.category})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"发布时间"}),e.jsx("span",{className:"font-medium text-foreground",children:j(r.publishedAt||r.createdAt)})]}),r.sanitized&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"数据安全"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"已脱敏"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-600 dark:text-primary-400 font-semibold",children:r.author.name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:r.author.name}),r.author.verified&&e.jsx(H,{size:14,className:"text-primary-500"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.author.level==="expert"?"专家":r.author.level==="master"?"大师":r.author.level==="advanced"?"高级":r.author.level==="intermediate"?"中级":r.author.level==="beginner"?"初级":"新手"})]})]}),e.jsx("button",{onClick:()=>s(`/author/${r.author.id}`),className:"btn-outline w-full text-sm",children:"查看作者主页"})]})]})})]})]})}):e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ne,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"文档不存在"}),e.jsx("button",{onClick:()=>s("/"),className:"btn-primary mt-4",children:"返回市场"})]})})},ha=()=>{const t=re(),[s,r]=h.useState(null),[a,n]=h.useState(1),[l,i]=h.useState({name:"",description:"",category:"",tags:[],priceType:"free",points:0,file:null}),[o,c]=h.useState({name:"",description:"",category:"",tags:[],priceType:"free",points:0,documentId:"",sanitized:!0}),[d,u]=h.useState(""),m=["人力资源","法律","销售","IT","服务","房地产","其他"],x=["合同","协议","标准","专业","通用","示例","参考"],g=p=>{p.trim()&&(s==="template"?!l.tags.includes(p)&&l.tags.length<5&&i({...l,tags:[...l.tags,p]}):!o.tags.includes(p)&&o.tags.length<5&&c({...o,tags:[...o.tags,p]}),u(""))},j=p=>{s==="template"?i({...l,tags:l.tags.filter(w=>w!==p)}):c({...o,tags:o.tags.filter(w=>w!==p)})},y=p=>{var f;const w=(f=p.target.files)==null?void 0:f[0];if(w){if(w.size>10*1024*1024){I.error("文件大小不能超过10MB");return}i({...l,file:w})}},T=()=>{if(s==="template"){if(!l.name||!l.description||!l.category){I.error("请填写完整信息");return}if(l.priceType==="paid"&&l.points<=0){I.error("请设置合理的积分价格");return}I.success("模板已提交审核，审核通过后将发布到市场"),t("/")}else{if(!o.name||!o.description||!o.category){I.error("请填写完整信息");return}if(o.priceType==="paid"&&o.points<=0){I.error("请设置合理的积分价格");return}I.success("文档已提交审核，审核通过后将发布到市场"),t("/")}};return s?e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>{a===1?r(null):n(a-1)},className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(oe,{size:18}),"返回"]}),e.jsx("div",{className:"flex items-center gap-4 mb-8",children:[1,2,3].map(p=>e.jsxs(fe.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${a>=p?"bg-primary-500 text-white":"bg-background border-2 border-border text-muted-foreground"}`,children:a>p?e.jsx(Ae,{size:20}):p}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:`text-sm font-medium ${a>=p?"text-foreground":"text-muted-foreground"}`,children:p===1?"基本信息":p===2?"设置价格":"预览发布"})})]}),p<3&&e.jsx("div",{className:`h-0.5 w-12 md:w-24 transition-all ${a>p?"bg-primary-500":"bg-border"}`})]},p))}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[a===1&&e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"基本信息"}),s==="template"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["模板名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:l.name,onChange:p=>i({...l,name:p.target.value}),className:"input-primary w-full",placeholder:"例如：员工劳动合同（标准版）"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["模板描述 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:l.description,onChange:p=>i({...l,description:p.target.value}),className:"input-primary w-full min-h-[100px]",placeholder:"详细描述模板的用途、特点和适用场景..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["分类 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:l.category,onChange:p=>i({...l,category:p.target.value}),className:"input-primary w-full",children:[e.jsx("option",{value:"",children:"选择分类"}),m.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"标签（最多5个）"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"text",value:d,onChange:p=>u(p.target.value),onKeyPress:p=>{p.key==="Enter"&&(p.preventDefault(),g(d))},className:"input-primary flex-1",placeholder:"输入标签后按回车"}),e.jsx("button",{onClick:()=>g(d),className:"btn-outline px-4",children:"添加"})]}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:x.map(p=>e.jsxs("button",{onClick:()=>g(p),className:"text-xs px-2 py-1 rounded bg-background border border-border hover:border-primary-500/50 text-muted-foreground hover:text-foreground transition-colors",children:["+ ",p]},p))}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:l.tags.map(p=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400 text-sm",children:[p,e.jsx("button",{onClick:()=>j(p),className:"hover:text-red-500",children:e.jsx(ze,{size:14})})]},p))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["上传模板文件 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",accept:".docx,.doc",onChange:y,className:"hidden",id:"template-upload"}),e.jsxs("label",{htmlFor:"template-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[e.jsx(mt,{size:32,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:l.file?l.file.name:"点击上传或拖拽文件到此处"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"支持 .docx, .doc 格式，最大 10MB"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["文档名称 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.name,onChange:p=>c({...o,name:p.target.value}),className:"input-primary w-full",placeholder:"例如：员工劳动合同示例（2024版）"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["文档描述 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:o.description,onChange:p=>c({...o,description:p.target.value}),className:"input-primary w-full min-h-[100px]",placeholder:"详细描述文档的内容、用途和特点..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["分类 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:o.category,onChange:p=>c({...o,category:p.target.value}),className:"input-primary w-full",children:[e.jsx("option",{value:"",children:"选择分类"}),m.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"标签（最多5个）"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"text",value:d,onChange:p=>u(p.target.value),onKeyPress:p=>{p.key==="Enter"&&(p.preventDefault(),g(d))},className:"input-primary flex-1",placeholder:"输入标签后按回车"}),e.jsx("button",{onClick:()=>g(d),className:"btn-outline px-4",children:"添加"})]}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:x.map(p=>e.jsxs("button",{onClick:()=>g(p),className:"text-xs px-2 py-1 rounded bg-background border border-border hover:border-primary-500/50 text-muted-foreground hover:text-foreground transition-colors",children:["+ ",p]},p))}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:o.tags.map(p=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400 text-sm",children:[p,e.jsx("button",{onClick:()=>j(p),className:"hover:text-red-500",children:e.jsx(ze,{size:14})})]},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"选择要分享的文档"}),e.jsxs("select",{value:o.documentId,onChange:p=>c({...o,documentId:p.target.value}),className:"input-primary w-full",children:[e.jsx("option",{value:"",children:"选择文档"}),e.jsx("option",{value:"doc-1",children:"文档示例 1"}),e.jsx("option",{value:"doc-2",children:"文档示例 2"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"文档将自动进行脱敏处理，保护隐私数据"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[e.jsx("button",{onClick:()=>r(null),className:"btn-outline",children:"取消"}),e.jsxs("button",{onClick:()=>n(2),className:"btn-primary flex items-center gap-2",children:["下一步",e.jsx(oe,{size:16,className:"rotate-180"})]})]})]}),a===2&&e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"设置价格"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-4",children:"价格类型"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{s==="template"?i({...l,priceType:"free"}):c({...o,priceType:"free"})},className:`p-4 rounded-lg border-2 transition-all ${(s==="template"?l.priceType:o.priceType)==="free"?"border-primary-500 bg-primary-500/10":"border-border hover:border-primary-500/50"}`,children:[e.jsx("div",{className:"text-lg font-semibold text-foreground mb-1",children:"免费"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"任何人都可以使用"})]}),e.jsxs("button",{onClick:()=>{s==="template"?i({...l,priceType:"paid"}):c({...o,priceType:"paid"})},className:`p-4 rounded-lg border-2 transition-all ${(s==="template"?l.priceType:o.priceType)==="paid"?"border-primary-500 bg-primary-500/10":"border-border hover:border-primary-500/50"}`,children:[e.jsx("div",{className:"text-lg font-semibold text-foreground mb-1",children:"付费"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"设置积分价格"})]})]})]}),(s==="template"?l.priceType:o.priceType)==="paid"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["积分价格 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"number",min:"1",value:s==="template"?l.points:o.points,onChange:p=>{const w=parseInt(p.target.value)||0;s==="template"?i({...l,points:w}):c({...o,points:w})},className:"input-primary w-full pl-10",placeholder:"设置积分价格（1-10000）"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"建议价格：10-500 积分。价格越高，收益越高，但可能影响使用量。"})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ns,{size:20,className:"text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[e.jsx("div",{className:"font-medium mb-1",children:"收益说明"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• 付费内容：您将获得购买价格的 70% 作为收益"}),e.jsx("li",{children:"• 免费内容：每次使用获得 2 积分奖励"}),e.jsx("li",{children:"• 内容被收藏：每次收藏获得 5 积分奖励"}),e.jsx("li",{children:"• 获得好评：每个好评获得 10 积分奖励"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[e.jsx("button",{onClick:()=>n(1),className:"btn-outline",children:"上一步"}),e.jsxs("button",{onClick:()=>n(3),className:"btn-primary flex items-center gap-2",children:["下一步",e.jsx(oe,{size:16,className:"rotate-180"})]})]})]}),a===3&&e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"预览并发布"}),e.jsxs("div",{className:"bg-background rounded-lg border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:s==="template"?l.name:o.name}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s==="template"?l.description:o.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["分类：",s==="template"?l.category:o.category]}),e.jsxs("span",{children:["价格：",(s==="template"?l.priceType:o.priceType)==="free"?"免费":`${s==="template"?l.points:o.points} 积分`]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap mt-4",children:(s==="template"?l.tags:o.tags).map(p=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400",children:p},p))})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ns,{size:20,className:"text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:[e.jsx("div",{className:"font-medium mb-1",children:"审核说明"}),e.jsx("p",{className:"text-xs",children:"您的内容将提交审核，审核通过后会自动发布到市场。审核通常需要 1-3 个工作日。"})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[e.jsx("button",{onClick:()=>n(2),className:"btn-outline",children:"上一步"}),e.jsxs("button",{onClick:T,className:"btn-primary flex items-center gap-2",children:[e.jsx(Q,{size:18}),"提交审核"]})]})]})]})]})}):e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>t("/app/market"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(oe,{size:18}),"返回市场"]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"发布内容到市场"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"分享你的模板或文档，帮助更多人提升工作效率"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{onClick:()=>r("template"),className:"bg-card rounded-xl border-2 border-border hover:border-primary-500/50 p-8 cursor-pointer transition-all card-hover",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary-500/20 flex items-center justify-center",children:e.jsx($,{size:32,className:"text-primary-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"发布模板"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"分享你的文档模板"})]})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:16,className:"text-green-500"}),"获得积分收益"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:16,className:"text-green-500"}),"提升专业影响力"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:16,className:"text-green-500"}),"帮助更多用户"]})]})]}),e.jsxs("div",{onClick:()=>r("document"),className:"bg-card rounded-xl border-2 border-border hover:border-primary-500/50 p-8 cursor-pointer transition-all card-hover",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary-500/20 flex items-center justify-center",children:e.jsx(ne,{size:32,className:"text-primary-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"发布文档"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"分享你的文档示例"})]})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:16,className:"text-green-500"}),"获得积分收益"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:16,className:"text-green-500"}),"展示专业能力"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:16,className:"text-green-500"}),"自动脱敏保护隐私"]})]})]})]})]})]})})},ud=()=>{const t=re(),[s,r]=h.useState("published"),[a,n]=h.useState([]),[l,i]=h.useState([]),[o,c]=h.useState([]),[d,u]=h.useState([]),[m,x]=h.useState(!0);h.useEffect(()=>{g()},[s]);const g=async()=>{x(!0);try{if(s==="published"){const[b,v]=await Promise.all([tt(),st()]);b.success&&b.data&&n(b.data.slice(0,3)),v.success&&v.data&&i(v.data.slice(0,3))}else if(s==="favorites"){const b=JSON.parse(localStorage.getItem("docbutler_user_favorites")||"[]"),[v,D]=await Promise.all([tt(),st()]);v.success&&v.data&&c(v.data.filter(C=>b.includes(C.id))),D.success&&D.data&&u(D.data.filter(C=>b.includes(C.id)))}}catch{I.error("加载数据失败")}finally{x(!1)}},j={total:12500,thisMonth:3200,today:150,trend:"+12.5%"},y={templates:a.length,documents:l.length,totalViews:a.reduce((b,v)=>b+v.stats.views,0)+l.reduce((b,v)=>b+v.stats.views,0),totalUses:a.reduce((b,v)=>b+v.stats.uses,0)+l.reduce((b,v)=>b+v.stats.uses,0),totalFavorites:a.reduce((b,v)=>b+v.stats.favorites,0)+l.reduce((b,v)=>b+v.stats.favorites,0),averageRating:a.length>0?a.reduce((b,v)=>b+v.stats.rating,0)/a.length:0},T=(b,v=.2)=>{const C=[];for(let L=29;L>=0;L--){const k=new Date;k.setDate(k.getDate()-L);const M=Math.floor(b/30*(1+(Math.random()-.5)*v));C.push({date:k.toISOString().split("T")[0],value:Math.max(0,M)})}return C},p=(b,v)=>v===0?b>0?100:0:(b-v)/v*100,w={views:T(y.totalViews),uses:T(y.totalUses),favorites:T(y.totalFavorites),rating:T(y.averageRating*100,.1)},f=(b,v)=>{const D=b.length-v-1;return D>=0?b[D].value:0};p(w.views[w.views.length-1].value,f(w.views,7)),p(w.uses[w.uses.length-1].value,f(w.uses,7)),p(w.favorites[w.favorites.length-1].value,f(w.favorites,7)),p(w.rating[w.rating.length-1].value,f(w.rating,7));const N=b=>{try{return new Date(b).toLocaleDateString("zh-CN")}catch{return b}};return e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"我的市场"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"管理你发布的内容、查看收益和统计数据"})]}),e.jsxs("button",{onClick:()=>t("/publish"),className:"btn-primary flex items-center gap-2 h-14 px-4",children:[e.jsx(Q,{size:18}),"发布内容"]})]}),e.jsx("div",{className:"border-b border-border",children:e.jsx("nav",{className:"flex gap-6",children:[{id:"published",label:"我的发布",icon:$},{id:"earnings",label:"我的收益",icon:Ie},{id:"favorites",label:"我的收藏",icon:ae},{id:"stats",label:"数据统计",icon:De}].map(b=>{const v=b.icon;return e.jsxs("button",{onClick:()=>r(b.id),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${s===b.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[e.jsx(v,{size:16}),b.label]},b.id)})})}),m?e.jsx(ie,{type:"card",count:3}):e.jsxs(e.Fragment,{children:[s==="published"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"我发布的模板"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.length," 个"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:[a.map((b,v)=>e.jsx(ue,{animationDelay:v*50,children:e.jsxs("div",{className:"bg-card rounded-lg border border-border p-4 hover:border-primary-500/50 hover:shadow-md transition-all card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[e.jsx($,{size:18,className:"text-primary-500 flex-shrink-0"}),b.official&&e.jsx(H,{size:14,className:"text-primary-500 flex-shrink-0"})]}),e.jsx("button",{className:"p-1 rounded-lg hover:bg-background dark:hover:bg-white/5 text-muted-foreground hover:text-foreground flex-shrink-0",children:e.jsx(Rt,{size:14})})]}),e.jsx("h3",{className:"font-semibold text-sm text-foreground mb-1.5 line-clamp-2 leading-tight",children:b.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:11,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:b.stats.rating})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(se,{size:11}),e.jsx("span",{className:"text-xs",children:b.stats.views>999?`${(b.stats.views/1e3).toFixed(1)}k`:b.stats.views})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(W,{size:11}),e.jsx("span",{className:"text-xs",children:b.stats.uses>999?`${(b.stats.uses/1e3).toFixed(1)}k`:b.stats.uses})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border",children:[e.jsxs("button",{className:"flex-1 btn-outline text-xs py-1.5 px-2",children:[e.jsx(is,{size:12,className:"mr-1"}),"编辑"]}),e.jsx("button",{className:"btn-outline text-xs py-1.5 px-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-500/10",children:e.jsx(Ve,{size:12})})]})]})},b.id)),a.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx($,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"还没有发布模板"}),e.jsxs("button",{onClick:()=>t("/publish"),className:"btn-primary flex items-center gap-2 mx-auto",children:[e.jsx(Q,{size:18}),"发布第一个模板"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"我发布的文档"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.length," 个"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:[l.map((b,v)=>e.jsx(ue,{animationDelay:v*50,children:e.jsxs("div",{className:"bg-card rounded-lg border border-border p-4 hover:border-primary-500/50 hover:shadow-md transition-all card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[e.jsx(ne,{size:18,className:"text-primary-500 flex-shrink-0"}),b.author.verified&&e.jsx(H,{size:14,className:"text-primary-500 flex-shrink-0"})]}),e.jsx("button",{className:"p-1 rounded-lg hover:bg-background dark:hover:bg-white/5 text-muted-foreground hover:text-foreground flex-shrink-0",children:e.jsx(Rt,{size:14})})]}),e.jsx("h3",{className:"font-semibold text-sm text-foreground mb-1.5 line-clamp-2 leading-tight",children:b.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{size:11,className:"text-red-500"}),e.jsx("span",{children:b.stats.favorites>999?`${(b.stats.favorites/1e3).toFixed(1)}k`:b.stats.favorites})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(se,{size:11}),e.jsx("span",{className:"text-xs",children:b.stats.views>999?`${(b.stats.views/1e3).toFixed(1)}k`:b.stats.views})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(W,{size:11}),e.jsx("span",{className:"text-xs",children:b.stats.downloads>999?`${(b.stats.downloads/1e3).toFixed(1)}k`:b.stats.downloads})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border",children:[e.jsxs("button",{className:"flex-1 btn-outline text-xs py-1.5 px-2",children:[e.jsx(is,{size:12,className:"mr-1"}),"编辑"]}),e.jsx("button",{className:"btn-outline text-xs py-1.5 px-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-500/10",children:e.jsx(Ve,{size:12})})]})]})},b.id)),l.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ne,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"还没有发布文档"}),e.jsxs("button",{onClick:()=>t("/publish"),className:"btn-primary flex items-center gap-2 mx-auto",children:[e.jsx(Q,{size:18}),"发布第一个文档"]})]})]})]})]}),s==="earnings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"总收益"}),e.jsx(Ie,{size:20,className:"text-primary-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:j.total.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"积分"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"本月收益"}),e.jsx(he,{size:20,className:"text-green-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:j.thisMonth.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400 mt-1",children:[e.jsx(rt,{size:12}),j.trend]})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"今日收益"}),e.jsx(Q,{size:20,className:"text-orange-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:j.today}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"积分"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"可提现"}),e.jsx(Ie,{size:20,className:"text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:(j.total*.7).toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"积分（70%）"})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"收益趋势"}),e.jsx("div",{className:"h-64 bg-background rounded-lg border border-border flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(De,{size:48,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"收益趋势图表"}),e.jsx("p",{className:"text-xs mt-1",children:"（图表功能待实现）"})]})})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"收益明细"}),e.jsx("div",{className:"space-y-3",children:[{type:"模板购买",name:"员工合同模板",amount:35,date:"2024-01-20",status:"completed"},{type:"使用奖励",name:"保密协议模板",amount:2,date:"2024-01-20",status:"completed"},{type:"收藏奖励",name:"销售合同模板",amount:5,date:"2024-01-19",status:"completed"},{type:"好评奖励",name:"员工合同模板",amount:10,date:"2024-01-18",status:"completed"}].map((b,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border border-border",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-foreground",children:b.type}),e.jsx("div",{className:"text-sm text-muted-foreground",children:b.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-foreground",children:["+",b.amount," 积分"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:N(b.date)})]})]},v))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[e.jsx(Ie,{size:18}),"申请提现"]})})]}),s==="favorites"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"收藏的模板"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.length," 个"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:[o.map((b,v)=>e.jsx(ue,{animationDelay:v*50,children:e.jsxs("div",{onClick:()=>t(`/templates/${b.id}`),className:"bg-card rounded-lg border border-border p-4 cursor-pointer hover:border-primary-500/50 hover:shadow-md transition-all card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{size:20,className:"text-primary-500"}),b.official&&e.jsx(H,{size:14,className:"text-primary-500"})]}),b.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"免费"}):e.jsxs("span",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:[b.price.points," 积分"]})]}),e.jsx("h3",{className:"font-semibold text-foreground mb-2 line-clamp-2",children:b.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:b.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-3 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{children:b.stats.rating})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:b.stats.views})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:b.stats.uses})]})]})]})},b.id)),o.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ae,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"还没有收藏模板"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"收藏的文档"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.length," 个"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:[d.map((b,v)=>e.jsx(ue,{animationDelay:v*50,children:e.jsxs("div",{onClick:()=>t(`/documents/${b.id}`),className:"bg-card rounded-lg border border-border p-4 cursor-pointer hover:border-primary-500/50 hover:shadow-md transition-all card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[e.jsx(ne,{size:18,className:"text-primary-500 flex-shrink-0"}),b.author.verified&&e.jsx(H,{size:14,className:"text-primary-500 flex-shrink-0"})]}),b.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400 flex-shrink-0 ml-1",children:"免费"}):e.jsx("span",{className:"text-xs font-medium text-primary-600 dark:text-primary-400 flex-shrink-0 ml-1",children:b.price.points})]}),e.jsx("h3",{className:"font-semibold text-sm text-foreground mb-1.5 line-clamp-2 leading-tight",children:b.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2 leading-relaxed",children:b.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{size:11,className:"text-red-500"}),e.jsx("span",{children:b.stats.favorites>999?`${(b.stats.favorites/1e3).toFixed(1)}k`:b.stats.favorites})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(se,{size:11}),e.jsx("span",{className:"text-xs",children:b.stats.views>999?`${(b.stats.views/1e3).toFixed(1)}k`:b.stats.views})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(W,{size:11}),e.jsx("span",{className:"text-xs",children:b.stats.downloads>999?`${(b.stats.downloads/1e3).toFixed(1)}k`:b.stats.downloads})]})]})]})]})},b.id)),d.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(ae,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"还没有收藏文档"})]})]})]})]}),s==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"发布模板"}),e.jsx($,{size:20,className:"text-primary-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y.templates}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"个"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"发布文档"}),e.jsx(ne,{size:20,className:"text-primary-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y.documents}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"个"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"总浏览量"}),e.jsx(se,{size:20,className:"text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y.totalViews.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"次"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"总使用量"}),e.jsx(W,{size:20,className:"text-green-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y.totalUses.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"次"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"总收藏数"}),e.jsx(ae,{size:20,className:"text-red-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y.totalFavorites.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"次"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"平均评分"}),e.jsx(te,{size:20,className:"text-yellow-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:y.averageRating>0?y.averageRating.toFixed(1):"0.0"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"分"})]}),e.jsxs("div",{className:"bg-card rounded-lg border border-border p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"影响力指数"}),e.jsx(ge,{size:20,className:"text-purple-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:Math.round((y.totalViews+y.totalUses*2+y.totalFavorites*3)/100)}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"分"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"使用趋势"}),e.jsx("div",{className:"h-64 bg-background rounded-lg border border-border flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(De,{size:48,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"使用趋势图表"}),e.jsx("p",{className:"text-xs mt-1",children:"（图表功能待实现）"})]})})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"收益分布"}),e.jsx("div",{className:"h-64 bg-background rounded-lg border border-border flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(Xo,{size:48,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"收益分布图表"}),e.jsx("p",{className:"text-xs mt-1",children:"（图表功能待实现）"})]})})]})]})]})]})]})})},xd=()=>{const{id:t}=Ot(),s=re(),[r,a]=h.useState(null),[n,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!1),[x,g]=h.useState("templates"),[j,y]=h.useState("grid"),[T,p]=h.useState("newest"),[w,f]=h.useState("all");h.useEffect(()=>{t&&N()},[t]);const N=async()=>{if(t){d(!0);try{const[A,B,S,R]=await Promise.all([Kl(t),tt(),st(),Xn(t)]);if(A.success&&A.data&&a(A.data),B.success&&B.data){const Z=B.data.filter(X=>X.author.id===t);l(Z)}if(S.success&&S.data){const Z=S.data.filter(X=>X.author.id===t);o(Z)}R.success&&m(R.data)}catch{I.error("加载作者信息失败")}finally{d(!1)}}},b=async()=>{if(t)try{const A=!u;(await Yn(t,A)).success&&(m(A),I.success(A?"已关注作者":"已取消关注"),N())}catch{I.error("操作失败")}},v=A=>({newbie:"新手",beginner:"初级",intermediate:"中级",advanced:"高级",expert:"专家",master:"大师"})[A]||A;if(c)return e.jsx("div",{className:"page-wrapper",children:e.jsx(ie,{type:"card",count:3})});if(!r)return e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qe,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"作者不存在"})]})});const D=()=>{const A=x==="templates"?n:i,B=new Set(A.map(S=>S.category));return Array.from(B)},L=(()=>{let A=x==="templates"?[...n]:[...i];return w!=="all"&&(A=A.filter(B=>B.category===w)),A.sort((B,S)=>{var R,Z;switch(T){case"newest":return new Date(S.publishedAt||S.createdAt).getTime()-new Date(B.publishedAt||B.createdAt).getTime();case"popular":return x==="templates"?S.stats.uses-B.stats.uses:S.stats.downloads-B.stats.downloads;case"rating":return x==="templates"?S.stats.rating-B.stats.rating:S.stats.favorites-B.stats.favorites;case"views":return(((R=S.stats)==null?void 0:R.views)||0)-(((Z=B.stats)==null?void 0:Z.views)||0);default:return 0}}),A})(),k=D(),U=(()=>{const A=n,B=i;return{totalViews:A.reduce((S,R)=>S+R.stats.views,0)+B.reduce((S,R)=>S+R.stats.views,0),totalUses:A.reduce((S,R)=>S+R.stats.uses,0)+B.reduce((S,R)=>S+R.stats.downloads,0),totalFavorites:A.reduce((S,R)=>S+R.stats.favorites,0)+B.reduce((S,R)=>S+R.stats.favorites,0),averageRating:A.length>0?A.reduce((S,R)=>S+R.stats.rating,0)/A.length:0,totalEarnings:A.filter(S=>S.price.type==="paid").reduce((S,R)=>S+(R.price.points||0)*R.stats.uses*.3,0)+B.filter(S=>S.price.type==="paid").reduce((S,R)=>S+(R.price.points||0)*R.stats.downloads*.3,0)}})(),P=(x==="templates"?[...n]:[...i]).sort((B,S)=>x==="templates"?S.stats.views+S.stats.uses-(B.stats.views+B.stats.uses):S.stats.views+S.stats.downloads-(B.stats.views+B.stats.downloads)).slice(0,3);return e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>s(-1),className:"p-2 rounded-lg hover:bg-background transition-colors",children:e.jsx(oe,{size:20,className:"text-foreground"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"作者主页"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-500/5 via-primary-500/3 to-transparent rounded-xl border border-border overflow-hidden",children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-4xl font-bold shadow-lg ring-4 ring-background",children:r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):r.name[0]}),r.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center shadow-lg ring-2 ring-background",children:e.jsx(H,{size:18,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground",children:r.name}),e.jsx("span",{className:"px-4 py-1.5 bg-primary-500/10 text-primary-600 dark:text-primary-400 rounded-lg text-sm font-semibold",children:v(r.level)})]}),e.jsx("p",{className:"text-muted-foreground mb-4 max-w-2xl",children:r.email?`专业${r.specialties.join("、")}领域创作者，致力于提供高质量的模板和文档。`:"专业内容创作者，致力于提供高质量的模板和文档。"}),r.badges.length>0&&e.jsx("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:r.badges.map((A,B)=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-orange-500/10 text-orange-600 dark:text-orange-400 rounded-lg text-xs font-medium border border-orange-500/20",children:[e.jsx(ge,{size:14}),A]},B))}),r.specialties.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"专长："}),r.specialties.map((A,B)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-card border border-border rounded-lg text-xs text-foreground hover:border-primary-500/50 transition-colors",children:[e.jsx(ps,{size:12}),A]},B))]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border border-border/50",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.templates}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"模板"})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border border-border/50",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.documents}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"文档"})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border border-border/50",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.followers.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"粉丝"})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-3 border border-border/50",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:r.stats.averageRating.toFixed(1)}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"平均评分"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:b,className:`px-6 py-2.5 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${u?"btn-outline border-primary-500 text-primary-600 dark:text-primary-400":"btn-primary"}`,children:[e.jsx(de,{size:18}),u?"已关注":"关注"]}),e.jsxs("button",{className:"btn-outline px-6 py-2.5 rounded-lg font-medium flex items-center justify-center gap-2",children:[e.jsx(_t,{size:18}),"分享"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-card/50 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-500/10 flex items-center justify-center",children:e.jsx(se,{size:22,className:"text-primary-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-foreground",children:U.totalViews.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"总浏览量"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/10 flex items-center justify-center",children:e.jsx(W,{size:22,className:"text-green-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-foreground",children:U.totalUses.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"总使用/下载"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center",children:e.jsx(ae,{size:22,className:"text-orange-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-foreground",children:U.totalFavorites.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"总收藏数"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center",children:e.jsx(Q,{size:22,className:"text-purple-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-foreground",children:Math.round(U.totalEarnings).toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"总收益（积分）"})]})]})]})]}),P.length>0&&e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(et,{size:20,className:"text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"热门内容"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:P.map((A,B)=>{var S,R,Z,X;return e.jsx(ue,{animationDelay:B*50,children:e.jsxs("div",{onClick:()=>s(`/${x==="templates"?"templates":"documents"}/${A.id}`),className:"bg-background rounded-xl border border-border cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all card-hover p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x==="templates"?e.jsx($,{size:20,className:"text-primary-500"}):e.jsx(ne,{size:20,className:"text-primary-500"}),B===0&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-500 text-white rounded text-xs font-bold",children:"🔥 最热"})]}),A.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"免费"}):e.jsxs("span",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:[A.price.points," 积分"]})]}),e.jsx("h4",{className:"font-semibold text-foreground mb-2 line-clamp-2",children:A.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border",children:[e.jsx("div",{className:"flex items-center gap-1",children:x==="templates"?e.jsxs(e.Fragment,{children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:A.stats.rating})]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{size:12}),e.jsx("span",{children:A.stats.favorites})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:((S=A.stats)==null?void 0:S.views)||((R=A.stats)==null?void 0:R.views)||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:((Z=A.stats)==null?void 0:Z.uses)||((X=A.stats)==null?void 0:X.downloads)||0})]})]})]})]})},A.id)})})]}),k.length>0&&e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"内容分类统计"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:k.map(A=>{L.filter(R=>R.category===A);const B=n.filter(R=>R.category===A),S=i.filter(R=>R.category===A);return e.jsxs("div",{className:"bg-background rounded-lg border border-border p-4",children:[e.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:A}),e.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400 mb-1",children:B.length+S.length}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[B.length," 模板 · ",S.length," 文档"]})]},A)})})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>g("templates"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${x==="templates"?"bg-primary-500 text-white shadow-md":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx($,{size:18}),"模板 (",n.length,")"]}),e.jsxs("button",{onClick:()=>g("documents"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${x==="documents"?"bg-primary-500 text-white shadow-md":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(ne,{size:18}),"文档 (",i.length,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded-lg transition-all ${j==="grid"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:e.jsx(Se,{size:18})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-lg transition-all ${j==="list"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:e.jsx(Ut,{size:18})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[k.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xs,{size:16,className:"text-muted-foreground"}),e.jsxs("select",{value:w,onChange:A=>f(A.target.value),className:"px-3 py-1.5 rounded-lg bg-background border border-border text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary-500/50",children:[e.jsx("option",{value:"all",children:"全部分类"}),k.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jo,{size:16,className:"text-muted-foreground"}),e.jsxs("select",{value:T,onChange:A=>p(A.target.value),className:"px-3 py-1.5 rounded-lg bg-background border border-border text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary-500/50",children:[e.jsx("option",{value:"newest",children:"最新发布"}),e.jsx("option",{value:"popular",children:"最受欢迎"}),e.jsx("option",{value:"rating",children:"评分最高"}),e.jsx("option",{value:"views",children:"浏览最多"})]})]}),e.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:["共 ",L.length," 个结果"]})]})]}),L.length>0?e.jsx("div",{className:j==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-3",children:L.map((A,B)=>{var S,R,Z,X;return e.jsx(ue,{animationDelay:B*50,children:e.jsx("div",{onClick:()=>s(`/${x==="templates"?"templates":"documents"}/${A.id}`),className:`bg-background rounded-xl border border-border cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all card-hover ${j==="grid"?"p-4":"p-4 flex items-center gap-4"}`,children:j==="grid"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x==="templates"?e.jsx($,{size:20,className:"text-primary-500"}):e.jsx(ne,{size:20,className:"text-primary-500"}),A.featured&&e.jsx(ge,{size:16,className:"text-orange-500",title:"精选"})]}),A.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"免费"}):e.jsxs("span",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:[A.price.points," 积分"]})]}),e.jsx("h3",{className:"font-semibold text-foreground mb-2 line-clamp-2",children:A.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border",children:[e.jsx("div",{className:"flex items-center gap-1",children:x==="templates"?e.jsxs(e.Fragment,{children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:A.stats.rating})]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{size:12}),e.jsx("span",{children:A.stats.favorites})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:((S=A.stats)==null?void 0:S.views)||((R=A.stats)==null?void 0:R.views)||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:((Z=A.stats)==null?void 0:Z.uses)||((X=A.stats)==null?void 0:X.downloads)||0})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[x==="templates"?e.jsx($,{size:24,className:"text-primary-500 flex-shrink-0"}):e.jsx(ne,{size:24,className:"text-primary-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1 line-clamp-1",children:A.name}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:A.description})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground flex-shrink-0",children:[x==="templates"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{children:A.stats.rating})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:A.stats.uses})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{size:12}),e.jsx("span",{children:A.stats.favorites})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:A.stats.downloads})]})]}),A.price.type==="free"?e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"免费"}):e.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:[A.price.points," 积分"]})]})]})})},A.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-primary-500/10 mb-6",children:x==="templates"?e.jsx($,{size:48,className:"text-primary-500"}):e.jsx(ne,{size:48,className:"text-primary-500"})}),e.jsxs("h3",{className:"text-xl font-semibold text-foreground mb-2",children:["暂无",x==="templates"?"模板":"文档"]}),e.jsxs("p",{className:"text-muted-foreground",children:["该作者还没有发布",x==="templates"?"模板":"文档"]})]})]})]})})},hd=()=>{const t=re(),[s,r]=h.useState("authors"),[a,n]=h.useState("revenue"),[l,i]=h.useState([]),[o,c]=h.useState([]),[d,u]=h.useState([]),[m,x]=h.useState(!0);h.useEffect(()=>{g()},[s,a]);const g=async()=>{x(!0);try{if(s==="authors"){const f=await Wl();if(f.success&&f.data){const N=[...f.data].sort((b,v)=>{switch(a){case"revenue":return v.stats.totalEarnings-b.stats.totalEarnings;case"followers":return v.stats.followers-b.stats.followers;case"rating":return v.stats.averageRating-b.stats.averageRating;default:return 0}});i(N)}}else if(s==="templates"){const f=await tt();if(f.success&&f.data){const N=[...f.data].filter(b=>b.status==="published").sort((b,v)=>{switch(a){case"rating":return v.stats.rating-b.stats.rating;case"uses":return v.stats.uses-b.stats.uses;case"favorites":return v.stats.favorites-b.stats.favorites;default:return 0}});c(N)}}else{const f=await st();if(f.success&&f.data){const N=[...f.data].filter(b=>b.status==="published").sort((b,v)=>{switch(a){case"downloads":return v.stats.downloads-b.stats.downloads;case"favorites":return v.stats.favorites-b.stats.favorites;default:return 0}});u(N)}}}catch{I.error("加载排行榜数据失败")}finally{x(!1)}},j=f=>f===0?e.jsx(Qo,{size:24,className:"text-yellow-500"}):f===1?e.jsx(Qr,{size:24,className:"text-gray-400"}):f===2?e.jsx(Qr,{size:24,className:"text-orange-500"}):null,y=f=>f===0?"bg-yellow-500 text-white":f===1?"bg-gray-400 text-white":f===2?"bg-orange-500 text-white":"bg-background text-muted-foreground",T=()=>({revenue:"收益",followers:"粉丝数",rating:"评分",uses:"使用量",downloads:"下载量",favorites:"收藏数"})[a],p=f=>{if(s==="authors"){const N=f;switch(a){case"revenue":return N.stats.totalEarnings.toLocaleString();case"followers":return N.stats.followers.toLocaleString();case"rating":return N.stats.averageRating.toFixed(1);default:return"0"}}else if(s==="templates"){const N=f;switch(a){case"rating":return N.stats.rating.toFixed(1);case"uses":return N.stats.uses.toLocaleString();case"favorites":return N.stats.favorites.toLocaleString();default:return"0"}}else{const N=f;switch(a){case"downloads":return N.stats.downloads.toLocaleString();case"favorites":return N.stats.favorites.toLocaleString();default:return"0"}}},w=s==="authors"?l:s==="templates"?o:d;return e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center",children:e.jsx($s,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"排行榜"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"发现最优秀的内容创作者和内容"})]})]})}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>r("authors"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${s==="authors"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(de,{size:18}),"作者排行"]}),e.jsxs("button",{onClick:()=>r("templates"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${s==="templates"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx($,{size:18}),"模板排行"]}),e.jsxs("button",{onClick:()=>r("documents"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${s==="documents"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(ne,{size:18}),"文档排行"]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s==="authors"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>n("revenue"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="revenue"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(hr,{size:14}),"收益"]}),e.jsxs("button",{onClick:()=>n("followers"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="followers"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(de,{size:14}),"粉丝数"]}),e.jsxs("button",{onClick:()=>n("rating"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="rating"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(te,{size:14}),"评分"]})]}),s==="templates"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>n("rating"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="rating"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(te,{size:14}),"评分"]}),e.jsxs("button",{onClick:()=>n("uses"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="uses"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(he,{size:14}),"使用量"]}),e.jsxs("button",{onClick:()=>n("favorites"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="favorites"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(et,{size:14}),"收藏数"]})]}),s==="documents"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>n("downloads"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="downloads"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(he,{size:14}),"下载量"]}),e.jsxs("button",{onClick:()=>n("favorites"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 ${a==="favorites"?"bg-primary-500 text-white":"bg-background text-foreground hover:bg-background/80"}`,children:[e.jsx(et,{size:14}),"收藏数"]})]})]})]}),m?e.jsx(ie,{type:"card",count:5}):e.jsx("div",{className:"bg-card rounded-xl border border-border p-6",children:e.jsx("div",{className:"space-y-3",children:w.slice(0,50).map((f,N)=>e.jsx(ue,{animationDelay:N*30,children:e.jsxs("div",{onClick:()=>{t(s==="authors"?`/author/${f.id}`:s==="templates"?`/templates/${f.id}`:`/documents/${f.id}`)},className:"flex items-center gap-4 p-4 rounded-lg hover:bg-background cursor-pointer transition-colors group",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm flex-shrink-0 ${y(N)}`,children:j(N)||N+1}),s==="authors"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white font-bold flex-shrink-0",children:f.avatar?e.jsx("img",{src:f.avatar,alt:f.name,className:"w-full h-full rounded-full object-cover"}):f.name[0]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:f.name}),f.verified&&e.jsx(ge,{size:16,className:"text-primary-500"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[f.stats.templates," 模板"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[f.stats.documents," 文档"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[f.stats.followers," 粉丝"]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-lg font-bold text-foreground",children:p(f)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:T()})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s==="templates"?e.jsx($,{size:24,className:"text-primary-500 flex-shrink-0"}):e.jsx(ne,{size:24,className:"text-primary-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1 line-clamp-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:f.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:f.author.name}),e.jsx("span",{children:"•"}),e.jsx("span",{children:f.category})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-lg font-bold text-foreground",children:p(f)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:T()})]})]})]})},f.id))})})]})})},pd=()=>{const t=re(),[s,r]=lr(),[a,n]=h.useState([]),[l,i]=h.useState(!0),[o,c]=h.useState("grid"),[d,u]=h.useState(s.get("q")||""),[m,x]=h.useState(s.get("industry")||"all"),[g,j]=h.useState("popular");h.useState(!1);const y=[{id:"all",name:"全部行业",icon:$n},{id:"hr",name:"人力资源",icon:de},{id:"legal",name:"法律合同",icon:dr},{id:"sales",name:"销售营销",icon:he},{id:"finance",name:"财务会计",icon:De},{id:"it",name:"IT技术",icon:cr},{id:"realestate",name:"房地产",icon:mr},{id:"education",name:"教育培训",icon:ur},{id:"service",name:"客户服务",icon:xr}],T=[{id:"1",title:"某互联网公司2024年度总结报告",description:"展示如何使用模板快速生成专业的年度总结报告，包含数据可视化、团队成就、未来规划等核心内容。",industry:"it",company:"字节跳动",coverImage:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800",tags:["年度总结","数据可视化","团队管理"],views:12580,likes:856,downloads:423,rating:4.8,author:{id:"author1",name:"张晓明",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=felix",title:"HR总监"},createdAt:"2024-01-15",featured:!0,verified:!0},{id:"2",title:"律师事务所劳动合同标准化方案",description:"某知名律师事务所分享的劳动合同模板使用案例，符合最新劳动法规，保护双方权益。",industry:"legal",company:"盈科律师事务所",coverImage:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800",tags:["劳动合同","法律合规","标准化"],views:9845,likes:645,downloads:512,rating:4.9,author:{id:"author2",name:"李律师",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=legal",title:"资深律师"},createdAt:"2024-01-10",featured:!0,verified:!0},{id:"3",title:"销售团队月度业绩报表实践",description:"电商公司销售团队如何使用动态表格模板，实现业绩数据的自动化统计和可视化展示。",industry:"sales",company:"京东",coverImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800",tags:["业绩报表","数据分析","销售管理"],views:8234,likes:523,downloads:389,rating:4.7,author:{id:"author3",name:"王经理",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=sales",title:"销售总监"},createdAt:"2024-01-08",featured:!1,verified:!0},{id:"4",title:"财务月度结算报告模板应用",description:"上市公司财务部门分享的月度财务报表制作经验，规范、高效、专业。",industry:"finance",company:"阿里巴巴",coverImage:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800",tags:["财务报表","月度结算","数据统计"],views:7156,likes:412,downloads:298,rating:4.6,author:{id:"author4",name:"陈会计",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=finance",title:"财务经理"},createdAt:"2024-01-05",featured:!1,verified:!0},{id:"5",title:"房地产项目可行性分析报告",description:"知名地产公司如何使用专业模板快速产出高质量的项目可行性分析报告。",industry:"realestate",company:"万科",coverImage:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800",tags:["可行性分析","房地产","项目管理"],views:6542,likes:387,downloads:245,rating:4.5,author:{id:"author5",name:"刘总监",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=realestate",title:"项目总监"},createdAt:"2024-01-03",featured:!1,verified:!1},{id:"6",title:"在线教育课程设计方案",description:"教育机构分享的完整课程设计流程，包含教学大纲、课件制作、考核方案等。",industry:"education",company:"学而思",coverImage:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800",tags:["课程设计","教学方案","在线教育"],views:5823,likes:342,downloads:201,rating:4.4,author:{id:"author6",name:"赵老师",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=education",title:"教研主管"},createdAt:"2024-01-01",featured:!1,verified:!0}];h.useEffect(()=>{p()},[m,g,d]);const p=async()=>{i(!0),setTimeout(()=>{let f=[...T];m!=="all"&&(f=f.filter(N=>N.industry===m)),d&&(f=f.filter(N=>N.title.toLowerCase().includes(d.toLowerCase())||N.description.toLowerCase().includes(d.toLowerCase())||N.tags.some(b=>b.toLowerCase().includes(d.toLowerCase())))),g==="latest"?f.sort((N,b)=>new Date(b.createdAt).getTime()-new Date(N.createdAt).getTime()):g==="popular"?f.sort((N,b)=>b.views-N.views):g==="trending"&&f.sort((N,b)=>b.likes-N.likes),n(f),i(!1)},500)},w=f=>{x(f),f==="all"?s.delete("industry"):s.set("industry",f),r(s)};return e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/30 p-8 lg:p-12 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"relative z-10 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ct,{size:32,className:"text-blue-600 dark:text-blue-400"}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"案例库"})]}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"真实案例，激发灵感。看看其他企业如何使用我们的模板创造价值。"}),e.jsxs("div",{className:"relative max-w-2xl",children:[e.jsx(Oe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"搜索案例...",value:d,onChange:f=>u(f.target.value),className:"w-full pl-12 pr-12 py-3 rounded-xl bg-white dark:bg-gray-800 text-foreground placeholder:text-muted-foreground border border-border focus:outline-none focus:ring-2 focus:ring-primary-500"}),d&&e.jsx("button",{onClick:()=>u(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e.jsx(ze,{size:20})})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-200/30 dark:bg-blue-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/3 w-48 h-48 bg-indigo-200/30 dark:bg-indigo-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pb-4 border-b border-border",children:[e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 flex-1",children:y.map(f=>{const N=f.icon;return e.jsxs("button",{onClick:()=>w(f.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${m===f.id?"bg-primary-500 text-white shadow-lg":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:[e.jsx(N,{size:16}),e.jsx("span",{children:f.name})]},f.id)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:g,onChange:f=>j(f.target.value),className:"px-3 py-2 rounded-lg border border-border bg-card text-foreground text-sm",children:[e.jsx("option",{value:"popular",children:"最受欢迎"}),e.jsx("option",{value:"latest",children:"最新发布"}),e.jsx("option",{value:"trending",children:"趋势上升"})]}),e.jsxs("div",{className:"flex items-center gap-1 border border-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded transition-colors ${o==="grid"?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Se,{size:18})}),e.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded transition-colors ${o==="list"?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Ut,{size:18})})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["找到 ",e.jsx("strong",{className:"text-foreground",children:a.length})," 个相关案例"]}),l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((f,N)=>e.jsx(ie,{type:"card"},N))}):a.length>0?e.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:a.map((f,N)=>{var b;return e.jsx(ue,{delay:N*50,children:e.jsxs("div",{onClick:()=>t(`/cases/${f.id}`),className:"bg-card rounded-xl border border-border overflow-hidden cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all card-hover group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:f.coverImage,alt:f.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),f.featured&&e.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 rounded-full bg-amber-500 text-white text-xs font-medium flex items-center gap-1",children:[e.jsx(ge,{size:12}),e.jsx("span",{children:"精选"})]}),f.verified&&e.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center",children:"✓"})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"font-semibold text-lg text-foreground mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors",children:f.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:f.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b border-border",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:f.company}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"·"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:(b=y.find(v=>v.id===f.industry))==null?void 0:b.name})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.tags.slice(0,3).map(v=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400",children:v},v))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:f.author.avatar,alt:f.author.name,className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-foreground",children:f.author.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:f.author.title})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsxs("span",{children:[(f.views/1e3).toFixed(1),"k"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{size:12}),e.jsx("span",{children:f.likes})]})]})]})]})]})},f.id)})}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(ct,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg mb-2",children:"暂无相关案例"}),e.jsx("p",{className:"text-sm",children:"请尝试其他搜索条件或行业分类"})]})]})})},fd=()=>{const[t,s]=h.useState("generate"),[r,a]=h.useState(""),[n,l]=h.useState(""),[i,o]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState("professional"),[x,g]=h.useState("medium"),j=[{id:"generate",icon:e.jsx(kt,{size:24}),title:"AI生成文档",description:"输入需求，AI自动生成完整文档",color:"text-purple-600",gradient:"from-purple-500 to-pink-500"},{id:"optimize",icon:e.jsx(Q,{size:24}),title:"AI优化文案",description:"智能优化文字表达，提升专业度",color:"text-blue-600",gradient:"from-blue-500 to-cyan-500"},{id:"translate",icon:e.jsx(sl,{size:24}),title:"AI翻译",description:"多语言翻译，保持专业术语准确",color:"text-green-600",gradient:"from-green-500 to-emerald-500"}],y=["劳动合同","年度总结","项目计划","销售方案","财务报表","会议纪要","产品说明","用户协议"],T=async()=>{if(!r.trim()){I.error("请输入内容描述");return}o(!0),l(""),setTimeout(()=>{let f="";t==="generate"?f=`【${c||"文档"}】

一、概述
${r}

二、详细内容
1. 背景说明
   根据您提供的需求，本文档旨在...

2. 核心要点
   • 关键要素A：详细描述...
   • 关键要素B：具体说明...
   • 关键要素C：补充内容...

3. 实施方案
   基于以上分析，建议采取以下措施...

四、总结
综合上述内容，我们建议...

---
注：以上内容由AI助手生成，请根据实际情况进行调整和完善。`:t==="optimize"?f=`【优化后的内容】

${r.split(`
`).map(N=>N.trim()?`✨ ${N.trim()}`:N).join(`
`)}

【改进建议】
• 使用了更专业的表达方式
• 优化了段落结构，逻辑更清晰
• 增强了内容的说服力和专业性
• 修正了语法和标点符号

【替换词汇建议】
• "很好" → "优秀/卓越"
• "做了" → "完成/实施"
• "问题" → "挑战/难点"`:t==="translate"&&(f=`【Translation Result】

${r}

---

【English】
[AI-powered translation of your content...]

【日本語】
[AI翻訳された内容...]

---
Note: This is a professional translation powered by AI. Technical terms are preserved for accuracy.`),l(f),o(!1),I.success("处理完成！")},2e3)},p=()=>{navigator.clipboard.writeText(n),I.success("已复制到剪贴板")},w=()=>{a(""),l("")};return e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/30 p-8 lg:p-12 border border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white shadow-lg",children:e.jsx(kt,{size:28})}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"AI智能助手"})]}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl",children:"基于先进的AI技术，帮助你快速生成、优化和翻译文档内容。让创作更高效，质量更专业。"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-gray-800 border border-border shadow-sm",children:[e.jsx(hr,{size:18,className:"text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"font-medium text-foreground",children:"秒级响应"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-gray-800 border border-border shadow-sm",children:[e.jsx(H,{size:18,className:"text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"font-medium text-foreground",children:"专业准确"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-gray-800 border border-border shadow-sm",children:[e.jsx(Q,{size:18,className:"text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"font-medium text-foreground",children:"持续优化"})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-purple-200/30 dark:bg-purple-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-64 h-64 bg-pink-200/30 dark:bg-pink-500/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:j.map(f=>{const N=t===f.id;return e.jsxs("button",{onClick:()=>s(f.id),className:`text-left p-6 rounded-xl border-2 transition-all ${N?"border-primary-500 bg-primary-500/5 shadow-lg":"border-border bg-card hover:border-primary-500/50"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f.gradient} flex items-center justify-center text-white mb-4`,children:f.icon}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${N?"text-primary-600":"text-foreground"}`,children:f.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]},f.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[e.jsx(Ne,{size:20}),e.jsx("span",{children:"输入内容"})]}),r&&e.jsxs("button",{onClick:w,className:"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[e.jsx(el,{size:14}),e.jsx("span",{children:"重置"})]})]}),t==="generate"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"文档类型"}),e.jsxs("select",{value:c,onChange:f=>d(f.target.value),className:"input-primary w-full",children:[e.jsx("option",{value:"",children:"选择文档类型..."}),y.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"语气风格"}),e.jsxs("select",{value:u,onChange:f=>m(f.target.value),className:"input-primary w-full",children:[e.jsx("option",{value:"professional",children:"专业"}),e.jsx("option",{value:"friendly",children:"友好"}),e.jsx("option",{value:"formal",children:"正式"}),e.jsx("option",{value:"casual",children:"轻松"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"内容长度"}),e.jsxs("select",{value:x,onChange:f=>g(f.target.value),className:"input-primary w-full",children:[e.jsx("option",{value:"short",children:"简短"}),e.jsx("option",{value:"medium",children:"中等"}),e.jsx("option",{value:"long",children:"详细"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t==="generate"?"描述你的需求":t==="optimize"?"需要优化的文本":"需要翻译的内容"}),e.jsx("textarea",{value:r,onChange:f=>a(f.target.value),placeholder:t==="generate"?"例如：我需要一份年度总结报告，包含团队成就、数据统计和未来规划...":t==="optimize"?"粘贴需要优化的文本内容...":"输入需要翻译的文本...",className:"input-primary w-full min-h-[300px] resize-none font-mono text-sm"})]}),e.jsx("button",{onClick:T,disabled:i||!r.trim(),className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"AI处理中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(tl,{size:18}),e.jsx("span",{children:t==="generate"?"生成文档":t==="optimize"?"优化内容":"开始翻译"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[e.jsx(Q,{size:20}),e.jsx("span",{children:"AI生成结果"})]}),n&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:p,className:"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[e.jsx(Vn,{size:14}),e.jsx("span",{children:"复制"})]}),e.jsxs("button",{className:"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[e.jsx(W,{size:14}),e.jsx("span",{children:"导出"})]})]})]}),e.jsx("div",{className:"bg-card border border-border rounded-xl p-6 min-h-[400px]",children:n?e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-foreground leading-relaxed",children:n}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white mb-4",children:e.jsx(kt,{size:32})}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"AI生成结果将显示在这里"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"输入内容后点击生成按钮开始"})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(Q,{size:18,className:"text-blue-600"}),e.jsx("span",{children:"使用小贴士"})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Le,{size:16,className:"mt-0.5 flex-shrink-0 text-blue-600"}),e.jsxs("span",{children:[e.jsx("strong",{children:"详细描述："}),"提供的信息越详细，AI生成的内容越准确"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Le,{size:16,className:"mt-0.5 flex-shrink-0 text-blue-600"}),e.jsxs("span",{children:[e.jsx("strong",{children:"多次尝试："}),"可以调整参数多生成几次，选择最满意的结果"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Le,{size:16,className:"mt-0.5 flex-shrink-0 text-blue-600"}),e.jsxs("span",{children:[e.jsx("strong",{children:"人工审核："}),"AI生成内容仅供参考，请根据实际情况调整"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Le,{size:16,className:"mt-0.5 flex-shrink-0 text-blue-600"}),e.jsxs("span",{children:[e.jsx("strong",{children:"结合模板："}),"可以将AI生成的内容导入模板，获得更好的排版效果"]})]})]})]})]})})},pa=()=>{const t=re(),s=$e(),[r,a]=lr(),[n,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState("grid"),[x,g]=h.useState(r.get("q")||""),[j,y]=h.useState("hot"),[T,p]=h.useState("all"),[w,f]=h.useState(r.get("industry")||"all"),[N,b]=h.useState(!1),[v,D]=h.useState(""),[C,L]=h.useState(s.pathname.includes("/templates")?"templates":s.pathname.includes("/documents")?"documents":"all"),k=[{id:"all",name:"全部行业",icon:$n},{id:"hr",name:"人力资源",icon:de},{id:"legal",name:"法律合同",icon:dr},{id:"sales",name:"销售营销",icon:he},{id:"finance",name:"财务会计",icon:De},{id:"it",name:"IT技术",icon:cr},{id:"realestate",name:"房地产",icon:mr},{id:"education",name:"教育培训",icon:ur},{id:"service",name:"客户服务",icon:xr}];h.useEffect(()=>{const S=r.get("industry");S&&f(S)},[r]),h.useEffect(()=>{M()},[x,j,T,w,C]);const M=async()=>{d(!0);try{const S={sortBy:j,priceType:T,industry:w!=="all"?w:void 0,search:x||void 0};if(C==="all"||C==="templates"){const R=await tt(S);R.success&&R.data&&l(R.data)}if(C==="all"||C==="documents"){const R=await st({sortBy:j==="hot"?"hot":j==="newest"?"newest":"downloads",priceType:T,industry:w!=="all"?w:void 0,search:x||void 0});R.success&&R.data&&o(R.data)}}catch{I.error("加载数据失败")}finally{d(!1)}},U=C==="all"?[...n,...i]:C==="templates"?n:i,P=(()=>{const S={};return U.forEach(R=>{R.tags.forEach(Z=>{S[Z]=(S[Z]||0)+1})}),Object.entries(S).sort((R,Z)=>Z[1]-R[1]).slice(0,12).map(([R])=>R)})(),A=S=>{f(S),S==="all"?r.delete("industry"):r.set("industry",S),a(r)},B=S=>{D(v===S?"":S)};return e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-cyan-50 to-blue-100 dark:from-cyan-900/20 dark:to-blue-900/30 p-6 lg:p-8 border border-cyan-200 dark:border-cyan-800",children:[e.jsxs("div",{className:"relative z-10 max-w-3xl",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold mb-2 text-foreground",children:C==="templates"?"模板市场":C==="documents"?"文档市场":"内容市场"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:C==="templates"?"发现适合你的专业模板":C==="documents"?"浏览高质量文档":"浏览所有模板和文档"}),e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"搜索模板、文档...",value:x,onChange:S=>g(S.target.value),onKeyDown:S=>{S.key==="Enter"&&M()},className:"w-full pl-12 pr-12 py-3 rounded-xl bg-white dark:bg-gray-800 text-foreground placeholder:text-muted-foreground border border-border focus:outline-none focus:ring-2 focus:ring-primary-500"}),x&&e.jsx("button",{onClick:()=>g(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e.jsx(ze,{size:20})})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-cyan-200/30 dark:bg-cyan-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-blue-200/30 dark:bg-blue-500/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:k.map(S=>{const R=S.icon;return e.jsxs("button",{onClick:()=>A(S.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${w===S.id?"bg-primary-500 text-white shadow-lg":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:[e.jsx(R,{size:16}),e.jsx("span",{children:S.name})]},S.id)})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pb-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>L("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${C==="all"?"bg-primary-500 text-white":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:"全部"}),e.jsx("button",{onClick:()=>L("templates"),className:`px-4 py-2 rounded-lg font-medium transition-all ${C==="templates"?"bg-primary-500 text-white":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:"模板"}),e.jsx("button",{onClick:()=>L("documents"),className:`px-4 py-2 rounded-lg font-medium transition-all ${C==="documents"?"bg-primary-500 text-white":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:"文档"})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(!N),className:`p-2 rounded-lg transition-colors ${N?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:e.jsx(Fn,{size:18})}),e.jsxs("div",{className:"flex items-center gap-1 border border-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded transition-colors ${u==="grid"?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Se,{size:18})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded transition-colors ${u==="list"?"bg-primary-500/20 text-primary-600":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Ut,{size:18})})]})]})]}),N&&e.jsx("div",{className:"bg-card border border-border rounded-xl p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"排序方式"}),e.jsxs("select",{value:j,onChange:S=>y(S.target.value),className:"input-primary w-full",children:[e.jsx("option",{value:"hot",children:"最受欢迎"}),e.jsx("option",{value:"newest",children:"最新发布"}),e.jsx("option",{value:"rating",children:"最高评分"}),e.jsx("option",{value:"downloads",children:"下载最多"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"价格类型"}),e.jsxs("select",{value:T,onChange:S=>p(S.target.value),className:"input-primary w-full",children:[e.jsx("option",{value:"all",children:"全部价格"}),e.jsx("option",{value:"free",children:"免费"}),e.jsx("option",{value:"paid",children:"付费"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{f("all"),p("all"),y("hot"),g(""),D("")},className:"btn-outline w-full",children:"重置筛选"})})]})}),!c&&P.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"热门标签："}),e.jsx("button",{onClick:()=>D(""),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${v===""?"bg-primary-500 text-white shadow-md":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:"全部"}),P.map(S=>e.jsx("button",{onClick:()=>B(S),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${v===S?"bg-primary-500 text-white shadow-md":"bg-card border border-border text-foreground hover:border-primary-500/50"}`,children:S},S))]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["共找到 ",e.jsx("strong",{className:"text-foreground",children:U.filter(S=>!v||S.tags.includes(v)).length})," 个结果"]}),c?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:Array.from({length:10}).map((S,R)=>e.jsx(ie,{type:"card"},R))}):e.jsx(e.Fragment,{children:U.filter(S=>!v||S.tags.includes(v)).length>0?e.jsx("div",{className:u==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4":"space-y-3",children:U.filter(S=>!v||S.tags.includes(v)).map((S,R)=>{var X,_e,jt,yt;const Z="fields"in S;return e.jsx(ue,{delay:R*50,children:e.jsxs("div",{onClick:()=>t(`/${Z?"templates":"documents"}/${S.id}`),className:"bg-card rounded-xl border border-border cursor-pointer hover:border-primary-500/50 hover:shadow-lg transition-all p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Z?e.jsx($,{size:20,className:"text-primary-500"}):e.jsx(ne,{size:20,className:"text-primary-500"}),S.official&&e.jsx(H,{size:16,className:"text-primary-500"}),S.featured&&e.jsx(et,{size:16,className:"text-orange-500"})]}),S.price.type==="free"?e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"免费"}):e.jsxs("span",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:[S.price.points," 积分"]})]}),e.jsx("h3",{className:"font-semibold text-foreground mb-2 line-clamp-2",children:S.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:S.description}),e.jsx("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:S.tags.slice(0,2).map(vt=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-primary-500/10 text-primary-600 dark:text-primary-400",children:vt},vt))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-3 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{size:12,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:((X=S.stats)==null?void 0:X.rating)||0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{size:12}),e.jsx("span",{children:((_e=S.stats)==null?void 0:_e.views)||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:((jt=S.stats)==null?void 0:jt.uses)||((yt=S.stats)==null?void 0:yt.downloads)||0})]})]})]})]})},S.id)})}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx("p",{className:"text-lg mb-4",children:"没有找到相关内容"}),e.jsx("p",{children:"请尝试其他关键词或调整筛选条件"})]})})]})})},gd=()=>{const{id:t}=Ot(),s=re(),[r,a]=h.useState(null),[n,l]=h.useState(!0),[i,o]=h.useState(!1);h.useEffect(()=>{c()},[t]);const c=async()=>{l(!0),setTimeout(()=>{a({id:t||"1",title:"某互联网公司2024年度总结报告",description:"展示如何使用模板快速生成专业的年度总结报告，包含数据可视化、团队成就、未来规划等核心内容。",industry:"IT技术",company:"字节跳动",coverImage:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1200",content:`
# 项目背景

字节跳动作为一家快速发展的互联网公司，每年需要向股东和管理层汇报年度成果。传统的年度总结报告制作耗时长、数据整理繁琐，且格式不够统一。

# 解决方案

我们采用了文管家的"企业年度总结模板"，结合公司实际数据，快速生成了专业的年度报告。

## 使用的模板

- 基础模板：企业年度总结报告
- 数据模板：财务数据可视化图表
- 辅助模板：团队成就展示

## 实施过程

1. **数据准备**（1小时）
   - 整理年度关键数据
   - 准备团队成就素材
   - 收集未来规划内容

2. **模板应用**（30分钟）
   - 导入基础模板
   - 填充数据字段
   - 调整样式和布局

3. **审核完善**（1小时）
   - 管理层审核
   - 细节优化
   - 最终定稿

## 关键成果

✅ **效率提升 80%**：从原来需要1周的制作周期缩短到半天

✅ **格式统一**：所有部门使用统一模板，品牌形象更专业

✅ **数据可视化**：自动生成图表，数据展示更直观

✅ **易于维护**：模板化后，明年可以直接复用

# 实际效果

报告在董事会上获得高度评价，管理层对数据可视化部分尤其满意。现在公司的季度报告、项目总结都开始使用类似的模板化方案。

# 经验总结

## 成功要点

1. **选对模板**：根据实际需求选择合适的模板类型
2. **数据准备充分**：提前整理好所有需要的数据
3. **灵活调整**：模板是基础，要根据实际情况适当调整
4. **团队协作**：多部门协同填充数据，效率更高

## 注意事项

- 首次使用需要一定的学习成本
- 数据格式要符合模板要求
- 建议提前试用，熟悉流程

# 推荐使用场景

- 企业年度/季度总结
- 部门工作汇报
- 项目成果展示
- 业绩分析报告
`,tags:["年度总结","数据可视化","团队管理","效率提升"],views:12580,likes:856,downloads:423,rating:4.8,author:{id:"author1",name:"张晓明",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=felix",title:"HR总监"},createdAt:"2024-01-15",featured:!0,verified:!0,relatedTemplates:[{id:"t1",name:"企业年度总结报告模板",type:"template"},{id:"t2",name:"数据可视化图表集",type:"template"},{id:"t3",name:"团队成就展示模板",type:"template"}],outcomes:["制作时间从1周缩短到半天，效率提升80%","所有部门统一使用模板，品牌形象更专业","自动生成图表，数据展示更直观清晰","模板可复用，后续报告制作更快捷"],challenges:["传统方式制作耗时长，数据整理繁琐","不同部门格式不统一，影响整体形象","数据图表手工制作，容易出错且不美观"],solutions:["采用文管家专业模板，标准化制作流程","使用数据填充功能，自动生成图表","建立模板库，实现跨部门复用"]}),l(!1)},500)},d=()=>{o(!i),I.success(i?"已取消收藏":"已收藏")},u=()=>{navigator.clipboard.writeText(window.location.href),I.success("链接已复制到剪贴板")};return n?e.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-500 border-t-transparent"})}):r?e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 md:px-6 lg:px-8 py-6",children:[e.jsxs("button",{onClick:()=>s("/cases"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6",children:[e.jsx(oe,{size:20}),e.jsx("span",{children:"返回案例库"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"relative h-96 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:r.coverImage,alt:r.title,className:"w-full h-full object-cover"}),r.featured&&e.jsxs("div",{className:"absolute top-4 left-4 px-4 py-2 rounded-full bg-amber-500 text-white font-medium flex items-center gap-2",children:[e.jsx(ge,{size:18}),e.jsx("span",{children:"精选案例"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-primary-500/10 text-primary-600 dark:text-primary-400 text-sm font-medium",children:r.industry}),r.verified&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 text-sm",children:[e.jsx(H,{size:16}),e.jsx("span",{children:"已认证"})]})]}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-4",children:r.title}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:r.description}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{size:16}),e.jsxs("span",{children:[r.views.toLocaleString()," 浏览"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{size:16,className:i?"fill-red-500 text-red-500":""}),e.jsxs("span",{children:[r.likes," 喜欢"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{size:16}),e.jsxs("span",{children:[r.downloads," 下载"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{size:16,className:"text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:r.rating})]})]})]}),r.outcomes&&r.outcomes.length>0&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(H,{size:20,className:"text-green-600"}),e.jsx("span",{children:"关键成果"})]}),e.jsx("ul",{className:"space-y-2",children:r.outcomes.map((m,x)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-foreground",children:[e.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),e.jsx("span",{children:m})]},x))})]}),e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none bg-card rounded-xl p-8 border border-border",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:r.content.replace(/^# (.+)$/gm,'<h1 class="text-2xl font-bold mb-4 mt-8">$1</h1>').replace(/^## (.+)$/gm,'<h2 class="text-xl font-semibold mb-3 mt-6">$1</h2>').replace(/^### (.+)$/gm,'<h3 class="text-lg font-semibold mb-2 mt-4">$1</h3>').replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>').replace(/^\d+\. (.+)$/gm,'<li class="ml-4 list-decimal">$1</li>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/✅/g,'<span class="text-green-600">✅</span>').replace(/\n\n/g,'</p><p class="mb-4">').replace(/^(.+)$/gm,'<p class="mb-4">$1</p>')}})}),r.relatedTemplates&&r.relatedTemplates.length>0&&e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border",children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-4 flex items-center gap-2",children:[e.jsx($,{size:20}),e.jsx("span",{children:"使用的模板"})]}),e.jsx("div",{className:"space-y-3",children:r.relatedTemplates.map(m=>e.jsxs(V,{to:`/templates/${m.id}`,className:"flex items-center justify-between p-3 rounded-lg hover:bg-accent transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{size:18,className:"text-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-foreground group-hover:text-primary-600",children:m.name})]}),e.jsx(Bn,{size:16,className:"text-muted-foreground group-hover:text-primary-600"})]},m.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"案例作者"}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-16 h-16 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-foreground",children:r.author.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.author.title}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[e.jsx(rl,{size:14}),e.jsx("span",{children:r.company})]})]})]}),e.jsx("button",{onClick:()=>s(`/author/${r.author.id}`),className:"btn-outline w-full",children:"查看主页"})]}),e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border space-y-3",children:[e.jsxs("button",{onClick:d,className:`w-full flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-all ${i?"bg-red-500 text-white hover:bg-red-600":"bg-accent hover:bg-accent/80 text-foreground"}`,children:[e.jsx(ae,{size:18,className:i?"fill-current":""}),e.jsx("span",{children:i?"已收藏":"收藏案例"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg bg-accent hover:bg-accent/80 text-foreground font-medium transition-all",children:[e.jsx(_t,{size:18}),e.jsx("span",{children:"分享案例"})]}),e.jsxs(V,{to:"/templates",className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium transition-all",children:[e.jsx(ct,{size:18}),e.jsx("span",{children:"查看模板"})]})]}),e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(hs,{size:16}),e.jsxs("span",{children:["发布于 ",new Date(r.createdAt).toLocaleDateString("zh-CN")]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:"标签"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(m=>e.jsx("span",{className:"px-3 py-1 rounded-full bg-primary-500/10 text-primary-600 dark:text-primary-400 text-xs",children:m},m))})]})]}),e.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:"讨论"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"23条评论"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"查看其他用户对这个案例的评价和讨论"}),e.jsx("button",{className:"btn-outline w-full text-sm",children:"查看所有评论"})]})]})]})]})}):e.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"案例不存在"}),e.jsx("button",{onClick:()=>s("/cases"),className:"btn-primary",children:"返回案例库"})]})})},bd=()=>{const[t,s]=h.useState(""),[r,a]=h.useState(""),[n,l]=h.useState(!1),i=re(),{login:o}=Zt(),c=async d=>{d.preventDefault(),l(!0);try{const u="mock-jwt-token-"+Date.now(),m={id:"1",username:t.includes("@")?t.split("@")[0]:t,email:t.includes("@")?t:`${t}@example.com`,phone:t.includes("@")?void 0:t,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed="+t,role:"user",createdAt:new Date().toISOString(),points:1e3,level:5,badges:["新手","活跃用户"],bio:"这是一个测试用户",location:"北京",website:"",followers:100,following:50};o(u,m),I.success(`欢迎回来，${m.username}！`),setTimeout(()=>{i("/app")},500)}catch{I.error("登录失败，请重试")}finally{l(!1)}};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-background text-foreground p-4",children:[e.jsxs(V,{to:"/",className:"absolute left-4 top-4 flex items-center text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium",children:[e.jsx(oe,{size:18,className:"mr-1"})," 返回首页"]}),e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Bs,{size:48,className:"mx-auto text-primary-600 dark:text-primary-400 mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"欢迎回来!"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"登录您的文管家账户"})]}),e.jsxs("form",{onSubmit:c,className:"bg-card text-card-foreground p-8 shadow-xl rounded-xl border border-border space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:"邮箱 / 手机号"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(al,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"username",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"请输入邮箱或手机号",value:t,onChange:d=>s(d.target.value)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-muted-foreground",children:"密码"}),e.jsx(V,{to:"/forgot-password",className:"text-sm text-primary-600 dark:text-primary-400 hover:underline",children:"忘记密码?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"••••••••",value:r,onChange:d=>a(d.target.value)})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"w-full btn-primary flex items-center justify-center py-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"登录中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Bs,{size:18,className:"mr-2"}),"登录"]})})}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["还没有账户?"," ",e.jsx(V,{to:"/register",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"立即注册"})]})]}),e.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["© ",new Date().getFullYear()," 文管家. All rights reserved."]})]})]})},jd=()=>{const[t,s]=h.useState(""),[r,a]=h.useState(""),[n,l]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(!1),[x,g]=h.useState("获取验证码"),[j,y]=h.useState(!1),T=re(),p=()=>{if(!r){alert("请输入手机号码！");return}console.log("Sending verification code to:",r),alert(`验证码已发送至 ${r} (模拟)`),m(!0),y(!0),g("60s后重试");let f=60;const N=setInterval(()=>{f-=1,f>0?g(`${f}s后重试`):(clearInterval(N),g("获取验证码"),y(!1),m(!1))},1e3)},w=f=>{if(f.preventDefault(),!r||!n){alert("请输入手机号和验证码！");return}if(i!==c){alert("两次输入的密码不一致！");return}console.log("Registration attempt with:",{name:t,phone:r,verificationCode:n,password:i}),alert("注册成功 (模拟)! 请登录。"),T("/login")};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-background text-foreground p-4",children:[e.jsxs(V,{to:"/",className:"absolute left-4 top-4 flex items-center text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium",children:[e.jsx(oe,{size:18,className:"mr-1"})," 返回首页"]}),e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ns,{size:48,className:"mx-auto text-primary-600 dark:text-primary-400 mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"创建您的账户"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"使用手机号快速注册文管家"})]}),e.jsxs("form",{onSubmit:w,className:"bg-card text-card-foreground p-8 shadow-xl rounded-xl border border-border space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:["姓名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ns,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"您的姓名",value:t,onChange:f=>s(f.target.value)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:["手机号码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"请输入您的手机号",value:r,onChange:f=>a(f.target.value)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:["短信验证码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ne,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"verificationCode",name:"verificationCode",type:"text",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"6位验证码",value:n,onChange:f=>l(f.target.value),maxLength:6})]}),e.jsx("button",{type:"button",onClick:p,disabled:j,className:"btn-outline whitespace-nowrap py-2.5 text-sm disabled:opacity-70 disabled:cursor-not-allowed",children:x})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:["密码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"创建密码 (至少6位)",value:i,onChange:f=>o(f.target.value),minLength:6})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:["确认密码 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"再次输入密码",value:c,onChange:f=>d(f.target.value),minLength:6})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center py-2.5",children:[e.jsx(Ns,{size:18,className:"mr-2"}),"注册"]})}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["已经有账户了?"," ",e.jsx(V,{to:"/login",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"立即登录"})]})]}),e.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["© ",new Date().getFullYear()," 文管家. All rights reserved."]})]})]})},yd=()=>{const[t,s]=h.useState(""),[r,a]=h.useState("发送验证码"),[n,l]=h.useState(!1),i=re(),o=c=>{if(c.preventDefault(),!t){alert("请输入您的手机号码。");return}console.log("Requesting password reset OTP for phone:",t),alert(`如果该手机号已注册，验证码将发送至 ${t} (模拟)。`),l(!0),a("正在发送..."),setTimeout(()=>{i("/reset-password",{state:{phone:t}})},1500)};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-background text-foreground p-4",children:[e.jsxs(V,{to:"/",className:"absolute left-4 top-4 flex items-center text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium",children:[e.jsx(oe,{size:18,className:"mr-1"})," 返回首页"]}),e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(nl,{size:48,className:"mx-auto text-primary-600 dark:text-primary-400 mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"忘记密码?"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"输入您的注册手机号码，我们将向您发送验证码以重置密码。"})]}),e.jsxs("form",{onSubmit:o,className:"bg-card text-card-foreground p-8 shadow-xl rounded-xl border border-border space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:"手机号码"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"请输入注册时使用的手机号",value:t,onChange:c=>s(c.target.value),disabled:n})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:n,className:"w-full btn-primary flex items-center justify-center py-2.5 disabled:opacity-70",children:[e.jsx(On,{size:18,className:"mr-2"}),r]})}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["记起来了?"," ",e.jsxs(V,{to:"/login",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline flex items-center justify-center",children:[e.jsx(oe,{size:16,className:"mr-1"})," 返回登录"]})]})]}),e.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["© ",new Date().getFullYear()," 文管家. All rights reserved."]})]})]})},fa=()=>{var u;const[t,s]=h.useState(""),[r,a]=h.useState(""),[n,l]=h.useState(""),i=re(),c=(u=$e().state)==null?void 0:u.phone;h.useEffect(()=>{c||(alert("未提供手机号码或无效的访问。正在返回登录页面。"),i("/login"))},[c,i]);const d=m=>{if(m.preventDefault(),!t){alert("请输入您收到的短信验证码。");return}if(r!==n){alert("新密码和确认密码不一致。");return}if(r.length<6){alert("新密码长度至少为6位。");return}console.log("Reset password attempt for phone:",c,"with OTP:",t,"and new password:",r),alert("密码已成功重置 (模拟)! 请使用新密码登录。"),i("/login")};return c?e.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-background text-foreground p-4",children:[e.jsxs(V,{to:"/",className:"absolute left-4 top-4 flex items-center text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium",children:[e.jsx(oe,{size:18,className:"mr-1"})," 返回首页"]}),e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(ea,{size:48,className:"mx-auto text-primary-600 dark:text-primary-400 mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"设置新密码"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["为手机号 ",e.jsx("span",{className:"font-semibold text-foreground",children:c})," 创建一个新的安全密码。"]})]}),e.jsxs("form",{onSubmit:d,className:"bg-card text-card-foreground p-8 shadow-xl rounded-xl border border-border space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:"短信验证码"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ne,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"otp",name:"otp",type:"text",maxLength:6,required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"6位验证码",value:t,onChange:m=>s(m.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:"新密码"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"输入新密码 (至少6位)",value:r,onChange:m=>a(m.target.value),minLength:6})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-muted-foreground mb-1.5",children:"确认新密码"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"input-primary block w-full pl-10 pr-4 py-2.5 text-sm",placeholder:"再次输入新密码",value:n,onChange:m=>l(m.target.value),minLength:6})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center py-2.5",children:[e.jsx(ea,{size:18,className:"mr-2"}),"重置密码"]})}),e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:e.jsxs(V,{to:"/login",className:"font-medium text-primary-600 dark:text-primary-400 hover:underline flex items-center justify-center",children:[e.jsx(oe,{size:16,className:"mr-1"})," 返回登录"]})})]}),e.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["© ",new Date().getFullYear()," 文管家. All rights reserved."]})]})]}):e.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-background text-foreground p-4",children:[e.jsxs(V,{to:"/",className:"absolute left-4 top-4 flex items-center text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium",children:[e.jsx(oe,{size:18,className:"mr-1"})," 返回首页"]}),e.jsx("p",{children:"正在加载或重定向..."})]})},qe={name:"张三",phone:"13800138000",email:""},vd=()=>{const[t,s]=h.useState(!1),[r,a]=h.useState(qe.name),[n,l]=h.useState(qe.phone),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(!1),[x,g]=h.useState(""),[j,y]=h.useState(""),[T,p]=h.useState(""),w=()=>{console.log("Saving name:",r),qe.name=r,s(!1),alert("姓名已更新 (模拟)")},f=()=>{if(!i){alert("请输入要绑定的邮箱地址。");return}console.log("Sending verification code to email:",i),alert(`验证码已发送至 ${i} (模拟)`),m(!0)},N=v=>{if(v.preventDefault(),!i||!c){alert("请输入邮箱和验证码。");return}console.log("Binding email:",i,"with code:",c),qe.email=i,alert("邮箱绑定成功 (模拟)"),o(""),d(""),m(!1)},b=v=>{if(v.preventDefault(),!x||!j||!T){alert("请填写所有密码字段。");return}if(j!==T){alert("新密码和确认密码不一致。");return}if(j.length<6){alert("新密码长度至少为6位。");return}console.log("Changing password. Current:",x,"New:",j),alert("密码修改成功 (模拟)"),g(""),y(""),p("")};return e.jsxs("div",{className:"space-y-8 p-4 sm:p-6 lg:p-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"个人资料"}),e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(Qe,{size:20,className:"mr-2 text-primary-600 dark:text-primary-400"}),"基本信息"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"姓名"}),t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:v=>a(v.target.value),className:"input-primary w-full sm:w-auto text-sm"}),e.jsxs("button",{onClick:w,className:"btn-primary py-2 px-3 text-sm",children:[e.jsx(H,{size:16,className:"mr-1 sm:mr-2"})," 保存"]}),e.jsx("button",{onClick:()=>{s(!1),a(qe.name)},className:"btn-outline py-2 px-3 text-sm",children:"取消"})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-foreground",children:r}),e.jsxs("button",{onClick:()=>s(!0),className:"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center",children:[e.jsx(Un,{size:14,className:"mr-1"})," 修改"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"手机号码"}),e.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[e.jsx(pr,{size:16,className:"text-muted-foreground"}),e.jsxs("p",{children:[n," (已验证)"]})]})]})]})]}),e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(ta,{size:20,className:"mr-2 text-primary-600 dark:text-primary-400"}),"邮箱绑定"]})}),e.jsx("form",{onSubmit:N,className:"p-6 space-y-4",children:qe.email?e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(Tt,{size:18}),e.jsxs("p",{children:["已绑定邮箱: ",qe.email]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bind-email",className:"block text-sm font-medium text-muted-foreground mb-1",children:"邮箱地址"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ta,{size:18,className:"text-muted-foreground"})}),e.jsx("input",{id:"bind-email",type:"email",value:i,onChange:v=>o(v.target.value),placeholder:"输入您要绑定的邮箱",className:"input-primary w-full pl-10 text-sm",required:!0,disabled:u})]})]}),u&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-verification-code",className:"block text-sm font-medium text-muted-foreground mb-1",children:"邮箱验证码"}),e.jsx("input",{id:"email-verification-code",type:"text",value:c,onChange:v=>d(v.target.value),placeholder:"6位验证码",className:"input-primary w-full text-sm",required:!0,maxLength:6})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:u?e.jsxs("button",{type:"submit",className:"btn-primary py-2 text-sm w-full sm:w-auto flex items-center justify-center",children:[e.jsx(H,{size:16,className:"mr-2"}),"验证并绑定邮箱"]}):e.jsxs("button",{type:"button",onClick:f,className:"btn-outline py-2 text-sm w-full sm:w-auto flex items-center justify-center",children:[e.jsx(On,{size:16,className:"mr-2"}),"发送验证码到邮箱"]})})]})})]}),e.jsxs("div",{className:"bg-card text-card-foreground rounded-xl border border-border shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(ut,{size:20,className:"mr-2 text-primary-600 dark:text-primary-400"}),"修改密码"]})}),e.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-muted-foreground mb-1",children:"当前密码"}),e.jsx("input",{id:"current-password",type:"password",value:x,onChange:v=>g(v.target.value),className:"input-primary w-full text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-muted-foreground mb-1",children:"新密码"}),e.jsx("input",{id:"new-password",type:"password",value:j,onChange:v=>y(v.target.value),className:"input-primary w-full text-sm",placeholder:"至少6位字符",required:!0,minLength:6})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-new-password",className:"block text-sm font-medium text-muted-foreground mb-1",children:"确认新密码"}),e.jsx("input",{id:"confirm-new-password",type:"password",value:T,onChange:v=>p(v.target.value),className:"input-primary w-full text-sm",required:!0,minLength:6})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",className:"btn-primary py-2 text-sm flex items-center",children:[e.jsx(Tt,{size:16,className:"mr-2"}),"更新密码"]})})]})]})]})},Nd=()=>{const t=re(),{user:s}=Zt(),[r,a]=h.useState({totalEarnings:12580,monthEarnings:3450,totalViews:125600,totalDownloads:8940,totalFavorites:3210,totalComments:567,followers:1250,publishedTemplates:28,publishedDocuments:15}),[n,l]=h.useState([{id:1,type:"download",content:"员工劳动合同",time:"2分钟前",amount:50},{id:2,type:"comment",content:"项目计划书模板",time:"15分钟前"},{id:3,type:"favorite",content:"销售提案模板",time:"1小时前"},{id:4,type:"download",content:"绩效考核表",time:"2小时前",amount:0}]),i=({title:o,value:c,change:d,icon:u,color:m})=>e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${m}`,children:e.jsx(u,{size:24,className:"text-white"})}),d&&e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${d>0?"text-green-600":"text-red-600"}`,children:[d>0?e.jsx(rt,{size:16}):e.jsx(il,{size:16}),Math.abs(d),"%"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:c}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o})]})]});return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-8 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["欢迎回来，",(s==null?void 0:s.username)||"创作者","！"]}),e.jsx("p",{className:"text-primary-100",children:"继续创作优质内容，帮助更多用户提升工作效率"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(i,{title:"总收益",value:`¥${r.totalEarnings.toLocaleString()}`,change:15.3,icon:Ie,color:"bg-green-500"}),e.jsx(i,{title:"本月收益",value:`¥${r.monthEarnings.toLocaleString()}`,change:23.5,icon:he,color:"bg-blue-500"}),e.jsx(i,{title:"总浏览量",value:r.totalViews.toLocaleString(),change:8.2,icon:se,color:"bg-purple-500"}),e.jsx(i,{title:"总下载量",value:r.totalDownloads.toLocaleString(),change:12.7,icon:W,color:"bg-orange-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ae,{size:20,className:"text-red-500"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"收藏"})]}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.totalFavorites.toLocaleString()})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ne,{size:20,className:"text-blue-500"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"评论"})]}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.totalComments})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(de,{size:20,className:"text-green-500"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"粉丝"})]}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.followers})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx($,{size:20,className:"text-purple-500"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"作品"})]}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.publishedTemplates+r.publishedDocuments})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>t("/app/creator/publish"),className:"bg-primary-600 hover:bg-primary-700 text-white rounded-xl p-6 transition-all text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx($,{size:28}),e.jsx(rt,{size:20,className:"group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]}),e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"发布新内容"}),e.jsx("p",{className:"text-sm text-primary-100",children:"创建并发布模板或文档到市场"})]}),e.jsxs("button",{onClick:()=>t("/app/creator/published"),className:"bg-card hover:bg-accent border border-border rounded-xl p-6 transition-all text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(Se,{size:28,className:"text-primary-600"}),e.jsx(rt,{size:20,className:"text-muted-foreground group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:"我的发布"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"管理已发布的内容"})]}),e.jsxs("button",{onClick:()=>t("/app/creator/analytics"),className:"bg-card hover:bg-accent border border-border rounded-xl p-6 transition-all text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(he,{size:28,className:"text-primary-600"}),e.jsx(rt,{size:20,className:"text-muted-foreground group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:"数据统计"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"查看详细数据分析"})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"最近活动"}),e.jsx("button",{onClick:()=>t("/app/creator/interactions"),className:"text-sm text-primary-600 dark:text-primary-400 hover:underline",children:"查看全部"})]}),e.jsx("div",{className:"space-y-4",children:n.map(o=>e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg hover:bg-accent transition-colors",children:[e.jsxs("div",{className:`p-2 rounded-lg ${o.type==="download"?"bg-green-100 dark:bg-green-900/30":o.type==="comment"?"bg-blue-100 dark:bg-blue-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:[o.type==="download"&&e.jsx(W,{size:20,className:"text-green-600 dark:text-green-400"}),o.type==="comment"&&e.jsx(Ne,{size:20,className:"text-blue-600 dark:text-blue-400"}),o.type==="favorite"&&e.jsx(ae,{size:20,className:"text-red-600 dark:text-red-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:o.content}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.time})]}),o.amount!==void 0&&o.amount>0&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-semibold text-green-600 dark:text-green-400",children:["+¥",o.amount]})})]},o.id))})]})]})},wd=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"我的发布"}),e.jsx("p",{className:"text-muted-foreground",children:"管理你发布到市场的所有模板和文档"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[e.jsx(Se,{size:64,className:"mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"功能开发中"}),e.jsx("p",{className:"text-muted-foreground",children:"此页面将展示你发布的所有内容及其数据"})]})]}),kd=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"收益管理"}),e.jsx("p",{className:"text-muted-foreground",children:"查看收益明细和提现记录"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[e.jsx(Ie,{size:64,className:"mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"功能开发中"}),e.jsx("p",{className:"text-muted-foreground",children:"此页面将展示收益详情和提现功能"})]})]}),Td=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"数据统计"}),e.jsx("p",{className:"text-muted-foreground",children:"查看内容表现和用户画像分析"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[e.jsx(he,{size:64,className:"mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"功能开发中"}),e.jsx("p",{className:"text-muted-foreground",children:"此页面将展示详细的数据分析图表"})]})]}),Sd=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"互动管理"}),e.jsx("p",{className:"text-muted-foreground",children:"管理评论、粉丝和消息通知"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[e.jsx(Ne,{size:64,className:"mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"功能开发中"}),e.jsx("p",{className:"text-muted-foreground",children:"此页面将展示评论、粉丝和通知管理功能"})]})]}),Cd=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"我的收藏"}),e.jsx("p",{className:"text-muted-foreground",children:"查看你收藏的模板和文档"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-xl p-12 text-center",children:[e.jsx(ae,{size:64,className:"mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"功能开发中"}),e.jsx("p",{className:"text-muted-foreground",children:"此页面将展示你收藏的所有内容"})]})]}),Ad=()=>{const{theme:t,setThemeSetting:s}=fr(),r=()=>{s(t==="light"?"dark":"light")};return e.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400","aria-label":t==="light"?"Switch to dark mode":"Switch to light mode",children:t==="light"?e.jsx(as,{size:20,className:"text-gray-600 dark:text-gray-300"}):e.jsx(rs,{size:20,className:"text-yellow-500"})})},Dd=()=>{const t=$e(),s=n=>{n.preventDefault();const l=n.currentTarget.getAttribute("href");if(l&&l.startsWith("#")){const i=l.substring(1),o=document.getElementById(i);o&&o.scrollIntoView({behavior:"smooth"})}},r=n=>{t.pathname==="/"&&(n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))},a=!!localStorage.getItem("token");return e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50 dark:bg-gray-800 dark:border-b dark:border-gray-700 header-animate-fadeInDown",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(V,{to:"/",className:"text-2xl font-bold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"文管家"})}),e.jsxs("nav",{className:"hidden md:flex space-x-8",children:[e.jsx(V,{to:"/",onClick:r,className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"首页"}),e.jsx(V,{to:"/market",className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"内容市场"}),e.jsx("a",{href:"#features",onClick:s,className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"功能特性"}),e.jsx("a",{href:"#how-it-works",onClick:s,className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"运作流程"}),e.jsx("a",{href:"#use-cases",onClick:s,className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"应用场景"}),e.jsx("a",{href:"#why-choose-us",onClick:s,className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"为何选择"}),e.jsx("a",{href:"#faq",onClick:s,className:"font-medium text-gray-500 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors nav-underline",children:"常见问题"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ad,{}),a?e.jsx(V,{to:"/app",className:"ml-4 inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors dark:bg-primary-500 dark:hover:bg-primary-600 dark:focus:ring-primary-400 btn-glow-header",children:"进入控制台"}):e.jsx(V,{to:"/login",className:"ml-4 inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors dark:bg-primary-500 dark:hover:bg-primary-600 dark:focus:ring-primary-400 btn-glow-header",children:"登录 / 注册"})]})]})})})},zd=()=>e.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 dark:bg-[#101729] dark:border-gray-800",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," 文管家. 保留所有权利. ",e.jsx("a",{href:" ",rel:"noreferrer",target:"_blank",children:"京公网安备11000000000000号"})]})})}),Pd=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900",children:[e.jsx(Dd,{}),e.jsx("main",{className:"flex-grow",children:t}),e.jsx(zd,{})]}),Ed=({endValue:t,duration:s=2e3,className:r,decimals:a=0})=>{const[n,l]=h.useState(0),i=h.useRef(null),o=h.useRef(null),[c,d]=Rn({triggerOnce:!0,threshold:.1});h.useEffect(()=>{if(d){const m=x=>{o.current||(o.current=x);const g=x-o.current,j=Math.min(g/s,1),y=parseFloat((j*t).toFixed(a));l(y),g<s?i.current=requestAnimationFrame(m):l(parseFloat(t.toFixed(a)))};i.current=requestAnimationFrame(m)}return()=>{i.current&&cancelAnimationFrame(i.current),o.current=null}},[t,s,a,d]);const u=m=>m.toLocaleString(void 0,{minimumFractionDigits:a,maximumFractionDigits:a});return e.jsx("span",{ref:c,className:r,children:u(n)})},Rd=()=>{const t=[{icon:e.jsx(de,{size:40,className:"text-primary-500 mb-3"}),value:125e3,label:"注册用户",suffix:"+"},{icon:e.jsx(ol,{size:40,className:"text-primary-500 mb-3"}),value:58e5,label:"累计生成文档",suffix:"+"},{icon:e.jsx(ll,{size:40,className:"text-primary-500 mb-3"}),value:1500,label:"精选模板库",suffix:"+"},{icon:e.jsx(de,{size:40,className:"text-primary-500 mb-3"}),value:99,label:"用户满意度",suffix:"%"}];return e.jsx("section",{className:"py-16 md:py-24 bg-gray-50 dark:bg-slate-900",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-gray-100",children:"受到全球用户的信赖与选择"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"文管家已为成千上万的用户和团队提供了高效的文档解决方案。"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:t.map((s,r)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 md:p-8 rounded-xl shadow-xl hover:shadow-2xl dark:shadow-slate-900/40 transition-all duration-300 flex flex-col items-center",children:[fe.cloneElement(s.icon,{className:`${s.icon.props.className} dark:text-primary-400`}),e.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-1",children:[e.jsx(Ed,{endValue:s.value,duration:2500}),s.suffix]}),e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:s.label})]},r))})]})})},Jn=h.createContext({});function Qn(t){const s=h.useRef(null);return s.current===null&&(s.current=t()),s.current}const gr=typeof window<"u",ei=gr?h.useLayoutEffect:h.useEffect,br=h.createContext(null),ti=h.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Md(t=!0){const s=h.useContext(br);if(s===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:n}=s,l=h.useId();h.useEffect(()=>{if(t)return n(l)},[t]);const i=h.useCallback(()=>t&&a&&a(l),[l,a,t]);return!r&&a?[!1,i]:[!0]}function jr(t,s){t.indexOf(s)===-1&&t.push(s)}function yr(t,s){const r=t.indexOf(s);r>-1&&t.splice(r,1)}const Pe=(t,s,r)=>r>s?s:r<t?t:r;let os=()=>{};const Ee={},si=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ri=t=>/^0[^.\s]+$/u.test(t);function vr(t){let s;return()=>(s===void 0&&(s=t()),s)}const ye=t=>t,Id=(t,s)=>r=>s(t(r)),qt=(...t)=>t.reduce(Id),Mt=(t,s,r)=>{const a=s-t;return a===0?1:(r-t)/a};class Nr{constructor(){this.subscriptions=[]}add(s){return jr(this.subscriptions,s),()=>yr(this.subscriptions,s)}notify(s,r,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](s,r,a);else for(let l=0;l<n;l++){const i=this.subscriptions[l];i&&i(s,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const we=t=>t*1e3,ke=t=>t/1e3;function ai(t,s){return s?t*(1e3/s):0}const ni=(t,s,r)=>(((1-3*r+3*s)*t+(3*r-6*s))*t+3*s)*t,Ld=1e-7,Vd=12;function Fd(t,s,r,a,n){let l,i,o=0;do i=s+(r-s)/2,l=ni(i,a,n)-t,l>0?r=i:s=i;while(Math.abs(l)>Ld&&++o<Vd);return i}function Kt(t,s,r,a){if(t===s&&r===a)return ye;const n=l=>Fd(l,0,1,t,r);return l=>l===0||l===1?l:ni(n(l),s,a)}const ii=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,oi=t=>s=>1-t(1-s),li=Kt(.33,1.53,.69,.99),wr=oi(li),di=ii(wr),ci=t=>(t*=2)<1?.5*wr(t):.5*(2-Math.pow(2,-10*(t-1))),kr=t=>1-Math.sin(Math.acos(t)),mi=oi(kr),ui=ii(kr),Bd=Kt(.42,0,1,1),$d=Kt(0,0,.58,1),xi=Kt(.42,0,.58,1),Od=t=>Array.isArray(t)&&typeof t[0]!="number",hi=t=>Array.isArray(t)&&typeof t[0]=="number",ga={linear:ye,easeIn:Bd,easeInOut:xi,easeOut:$d,circIn:kr,circInOut:ui,circOut:mi,backIn:wr,backInOut:di,backOut:li,anticipate:ci},Ud=t=>typeof t=="string",ba=t=>{if(hi(t)){os(t.length===4);const[s,r,a,n]=t;return Kt(s,r,a,n)}else if(Ud(t))return os(ga[t]!==void 0),ga[t];return t},Gt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ja={value:null,addProjectionMetrics:null};function _d(t,s){let r=new Set,a=new Set,n=!1,l=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){i.has(m)&&(u.schedule(m),t()),c++,m(o)}const u={schedule:(m,x=!1,g=!1)=>{const y=g&&n?r:a;return x&&i.add(m),y.has(m)||y.add(m),m},cancel:m=>{a.delete(m),i.delete(m)},process:m=>{if(o=m,n){l=!0;return}n=!0,[r,a]=[a,r],r.forEach(d),s&&ja.value&&ja.value.frameloop[s].push(c),c=0,r.clear(),n=!1,l&&(l=!1,u.process(m))}};return u}const Zd=40;function pi(t,s){let r=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,i=Gt.reduce((f,N)=>(f[N]=_d(l,s?N:void 0),f),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:x,render:g,postRender:j}=i,y=()=>{const f=Ee.useManualTiming?n.timestamp:performance.now();r=!1,Ee.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(f-n.timestamp,Zd),1)),n.timestamp=f,n.isProcessing=!0,o.process(n),c.process(n),d.process(n),u.process(n),m.process(n),x.process(n),g.process(n),j.process(n),n.isProcessing=!1,r&&s&&(a=!1,t(y))},T=()=>{r=!0,a=!0,n.isProcessing||t(y)};return{schedule:Gt.reduce((f,N)=>{const b=i[N];return f[N]=(v,D=!1,C=!1)=>(r||T(),b.schedule(v,D,C)),f},{}),cancel:f=>{for(let N=0;N<Gt.length;N++)i[Gt[N]].cancel(f)},state:n,steps:i}}const{schedule:Y,cancel:Fe,state:le,steps:ks}=pi(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0);let Jt;function qd(){Jt=void 0}const pe={now:()=>(Jt===void 0&&pe.set(le.isProcessing||Ee.useManualTiming?le.timestamp:performance.now()),Jt),set:t=>{Jt=t,queueMicrotask(qd)}},fi=t=>s=>typeof s=="string"&&s.startsWith(t),Tr=fi("--"),Kd=fi("var(--"),Sr=t=>Kd(t)?Wd.test(t.split("/*")[0].trim()):!1,Wd=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ft={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},It={...ft,transform:t=>Pe(0,1,t)},Yt={...ft,default:1},St=t=>Math.round(t*1e5)/1e5,Cr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hd(t){return t==null}const Gd=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ar=(t,s)=>r=>!!(typeof r=="string"&&Gd.test(r)&&r.startsWith(t)||s&&!Hd(r)&&Object.prototype.hasOwnProperty.call(r,s)),gi=(t,s,r)=>a=>{if(typeof a!="string")return a;const[n,l,i,o]=a.match(Cr);return{[t]:parseFloat(n),[s]:parseFloat(l),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},Yd=t=>Pe(0,255,t),Ts={...ft,transform:t=>Math.round(Yd(t))},He={test:Ar("rgb","red"),parse:gi("red","green","blue"),transform:({red:t,green:s,blue:r,alpha:a=1})=>"rgba("+Ts.transform(t)+", "+Ts.transform(s)+", "+Ts.transform(r)+", "+St(It.transform(a))+")"};function Xd(t){let s="",r="",a="",n="";return t.length>5?(s=t.substring(1,3),r=t.substring(3,5),a=t.substring(5,7),n=t.substring(7,9)):(s=t.substring(1,2),r=t.substring(2,3),a=t.substring(3,4),n=t.substring(4,5),s+=s,r+=r,a+=a,n+=n),{red:parseInt(s,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const Us={test:Ar("#"),parse:Xd,transform:He.transform},Wt=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Me=Wt("deg"),Te=Wt("%"),O=Wt("px"),Jd=Wt("vh"),Qd=Wt("vw"),ya={...Te,parse:t=>Te.parse(t)/100,transform:t=>Te.transform(t*100)},at={test:Ar("hsl","hue"),parse:gi("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:r,alpha:a=1})=>"hsla("+Math.round(t)+", "+Te.transform(St(s))+", "+Te.transform(St(r))+", "+St(It.transform(a))+")"},ce={test:t=>He.test(t)||Us.test(t)||at.test(t),parse:t=>He.test(t)?He.parse(t):at.test(t)?at.parse(t):Us.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?He.transform(t):at.transform(t)},ec=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tc(t){var s,r;return isNaN(t)&&typeof t=="string"&&(((s=t.match(Cr))==null?void 0:s.length)||0)+(((r=t.match(ec))==null?void 0:r.length)||0)>0}const bi="number",ji="color",sc="var",rc="var(",va="${}",ac=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lt(t){const s=t.toString(),r=[],a={color:[],number:[],var:[]},n=[];let l=0;const o=s.replace(ac,c=>(ce.test(c)?(a.color.push(l),n.push(ji),r.push(ce.parse(c))):c.startsWith(rc)?(a.var.push(l),n.push(sc),r.push(c)):(a.number.push(l),n.push(bi),r.push(parseFloat(c))),++l,va)).split(va);return{values:r,split:o,indexes:a,types:n}}function yi(t){return Lt(t).values}function vi(t){const{split:s,types:r}=Lt(t),a=s.length;return n=>{let l="";for(let i=0;i<a;i++)if(l+=s[i],n[i]!==void 0){const o=r[i];o===bi?l+=St(n[i]):o===ji?l+=ce.transform(n[i]):l+=n[i]}return l}}const nc=t=>typeof t=="number"?0:t;function ic(t){const s=yi(t);return vi(t)(s.map(nc))}const Be={test:tc,parse:yi,createTransformer:vi,getAnimatableNone:ic};function Ss(t,s,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(s-t)*6*r:r<1/2?s:r<2/3?t+(s-t)*(2/3-r)*6:t}function oc({hue:t,saturation:s,lightness:r,alpha:a}){t/=360,s/=100,r/=100;let n=0,l=0,i=0;if(!s)n=l=i=r;else{const o=r<.5?r*(1+s):r+s-r*s,c=2*r-o;n=Ss(c,o,t+1/3),l=Ss(c,o,t),i=Ss(c,o,t-1/3)}return{red:Math.round(n*255),green:Math.round(l*255),blue:Math.round(i*255),alpha:a}}function ls(t,s){return r=>r>0?s:t}const G=(t,s,r)=>t+(s-t)*r,Cs=(t,s,r)=>{const a=t*t,n=r*(s*s-a)+a;return n<0?0:Math.sqrt(n)},lc=[Us,He,at],dc=t=>lc.find(s=>s.test(t));function Na(t){const s=dc(t);if(!s)return!1;let r=s.parse(t);return s===at&&(r=oc(r)),r}const wa=(t,s)=>{const r=Na(t),a=Na(s);if(!r||!a)return ls(t,s);const n={...r};return l=>(n.red=Cs(r.red,a.red,l),n.green=Cs(r.green,a.green,l),n.blue=Cs(r.blue,a.blue,l),n.alpha=G(r.alpha,a.alpha,l),He.transform(n))},_s=new Set(["none","hidden"]);function cc(t,s){return _s.has(t)?r=>r<=0?t:s:r=>r>=1?s:t}function mc(t,s){return r=>G(t,s,r)}function Dr(t){return typeof t=="number"?mc:typeof t=="string"?Sr(t)?ls:ce.test(t)?wa:hc:Array.isArray(t)?Ni:typeof t=="object"?ce.test(t)?wa:uc:ls}function Ni(t,s){const r=[...t],a=r.length,n=t.map((l,i)=>Dr(l)(l,s[i]));return l=>{for(let i=0;i<a;i++)r[i]=n[i](l);return r}}function uc(t,s){const r={...t,...s},a={};for(const n in r)t[n]!==void 0&&s[n]!==void 0&&(a[n]=Dr(t[n])(t[n],s[n]));return n=>{for(const l in a)r[l]=a[l](n);return r}}function xc(t,s){const r=[],a={color:0,var:0,number:0};for(let n=0;n<s.values.length;n++){const l=s.types[n],i=t.indexes[l][a[l]],o=t.values[i]??0;r[n]=o,a[l]++}return r}const hc=(t,s)=>{const r=Be.createTransformer(s),a=Lt(t),n=Lt(s);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?_s.has(t)&&!n.values.length||_s.has(s)&&!a.values.length?cc(t,s):qt(Ni(xc(a,n),n.values),r):ls(t,s)};function wi(t,s,r){return typeof t=="number"&&typeof s=="number"&&typeof r=="number"?G(t,s,r):Dr(t)(t,s)}const pc=t=>{const s=({timestamp:r})=>t(r);return{start:(r=!0)=>Y.update(s,r),stop:()=>Fe(s),now:()=>le.isProcessing?le.timestamp:pe.now()}},ki=(t,s,r=10)=>{let a="";const n=Math.max(Math.round(s/r),2);for(let l=0;l<n;l++)a+=t(l/(n-1))+", ";return`linear(${a.substring(0,a.length-2)})`},ds=2e4;function zr(t){let s=0;const r=50;let a=t.next(s);for(;!a.done&&s<ds;)s+=r,a=t.next(s);return s>=ds?1/0:s}function fc(t,s=100,r){const a=r({...t,keyframes:[0,s]}),n=Math.min(zr(a),ds);return{type:"keyframes",ease:l=>a.next(n*l).value/s,duration:ke(n)}}const gc=5;function Ti(t,s,r){const a=Math.max(s-gc,0);return ai(r-t(a),s-a)}const J={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},As=.001;function bc({duration:t=J.duration,bounce:s=J.bounce,velocity:r=J.velocity,mass:a=J.mass}){let n,l,i=1-s;i=Pe(J.minDamping,J.maxDamping,i),t=Pe(J.minDuration,J.maxDuration,ke(t)),i<1?(n=d=>{const u=d*i,m=u*t,x=u-r,g=Zs(d,i),j=Math.exp(-m);return As-x/g*j},l=d=>{const m=d*i*t,x=m*r+r,g=Math.pow(i,2)*Math.pow(d,2)*t,j=Math.exp(-m),y=Zs(Math.pow(d,2),i);return(-n(d)+As>0?-1:1)*((x-g)*j)/y}):(n=d=>{const u=Math.exp(-d*t),m=(d-r)*t+1;return-As+u*m},l=d=>{const u=Math.exp(-d*t),m=(r-d)*(t*t);return u*m});const o=5/t,c=yc(n,l,o);if(t=we(t),isNaN(c))return{stiffness:J.stiffness,damping:J.damping,duration:t};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:i*2*Math.sqrt(a*d),duration:t}}}const jc=12;function yc(t,s,r){let a=r;for(let n=1;n<jc;n++)a=a-t(a)/s(a);return a}function Zs(t,s){return t*Math.sqrt(1-s*s)}const vc=["duration","bounce"],Nc=["stiffness","damping","mass"];function ka(t,s){return s.some(r=>t[r]!==void 0)}function wc(t){let s={velocity:J.velocity,stiffness:J.stiffness,damping:J.damping,mass:J.mass,isResolvedFromDuration:!1,...t};if(!ka(t,Nc)&&ka(t,vc))if(t.visualDuration){const r=t.visualDuration,a=2*Math.PI/(r*1.2),n=a*a,l=2*Pe(.05,1,1-(t.bounce||0))*Math.sqrt(n);s={...s,mass:J.mass,stiffness:n,damping:l}}else{const r=bc(t);s={...s,...r,mass:J.mass},s.isResolvedFromDuration=!0}return s}function cs(t=J.visualDuration,s=J.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:a,restDelta:n}=r;const l=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:l},{stiffness:c,damping:d,mass:u,duration:m,velocity:x,isResolvedFromDuration:g}=wc({...r,velocity:-ke(r.velocity||0)}),j=x||0,y=d/(2*Math.sqrt(c*u)),T=i-l,p=ke(Math.sqrt(c/u)),w=Math.abs(T)<5;a||(a=w?J.restSpeed.granular:J.restSpeed.default),n||(n=w?J.restDelta.granular:J.restDelta.default);let f;if(y<1){const b=Zs(p,y);f=v=>{const D=Math.exp(-y*p*v);return i-D*((j+y*p*T)/b*Math.sin(b*v)+T*Math.cos(b*v))}}else if(y===1)f=b=>i-Math.exp(-p*b)*(T+(j+p*T)*b);else{const b=p*Math.sqrt(y*y-1);f=v=>{const D=Math.exp(-y*p*v),C=Math.min(b*v,300);return i-D*((j+y*p*T)*Math.sinh(C)+b*T*Math.cosh(C))/b}}const N={calculatedDuration:g&&m||null,next:b=>{const v=f(b);if(g)o.done=b>=m;else{let D=b===0?j:0;y<1&&(D=b===0?we(j):Ti(f,b,v));const C=Math.abs(D)<=a,L=Math.abs(i-v)<=n;o.done=C&&L}return o.value=o.done?i:v,o},toString:()=>{const b=Math.min(zr(N),ds),v=ki(D=>N.next(b*D).value,b,30);return b+"ms "+v},toTransition:()=>{}};return N}cs.applyToOptions=t=>{const s=fc(t,100,cs);return t.ease=s.ease,t.duration=we(s.duration),t.type="keyframes",t};function qs({keyframes:t,velocity:s=0,power:r=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:l=500,modifyTarget:i,min:o,max:c,restDelta:d=.5,restSpeed:u}){const m=t[0],x={done:!1,value:m},g=C=>o!==void 0&&C<o||c!==void 0&&C>c,j=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let y=r*s;const T=m+y,p=i===void 0?T:i(T);p!==T&&(y=p-m);const w=C=>-y*Math.exp(-C/a),f=C=>p+w(C),N=C=>{const L=w(C),k=f(C);x.done=Math.abs(L)<=d,x.value=x.done?p:k};let b,v;const D=C=>{g(x.value)&&(b=C,v=cs({keyframes:[x.value,j(x.value)],velocity:Ti(f,C,x.value),damping:n,stiffness:l,restDelta:d,restSpeed:u}))};return D(0),{calculatedDuration:null,next:C=>{let L=!1;return!v&&b===void 0&&(L=!0,N(C),D(C)),b!==void 0&&C>=b?v.next(C-b):(!L&&N(C),x)}}}function kc(t,s,r){const a=[],n=r||Ee.mix||wi,l=t.length-1;for(let i=0;i<l;i++){let o=n(t[i],t[i+1]);if(s){const c=Array.isArray(s)?s[i]||ye:s;o=qt(c,o)}a.push(o)}return a}function Tc(t,s,{clamp:r=!0,ease:a,mixer:n}={}){const l=t.length;if(os(l===s.length),l===1)return()=>s[0];if(l===2&&s[0]===s[1])return()=>s[1];const i=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),s=[...s].reverse());const o=kc(s,a,n),c=o.length,d=u=>{if(i&&u<t[0])return s[0];let m=0;if(c>1)for(;m<t.length-2&&!(u<t[m+1]);m++);const x=Mt(t[m],t[m+1],u);return o[m](x)};return r?u=>d(Pe(t[0],t[l-1],u)):d}function Sc(t,s){const r=t[t.length-1];for(let a=1;a<=s;a++){const n=Mt(0,s,a);t.push(G(r,1,n))}}function Cc(t){const s=[0];return Sc(s,t.length-1),s}function Ac(t,s){return t.map(r=>r*s)}function Dc(t,s){return t.map(()=>s||xi).splice(0,t.length-1)}function Ct({duration:t=300,keyframes:s,times:r,ease:a="easeInOut"}){const n=Od(a)?a.map(ba):ba(a),l={done:!1,value:s[0]},i=Ac(r&&r.length===s.length?r:Cc(s),t),o=Tc(i,s,{ease:Array.isArray(n)?n:Dc(s,n)});return{calculatedDuration:t,next:c=>(l.value=o(c),l.done=c>=t,l)}}const zc=t=>t!==null;function Pr(t,{repeat:s,repeatType:r="loop"},a,n=1){const l=t.filter(zc),o=n<0||s&&r!=="loop"&&s%2===1?0:l.length-1;return!o||a===void 0?l[o]:a}const Pc={decay:qs,inertia:qs,tween:Ct,keyframes:Ct,spring:cs};function Si(t){typeof t.type=="string"&&(t.type=Pc[t.type])}class Er{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,r){return this.finished.then(s,r)}}const Ec=t=>t/100;class Rr extends Er{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==pe.now()&&this.tick(pe.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;Si(s);const{type:r=Ct,repeat:a=0,repeatDelay:n=0,repeatType:l,velocity:i=0}=s;let{keyframes:o}=s;const c=r||Ct;c!==Ct&&typeof o[0]!="number"&&(this.mixKeyframes=qt(Ec,wi(o[0],o[1])),o=[0,100]);const d=c({...s,keyframes:o});l==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...o].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=zr(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=d}updateTime(s){const r=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(s,r=!1){const{generator:a,totalDuration:n,mixKeyframes:l,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:x,repeatDelay:g,type:j,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-n/this.speed,this.startTime)),r?this.currentTime=s:this.updateTime(s);const p=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?p<0:p>n;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let f=this.currentTime,N=a;if(m){const C=Math.min(this.currentTime,n)/o;let L=Math.floor(C),k=C%1;!k&&C>=1&&(k=1),k===1&&L--,L=Math.min(L,m+1),!!(L%2)&&(x==="reverse"?(k=1-k,g&&(k-=g/o)):x==="mirror"&&(N=i)),f=Pe(0,1,k)*o}const b=w?{done:!1,value:u[0]}:N.next(f);l&&(b.value=l(b.value));let{done:v}=b;!w&&c!==null&&(v=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&v);return D&&j!==qs&&(b.value=Pr(u,this.options,T,this.speed)),y&&y(b.value),D&&this.finish(),b}then(s,r){return this.finished.then(s,r)}get duration(){return ke(this.calculatedDuration)}get time(){return ke(this.currentTime)}set time(s){var r;s=we(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(pe.now());const r=this.playbackSpeed!==s;this.playbackSpeed=s,r&&(this.time=ke(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=pc,onPlay:r,startTime:a}=this.options;this.driver||(this.driver=s(l=>this.tick(l))),r&&r();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=a??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),s.observe(this)}}function Rc(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Ge=t=>t*180/Math.PI,Ks=t=>{const s=Ge(Math.atan2(t[1],t[0]));return Ws(s)},Mc={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ks,rotateZ:Ks,skewX:t=>Ge(Math.atan(t[1])),skewY:t=>Ge(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ws=t=>(t=t%360,t<0&&(t+=360),t),Ta=Ks,Sa=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ca=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ic={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sa,scaleY:Ca,scale:t=>(Sa(t)+Ca(t))/2,rotateX:t=>Ws(Ge(Math.atan2(t[6],t[5]))),rotateY:t=>Ws(Ge(Math.atan2(-t[2],t[0]))),rotateZ:Ta,rotate:Ta,skewX:t=>Ge(Math.atan(t[4])),skewY:t=>Ge(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Aa(t){return t.includes("scale")?1:0}function Hs(t,s){if(!t||t==="none")return Aa(s);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(r)a=Ic,n=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Mc,n=o}if(!n)return Aa(s);const l=a[s],i=n[1].split(",").map(Vc);return typeof l=="function"?l(i):i[l]}const Lc=(t,s)=>{const{transform:r="none"}=getComputedStyle(t);return Hs(r,s)};function Vc(t){return parseFloat(t.trim())}const gt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bt=new Set(gt),Da=t=>t===ft||t===O,Fc=new Set(["x","y","z"]),Bc=gt.filter(t=>!Fc.has(t));function $c(t){const s=[];return Bc.forEach(r=>{const a=t.getValue(r);a!==void 0&&(s.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),s}const Ye={width:({x:t},{paddingLeft:s="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),height:({y:t},{paddingTop:s="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Hs(s,"x"),y:(t,{transform:s})=>Hs(s,"y")};Ye.translateX=Ye.x;Ye.translateY=Ye.y;const Xe=new Set;let Gs=!1,Ys=!1,Xs=!1;function Ci(){if(Ys){const t=Array.from(Xe).filter(a=>a.needsMeasurement),s=new Set(t.map(a=>a.element)),r=new Map;s.forEach(a=>{const n=$c(a);n.length&&(r.set(a,n),a.render())}),t.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const n=r.get(a);n&&n.forEach(([l,i])=>{var o;(o=a.getValue(l))==null||o.set(i)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Ys=!1,Gs=!1,Xe.forEach(t=>t.complete(Xs)),Xe.clear()}function Ai(){Xe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ys=!0)})}function Oc(){Xs=!0,Ai(),Ci(),Xs=!1}class Mr{constructor(s,r,a,n,l,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=r,this.name=a,this.motionValue=n,this.element=l,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Xe.add(this),Gs||(Gs=!0,Y.read(Ai),Y.resolveKeyframes(Ci))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:r,element:a,motionValue:n}=this;if(s[0]===null){const l=n==null?void 0:n.get(),i=s[s.length-1];if(l!==void 0)s[0]=l;else if(a&&r){const o=a.readValue(r,i);o!=null&&(s[0]=o)}s[0]===void 0&&(s[0]=i),n&&l===void 0&&n.set(s[0])}Rc(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Xe.delete(this)}cancel(){this.state==="scheduled"&&(Xe.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uc=t=>t.startsWith("--");function _c(t,s,r){Uc(s)?t.style.setProperty(s,r):t.style[s]=r}const Zc=vr(()=>window.ScrollTimeline!==void 0),qc={};function Kc(t,s){const r=vr(t);return()=>qc[s]??r()}const Di=Kc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wt=([t,s,r,a])=>`cubic-bezier(${t}, ${s}, ${r}, ${a})`,za={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wt([0,.65,.55,1]),circOut:wt([.55,0,1,.45]),backIn:wt([.31,.01,.66,-.59]),backOut:wt([.33,1.53,.69,.99])};function zi(t,s){if(t)return typeof t=="function"?Di()?ki(t,s):"ease-out":hi(t)?wt(t):Array.isArray(t)?t.map(r=>zi(r,s)||za.easeOut):za[t]}function Wc(t,s,r,{delay:a=0,duration:n=300,repeat:l=0,repeatType:i="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[s]:r};c&&(u.offset=c);const m=zi(o,n);Array.isArray(m)&&(u.easing=m);const x={delay:a,duration:n,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:i==="reverse"?"alternate":"normal"};return d&&(x.pseudoElement=d),t.animate(u,x)}function Pi(t){return typeof t=="function"&&"applyToOptions"in t}function Hc({type:t,...s}){return Pi(t)&&Di()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class Gc extends Er{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:r,name:a,keyframes:n,pseudoElement:l,allowFlatten:i=!1,finalKeyframe:o,onComplete:c}=s;this.isPseudoElement=!!l,this.allowFlatten=i,this.options=s,os(typeof s.type!="string");const d=Hc(s);this.animation=Wc(r,a,n,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const u=Pr(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):_c(r,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,r;(r=(s=this.animation).finish)==null||r.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,r;this.isPseudoElement||(r=(s=this.animation).commitStyles)==null||r.call(s)}get duration(){var r,a;const s=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return ke(Number(s))}get time(){return ke(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=we(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&Zc()?(this.animation.timeline=s,ye):r(this)}}const Ei={anticipate:ci,backInOut:di,circInOut:ui};function Yc(t){return t in Ei}function Xc(t){typeof t.ease=="string"&&Yc(t.ease)&&(t.ease=Ei[t.ease])}const Pa=10;class Jc extends Gc{constructor(s){Xc(s),Si(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:r,onUpdate:a,onComplete:n,element:l,...i}=this.options;if(!r)return;if(s!==void 0){r.set(s);return}const o=new Rr({...i,autoplay:!1}),c=we(this.finishedTime??this.time);r.setWithVelocity(o.sample(c-Pa).value,o.sample(c).value,Pa),o.stop()}}const Ea=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Be.test(t)||t==="0")&&!t.startsWith("url("));function Qc(t){const s=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}function em(t,s,r,a){const n=t[0];if(n===null)return!1;if(s==="display"||s==="visibility")return!0;const l=t[t.length-1],i=Ea(n,s),o=Ea(l,s);return!i||!o?!1:Qc(t)||(r==="spring"||Pi(r))&&a}const tm=new Set(["opacity","clipPath","filter","transform"]),sm=vr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rm(t){const{motionValue:s,name:r,repeatDelay:a,repeatType:n,damping:l,type:i}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=s.owner.getProps();return sm()&&r&&tm.has(r)&&(r!=="transform"||!c)&&!o&&!a&&n!=="mirror"&&l!==0&&i!=="inertia"}const am=40;class nm extends Er{constructor({autoplay:s=!0,delay:r=0,type:a="keyframes",repeat:n=0,repeatDelay:l=0,repeatType:i="loop",keyframes:o,name:c,motionValue:d,element:u,...m}){var j;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=pe.now();const x={autoplay:s,delay:r,type:a,repeat:n,repeatDelay:l,repeatType:i,name:c,motionValue:d,element:u,...m},g=(u==null?void 0:u.KeyframeResolver)||Mr;this.keyframeResolver=new g(o,(y,T,p)=>this.onKeyframesResolved(y,T,x,!p),c,d,u),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(s,r,a,n){this.keyframeResolver=void 0;const{name:l,type:i,velocity:o,delay:c,isHandoff:d,onUpdate:u}=a;this.resolvedAt=pe.now(),em(s,l,i,o)||((Ee.instantAnimations||!c)&&(u==null||u(Pr(s,a,r))),s[0]=s[s.length-1],a.duration=0,a.repeat=0);const x={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>am?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:s},g=!d&&rm(x)?new Jc({...x,element:x.motionValue.owner.current}):new Rr(x);g.finished.then(()=>this.notifyFinished()).catch(ye),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(s,r){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),Oc()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const im=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function om(t){const s=im.exec(t);if(!s)return[,];const[,r,a,n]=s;return[`--${r??a}`,n]}function Ri(t,s,r=1){const[a,n]=om(t);if(!a)return;const l=window.getComputedStyle(s).getPropertyValue(a);if(l){const i=l.trim();return si(i)?parseFloat(i):i}return Sr(n)?Ri(n,s,r+1):n}function Ir(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const Mi=new Set(["width","height","top","left","right","bottom",...gt]),lm={test:t=>t==="auto",parse:t=>t},Ii=t=>s=>s.test(t),Li=[ft,O,Te,Me,Qd,Jd,lm],Ra=t=>Li.find(Ii(t));function dm(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ri(t):!0}const cm=new Set(["brightness","contrast","saturate","opacity"]);function mm(t){const[s,r]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[a]=r.match(Cr)||[];if(!a)return t;const n=r.replace(a,"");let l=cm.has(s)?1:0;return a!==r&&(l*=100),s+"("+l+n+")"}const um=/\b([a-z-]*)\(.*?\)/gu,Js={...Be,getAnimatableNone:t=>{const s=t.match(um);return s?s.map(mm).join(" "):t}},Ma={...ft,transform:Math.round},xm={rotate:Me,rotateX:Me,rotateY:Me,rotateZ:Me,scale:Yt,scaleX:Yt,scaleY:Yt,scaleZ:Yt,skew:Me,skewX:Me,skewY:Me,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:It,originX:ya,originY:ya,originZ:O},Lr={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O,...xm,zIndex:Ma,fillOpacity:It,strokeOpacity:It,numOctaves:Ma},hm={...Lr,color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:Js,WebkitFilter:Js},Vi=t=>hm[t];function Fi(t,s){let r=Vi(t);return r!==Js&&(r=Be),r.getAnimatableNone?r.getAnimatableNone(s):void 0}const pm=new Set(["auto","none","0"]);function fm(t,s,r){let a=0,n;for(;a<t.length&&!n;){const l=t[a];typeof l=="string"&&!pm.has(l)&&Lt(l).values.length&&(n=t[a]),a++}if(n&&r)for(const l of s)t[l]=Fi(r,n)}class gm extends Mr{constructor(s,r,a,n,l){super(s,r,a,n,l,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let d=s[c];if(typeof d=="string"&&(d=d.trim(),Sr(d))){const u=Ri(d,r.current);u!==void 0&&(s[c]=u),c===s.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Mi.has(a)||s.length!==2)return;const[n,l]=s,i=Ra(n),o=Ra(l);if(i!==o)if(Da(i)&&Da(o))for(let c=0;c<s.length;c++){const d=s[c];typeof d=="string"&&(s[c]=parseFloat(d))}else Ye[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:r}=this,a=[];for(let n=0;n<s.length;n++)(s[n]===null||dm(s[n]))&&a.push(n);a.length&&fm(s,a,r)}measureInitialState(){const{element:s,unresolvedKeyframes:r,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ye[a](s.measureViewportBox(),window.getComputedStyle(s.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&s.getValue(a,n).jump(n,!1)}measureEndState(){var o;const{element:s,name:r,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const n=s.getValue(r);n&&n.jump(this.measuredOrigin,!1);const l=a.length-1,i=a[l];a[l]=Ye[r](s.measureViewportBox(),window.getComputedStyle(s.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function bm(t,s,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const n=document.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const Ia=30,jm=t=>!isNaN(parseFloat(t));class ym{constructor(s,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,n=!0)=>{var i,o;const l=pe.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();n&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(s),this.owner=r.owner}setCurrent(s){this.current=s,this.updatedAt=pe.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=jm(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,r){this.events[s]||(this.events[s]=new Nr);const a=this.events[s].add(r);return s==="change"?()=>{a(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,r){this.passiveEffect=s,this.stopPassiveEffect=r}set(s,r=!0){!r||!this.passiveEffect?this.updateAndNotify(s,r):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,r=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=pe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>Ia)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Ia);return ai(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(s){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=s(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,r;(s=this.dependents)==null||s.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xt(t,s){return new ym(t,s)}const Bi=(t,s)=>s&&typeof t=="number"?s.transform(t):t,{schedule:Vr,cancel:zh}=pi(queueMicrotask,!1),ve={x:!1,y:!1};function $i(){return ve.x||ve.y}function vm(t){return t==="x"||t==="y"?ve[t]?null:(ve[t]=!0,()=>{ve[t]=!1}):ve.x||ve.y?null:(ve.x=ve.y=!0,()=>{ve.x=ve.y=!1})}function Oi(t,s){const r=bm(t),a=new AbortController,n={passive:!0,...s,signal:a.signal};return[r,n,()=>a.abort()]}function La(t){return!(t.pointerType==="touch"||$i())}function Nm(t,s,r={}){const[a,n,l]=Oi(t,r),i=o=>{if(!La(o))return;const{target:c}=o,d=s(c,o);if(typeof d!="function"||!c)return;const u=m=>{La(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return a.forEach(o=>{o.addEventListener("pointerenter",i,n)}),l}const Ui=(t,s)=>s?t===s?!0:Ui(t,s.parentElement):!1,Fr=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wm=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function km(t){return wm.has(t.tagName)||t.tabIndex!==-1}const Qt=new WeakSet;function Va(t){return s=>{s.key==="Enter"&&t(s)}}function Ds(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const Tm=(t,s)=>{const r=t.currentTarget;if(!r)return;const a=Va(()=>{if(Qt.has(r))return;Ds(r,"down");const n=Va(()=>{Ds(r,"up")}),l=()=>Ds(r,"cancel");r.addEventListener("keyup",n,s),r.addEventListener("blur",l,s)});r.addEventListener("keydown",a,s),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),s)};function Fa(t){return Fr(t)&&!$i()}function Sm(t,s,r={}){const[a,n,l]=Oi(t,r),i=o=>{const c=o.currentTarget;if(!Fa(o))return;Qt.add(c);const d=s(c,o),u=(g,j)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Qt.has(c)&&Qt.delete(c),Fa(g)&&typeof d=="function"&&d(g,{success:j})},m=g=>{u(g,c===window||c===document||r.useGlobalTarget||Ui(c,g.target))},x=g=>{u(g,!1)};window.addEventListener("pointerup",m,n),window.addEventListener("pointercancel",x,n)};return a.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,n),o instanceof HTMLElement&&(o.addEventListener("focus",d=>Tm(d,n)),!km(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),l}const Cm=[...Li,ce,Be],Am=t=>Cm.find(Ii(t)),_i=h.createContext({strict:!1}),Ba={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ht={};for(const t in Ba)ht[t]={isEnabled:s=>Ba[t].some(r=>!!s[r])};function Dm(t){for(const s in t)ht[s]={...ht[s],...t[s]}}const zm=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ms(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zm.has(t)}let Zi=t=>!ms(t);function Pm(t){t&&(Zi=s=>s.startsWith("on")?!ms(s):t(s))}try{Pm(require("@emotion/is-prop-valid").default)}catch{}function Em(t,s,r){const a={};for(const n in t)n==="values"&&typeof t.values=="object"||(Zi(n)||r===!0&&ms(n)||!s&&!ms(n)||t.draggable&&n.startsWith("onDrag"))&&(a[n]=t[n]);return a}function Rm(t){if(typeof Proxy>"u")return t;const s=new Map,r=(...a)=>t(...a);return new Proxy(r,{get:(a,n)=>n==="create"?t:(s.has(n)||s.set(n,t(n)),s.get(n))})}const gs=h.createContext({});function bs(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vt(t){return typeof t=="string"||Array.isArray(t)}const Br=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$r=["initial",...Br];function js(t){return bs(t.animate)||$r.some(s=>Vt(t[s]))}function qi(t){return!!(js(t)||t.variants)}function Mm(t,s){if(js(t)){const{initial:r,animate:a}=t;return{initial:r===!1||Vt(r)?r:void 0,animate:Vt(a)?a:void 0}}return t.inherit!==!1?s:{}}function Im(t){const{initial:s,animate:r}=Mm(t,h.useContext(gs));return h.useMemo(()=>({initial:s,animate:r}),[$a(s),$a(r)])}function $a(t){return Array.isArray(t)?t.join(" "):t}const Lm=Symbol.for("motionComponentSymbol");function nt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vm(t,s,r){return h.useCallback(a=>{a&&t.onMount&&t.onMount(a),s&&(a?s.mount(a):s.unmount()),r&&(typeof r=="function"?r(a):nt(r)&&(r.current=a))},[s])}const Or=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Fm="framerAppearId",Ki="data-"+Or(Fm),Wi=h.createContext({});function Bm(t,s,r,a,n){var y,T;const{visualElement:l}=h.useContext(gs),i=h.useContext(_i),o=h.useContext(br),c=h.useContext(ti).reducedMotion,d=h.useRef(null);a=a||i.renderer,!d.current&&a&&(d.current=a(t,{visualState:s,parent:l,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=h.useContext(Wi);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&$m(d.current,r,n,m);const x=h.useRef(!1);h.useInsertionEffect(()=>{u&&x.current&&u.update(r,o)});const g=r[Ki],j=h.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,g)));return ei(()=>{u&&(x.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Vr.render(u.render),j.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!j.current&&u.animationState&&u.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,g)}),j.current=!1))}),u}function $m(t,s,r,a){const{layoutId:n,layout:l,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=s;t.projection=new r(t.latestValues,s["data-framer-portal-id"]?void 0:Hi(t.parent)),t.projection.setOptions({layoutId:n,layout:l,alwaysMeasureLayout:!!i||o&&nt(o),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:d})}function Hi(t){if(t)return t.options.allowProjection!==!1?t.projection:Hi(t.parent)}function Om({preloadedFeatures:t,createVisualElement:s,useRender:r,useVisualState:a,Component:n}){t&&Dm(t);function l(o,c){let d;const u={...h.useContext(ti),...o,layoutId:Um(o)},{isStatic:m}=u,x=Im(o),g=a(o,m);if(!m&&gr){_m();const j=Zm(u);d=j.MeasureLayout,x.visualElement=Bm(n,g,u,s,j.ProjectionNode)}return e.jsxs(gs.Provider,{value:x,children:[d&&x.visualElement?e.jsx(d,{visualElement:x.visualElement,...u}):null,r(n,o,Vm(g,x.visualElement,c),g,m,x.visualElement)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const i=h.forwardRef(l);return i[Lm]=n,i}function Um({layoutId:t}){const s=h.useContext(Jn).id;return s&&t!==void 0?s+"-"+t:t}function _m(t,s){h.useContext(_i).strict}function Zm(t){const{drag:s,layout:r}=ht;if(!s&&!r)return{};const a={...s,...r};return{MeasureLayout:s!=null&&s.isEnabled(t)||r!=null&&r.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Ft={};function qm(t){for(const s in t)Ft[s]=t[s],Tr(s)&&(Ft[s].isCSSVariable=!0)}function Gi(t,{layout:s,layoutId:r}){return bt.has(t)||t.startsWith("origin")||(s||r!==void 0)&&(!!Ft[t]||t==="opacity")}const me=t=>!!(t&&t.getVelocity),Km={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wm=gt.length;function Hm(t,s,r){let a="",n=!0;for(let l=0;l<Wm;l++){const i=gt[l],o=t[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const d=Bi(o,Lr[i]);if(!c){n=!1;const u=Km[i]||i;a+=`${u}(${d}) `}r&&(s[i]=d)}}return a=a.trim(),r?a=r(s,n?"":a):n&&(a="none"),a}function Ur(t,s,r){const{style:a,vars:n,transformOrigin:l}=t;let i=!1,o=!1;for(const c in s){const d=s[c];if(bt.has(c)){i=!0;continue}else if(Tr(c)){n[c]=d;continue}else{const u=Bi(d,Lr[c]);c.startsWith("origin")?(o=!0,l[c]=u):a[c]=u}}if(s.transform||(i||r?a.transform=Hm(s,t.transform,r):a.transform&&(a.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=l;a.transformOrigin=`${c} ${d} ${u}`}}const _r=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yi(t,s,r){for(const a in s)!me(s[a])&&!Gi(a,r)&&(t[a]=s[a])}function Gm({transformTemplate:t},s){return h.useMemo(()=>{const r=_r();return Ur(r,s,t),Object.assign({},r.vars,r.style)},[s])}function Ym(t,s){const r=t.style||{},a={};return Yi(a,r,t),Object.assign(a,Gm(t,s)),a}function Xm(t,s){const r={},a=Ym(t,s);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const Jm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zr(t){return typeof t!="string"||t.includes("-")?!1:!!(Jm.indexOf(t)>-1||/[A-Z]/u.test(t))}const Qm={offset:"stroke-dashoffset",array:"stroke-dasharray"},eu={offset:"strokeDashoffset",array:"strokeDasharray"};function tu(t,s,r=1,a=0,n=!0){t.pathLength=1;const l=n?Qm:eu;t[l.offset]=O.transform(-a);const i=O.transform(s),o=O.transform(r);t[l.array]=`${i} ${o}`}function Xi(t,{attrX:s,attrY:r,attrScale:a,pathLength:n,pathSpacing:l=1,pathOffset:i=0,...o},c,d,u){if(Ur(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),s!==void 0&&(m.x=s),r!==void 0&&(m.y=r),a!==void 0&&(m.scale=a),n!==void 0&&tu(m,n,l,i,!1)}const Ji=()=>({..._r(),attrs:{}}),Qi=t=>typeof t=="string"&&t.toLowerCase()==="svg";function su(t,s,r,a){const n=h.useMemo(()=>{const l=Ji();return Xi(l,s,Qi(a),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[s]);if(t.style){const l={};Yi(l,t.style,t),n.style={...l,...n.style}}return n}function ru(t=!1){return(r,a,n,{latestValues:l},i)=>{const c=(Zr(r)?su:Xm)(a,l,i,r),d=Em(a,typeof r=="string",t),u=r!==h.Fragment?{...d,...c,ref:n}:{},{children:m}=a,x=h.useMemo(()=>me(m)?m.get():m,[m]);return h.createElement(r,{...u,children:x})}}function Oa(t){const s=[{},{}];return t==null||t.values.forEach((r,a)=>{s[0][a]=r.get(),s[1][a]=r.getVelocity()}),s}function qr(t,s,r,a){if(typeof s=="function"){const[n,l]=Oa(a);s=s(r!==void 0?r:t.custom,n,l)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[n,l]=Oa(a);s=s(r!==void 0?r:t.custom,n,l)}return s}function es(t){return me(t)?t.get():t}function au({scrapeMotionValuesFromProps:t,createRenderState:s},r,a,n){return{latestValues:nu(r,a,n,t),renderState:s()}}const eo=t=>(s,r)=>{const a=h.useContext(gs),n=h.useContext(br),l=()=>au(t,s,a,n);return r?l():Qn(l)};function nu(t,s,r,a){const n={},l=a(t,{});for(const x in l)n[x]=es(l[x]);let{initial:i,animate:o}=t;const c=js(t),d=qi(t);s&&d&&!c&&t.inherit!==!1&&(i===void 0&&(i=s.initial),o===void 0&&(o=s.animate));let u=r?r.initial===!1:!1;u=u||i===!1;const m=u?o:i;if(m&&typeof m!="boolean"&&!bs(m)){const x=Array.isArray(m)?m:[m];for(let g=0;g<x.length;g++){const j=qr(t,x[g]);if(j){const{transitionEnd:y,transition:T,...p}=j;for(const w in p){let f=p[w];if(Array.isArray(f)){const N=u?f.length-1:0;f=f[N]}f!==null&&(n[w]=f)}for(const w in y)n[w]=y[w]}}}return n}function Kr(t,s,r){var l;const{style:a}=t,n={};for(const i in a)(me(a[i])||s.style&&me(s.style[i])||Gi(i,t)||((l=r==null?void 0:r.getValue(i))==null?void 0:l.liveStyle)!==void 0)&&(n[i]=a[i]);return n}const iu={useVisualState:eo({scrapeMotionValuesFromProps:Kr,createRenderState:_r})};function to(t,s,r){const a=Kr(t,s,r);for(const n in t)if(me(t[n])||me(s[n])){const l=gt.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[l]=t[n]}return a}const ou={useVisualState:eo({scrapeMotionValuesFromProps:to,createRenderState:Ji})};function lu(t,s){return function(a,{forwardMotionProps:n}={forwardMotionProps:!1}){const i={...Zr(a)?ou:iu,preloadedFeatures:t,useRender:ru(n),createVisualElement:s,Component:a};return Om(i)}}function Bt(t,s,r){const a=t.getProps();return qr(a,s,r!==void 0?r:a.custom,t)}const Qs=t=>Array.isArray(t);function du(t,s,r){t.hasValue(s)?t.getValue(s).set(r):t.addValue(s,xt(r))}function cu(t){return Qs(t)?t[t.length-1]||0:t}function Wr(t,s){const r=Bt(t,s);let{transitionEnd:a={},transition:n={},...l}=r||{};l={...l,...a};for(const i in l){const o=cu(l[i]);du(t,i,o)}}function mu(t){return!!(me(t)&&t.add)}function er(t,s){const r=t.getValue("willChange");if(mu(r))return r.add(s);if(!r&&Ee.WillChange){const a=new Ee.WillChange("auto");t.addValue("willChange",a),a.add(s)}}function so(t){return t.props[Ki]}const uu=t=>t!==null;function xu(t,{repeat:s,repeatType:r="loop"},a){const n=t.filter(uu),l=s&&r!=="loop"&&s%2===1?0:n.length-1;return!l||a===void 0?n[l]:a}const hu={type:"spring",stiffness:500,damping:25,restSpeed:10},pu=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fu={type:"keyframes",duration:.8},gu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bu=(t,{keyframes:s})=>s.length>2?fu:bt.has(t)?t.startsWith("scale")?pu(s[1]):hu:gu;function ju({when:t,delay:s,delayChildren:r,staggerChildren:a,staggerDirection:n,repeat:l,repeatType:i,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Hr=(t,s,r,a={},n,l)=>i=>{const o=Ir(a,t)||{},c=o.delay||a.delay||0;let{elapsed:d=0}=a;d=d-we(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:s.getVelocity(),...o,delay:-d,onUpdate:x=>{s.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:t,motionValue:s,element:l?void 0:n};ju(o)||Object.assign(u,bu(t,u)),u.duration&&(u.duration=we(u.duration)),u.repeatDelay&&(u.repeatDelay=we(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),(Ee.instantAnimations||Ee.skipAnimations)&&(m=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,m&&!l&&s.get()!==void 0){const x=xu(u.keyframes,o);if(x!==void 0){Y.update(()=>{u.onUpdate(x),u.onComplete()});return}}return o.isSync?new Rr(u):new nm(u)};function yu({protectedKeys:t,needsAnimating:s},r){const a=t.hasOwnProperty(r)&&s[r]!==!0;return s[r]=!1,a}function ro(t,s,{delay:r=0,transitionOverride:a,type:n}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:i,...o}=s;a&&(l=a);const c=[],d=n&&t.animationState&&t.animationState.getState()[n];for(const u in o){const m=t.getValue(u,t.latestValues[u]??null),x=o[u];if(x===void 0||d&&yu(d,u))continue;const g={delay:r,...Ir(l||{},u)},j=m.get();if(j!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===j&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const p=so(t);if(p){const w=window.MotionHandoffAnimation(p,u,Y);w!==null&&(g.startTime=w,y=!0)}}er(t,u),m.start(Hr(u,m,x,t.shouldReduceMotion&&Mi.has(u)?{type:!1}:g,t,y));const T=m.animation;T&&c.push(T)}return i&&Promise.all(c).then(()=>{Y.update(()=>{i&&Wr(t,i)})}),c}function tr(t,s,r={}){var c;const a=Bt(t,s,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(n=r.transitionOverride);const l=a?()=>Promise.all(ro(t,a,r)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:x}=n;return vu(t,s,u+d,m,x,r)}:()=>Promise.resolve(),{when:o}=n;if(o){const[d,u]=o==="beforeChildren"?[l,i]:[i,l];return d().then(()=>u())}else return Promise.all([l(),i(r.delay)])}function vu(t,s,r=0,a=0,n=1,l){const i=[],o=(t.variantChildren.size-1)*a,c=n===1?(d=0)=>d*a:(d=0)=>o-d*a;return Array.from(t.variantChildren).sort(Nu).forEach((d,u)=>{d.notify("AnimationStart",s),i.push(tr(d,s,{...l,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",s)))}),Promise.all(i)}function Nu(t,s){return t.sortNodePosition(s)}function ao(t,s,r={}){t.notify("AnimationStart",s);let a;if(Array.isArray(s)){const n=s.map(l=>tr(t,l,r));a=Promise.all(n)}else if(typeof s=="string")a=tr(t,s,r);else{const n=typeof s=="function"?Bt(t,s,r.custom):s;a=Promise.all(ro(t,n,r))}return a.then(()=>{t.notify("AnimationComplete",s)})}function no(t,s){if(!Array.isArray(s))return!1;const r=s.length;if(r!==t.length)return!1;for(let a=0;a<r;a++)if(s[a]!==t[a])return!1;return!0}const wu=$r.length;function io(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?io(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const s={};for(let r=0;r<wu;r++){const a=$r[r],n=t.props[a];(Vt(n)||n===!1)&&(s[a]=n)}return s}const ku=[...Br].reverse(),Tu=Br.length;function Su(t){return s=>Promise.all(s.map(({animation:r,options:a})=>ao(t,r,a)))}function Cu(t){let s=Su(t),r=Ua(),a=!0;const n=c=>(d,u)=>{var x;const m=Bt(t,u,c==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:g,transitionEnd:j,...y}=m;d={...d,...y,...j}}return d};function l(c){s=c(t)}function i(c){const{props:d}=t,u=io(t.parent)||{},m=[],x=new Set;let g={},j=1/0;for(let T=0;T<Tu;T++){const p=ku[T],w=r[p],f=d[p]!==void 0?d[p]:u[p],N=Vt(f),b=p===c?w.isActive:null;b===!1&&(j=T);let v=f===u[p]&&f!==d[p]&&N;if(v&&a&&t.manuallyAnimateOnMount&&(v=!1),w.protectedKeys={...g},!w.isActive&&b===null||!f&&!w.prevProp||bs(f)||typeof f=="boolean")continue;const D=Au(w.prevProp,f);let C=D||p===c&&w.isActive&&!v&&N||T>j&&N,L=!1;const k=Array.isArray(f)?f:[f];let M=k.reduce(n(p),{});b===!1&&(M={});const{prevResolvedValues:U={}}=w,z={...U,...M},P=S=>{C=!0,x.has(S)&&(L=!0,x.delete(S)),w.needsAnimating[S]=!0;const R=t.getValue(S);R&&(R.liveStyle=!1)};for(const S in z){const R=M[S],Z=U[S];if(g.hasOwnProperty(S))continue;let X=!1;Qs(R)&&Qs(Z)?X=!no(R,Z):X=R!==Z,X?R!=null?P(S):x.add(S):R!==void 0&&x.has(S)?P(S):w.protectedKeys[S]=!0}w.prevProp=f,w.prevResolvedValues=M,w.isActive&&(g={...g,...M}),a&&t.blockInitialAnimation&&(C=!1),C&&(!(v&&D)||L)&&m.push(...k.map(S=>({animation:S,options:{type:p}})))}if(x.size){const T={};if(typeof d.initial!="boolean"){const p=Bt(t,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(T.transition=p.transition)}x.forEach(p=>{const w=t.getBaseTarget(p),f=t.getValue(p);f&&(f.liveStyle=!0),T[p]=w??null}),m.push({animation:T})}let y=!!m.length;return a&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),a=!1,y?s(m):Promise.resolve()}function o(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(x=>{var g;return(g=x.animationState)==null?void 0:g.setActive(c,d)}),r[c].isActive=d;const u=i(c);for(const x in r)r[x].protectedKeys={};return u}return{animateChanges:i,setActive:o,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Ua(),a=!0}}}function Au(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!no(s,t):!1}function Ke(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ua(){return{animate:Ke(!0),whileInView:Ke(),whileHover:Ke(),whileTap:Ke(),whileDrag:Ke(),whileFocus:Ke(),exit:Ke()}}class Ue{constructor(s){this.isMounted=!1,this.node=s}update(){}}class Du extends Ue{constructor(s){super(s),s.animationState||(s.animationState=Cu(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();bs(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:r}=this.node.prevProps||{};s!==r&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let zu=0;class Pu extends Ue{constructor(){super(...arguments),this.id=zu++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const n=this.node.animationState.setActive("exit",!s);r&&!s&&n.then(()=>{r(this.id)})}mount(){const{register:s,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const Eu={animation:{Feature:Du},exit:{Feature:Pu}};function $t(t,s,r,a={passive:!0}){return t.addEventListener(s,r,a),()=>t.removeEventListener(s,r)}function Ht(t){return{point:{x:t.pageX,y:t.pageY}}}const Ru=t=>s=>Fr(s)&&t(s,Ht(s));function At(t,s,r,a){return $t(t,s,Ru(r),a)}function oo({top:t,left:s,right:r,bottom:a}){return{x:{min:s,max:r},y:{min:t,max:a}}}function Mu({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function Iu(t,s){if(!s)return t;const r=s({x:t.left,y:t.top}),a=s({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}const lo=1e-4,Lu=1-lo,Vu=1+lo,co=.01,Fu=0-co,Bu=0+co;function xe(t){return t.max-t.min}function $u(t,s,r){return Math.abs(t-s)<=r}function _a(t,s,r,a=.5){t.origin=a,t.originPoint=G(s.min,s.max,t.origin),t.scale=xe(r)/xe(s),t.translate=G(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Lu&&t.scale<=Vu||isNaN(t.scale))&&(t.scale=1),(t.translate>=Fu&&t.translate<=Bu||isNaN(t.translate))&&(t.translate=0)}function Dt(t,s,r,a){_a(t.x,s.x,r.x,a?a.originX:void 0),_a(t.y,s.y,r.y,a?a.originY:void 0)}function Za(t,s,r){t.min=r.min+s.min,t.max=t.min+xe(s)}function Ou(t,s,r){Za(t.x,s.x,r.x),Za(t.y,s.y,r.y)}function qa(t,s,r){t.min=s.min-r.min,t.max=t.min+xe(s)}function zt(t,s,r){qa(t.x,s.x,r.x),qa(t.y,s.y,r.y)}const Ka=()=>({translate:0,scale:1,origin:0,originPoint:0}),it=()=>({x:Ka(),y:Ka()}),Wa=()=>({min:0,max:0}),ee=()=>({x:Wa(),y:Wa()});function je(t){return[t("x"),t("y")]}function zs(t){return t===void 0||t===1}function sr({scale:t,scaleX:s,scaleY:r}){return!zs(t)||!zs(s)||!zs(r)}function We(t){return sr(t)||mo(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mo(t){return Ha(t.x)||Ha(t.y)}function Ha(t){return t&&t!=="0%"}function us(t,s,r){const a=t-r,n=s*a;return r+n}function Ga(t,s,r,a,n){return n!==void 0&&(t=us(t,n,a)),us(t,r,a)+s}function rr(t,s=0,r=1,a,n){t.min=Ga(t.min,s,r,a,n),t.max=Ga(t.max,s,r,a,n)}function uo(t,{x:s,y:r}){rr(t.x,s.translate,s.scale,s.originPoint),rr(t.y,r.translate,r.scale,r.originPoint)}const Ya=.999999999999,Xa=1.0000000000001;function Uu(t,s,r,a=!1){const n=r.length;if(!n)return;s.x=s.y=1;let l,i;for(let o=0;o<n;o++){l=r[o],i=l.projectionDelta;const{visualElement:c}=l.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&lt(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),i&&(s.x*=i.x.scale,s.y*=i.y.scale,uo(t,i)),a&&We(l.latestValues)&&lt(t,l.latestValues))}s.x<Xa&&s.x>Ya&&(s.x=1),s.y<Xa&&s.y>Ya&&(s.y=1)}function ot(t,s){t.min=t.min+s,t.max=t.max+s}function Ja(t,s,r,a,n=.5){const l=G(t.min,t.max,n);rr(t,s,r,l,a)}function lt(t,s){Ja(t.x,s.x,s.scaleX,s.scale,s.originX),Ja(t.y,s.y,s.scaleY,s.scale,s.originY)}function xo(t,s){return oo(Iu(t.getBoundingClientRect(),s))}function _u(t,s,r){const a=xo(t,r),{scroll:n}=s;return n&&(ot(a.x,n.offset.x),ot(a.y,n.offset.y)),a}const ho=({current:t})=>t?t.ownerDocument.defaultView:null,Qa=(t,s)=>Math.abs(t-s);function Zu(t,s){const r=Qa(t.x,s.x),a=Qa(t.y,s.y);return Math.sqrt(r**2+a**2)}class po{constructor(s,r,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Es(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,g=Zu(m.offset,{x:0,y:0})>=3;if(!x&&!g)return;const{point:j}=m,{timestamp:y}=le;this.history.push({...j,timestamp:y});const{onStart:T,onMove:p}=this.handlers;x||(T&&T(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ps(x,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:g,onSessionEnd:j,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Es(m.type==="pointercancel"?this.lastMoveEventInfo:Ps(x,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,T),j&&j(m,T)},!Fr(s))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=a,this.contextWindow=n||window;const i=Ht(s),o=Ps(i,this.transformPagePoint),{point:c}=o,{timestamp:d}=le;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(s,Es(o,this.history)),this.removeListeners=qt(At(this.contextWindow,"pointermove",this.handlePointerMove),At(this.contextWindow,"pointerup",this.handlePointerUp),At(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Fe(this.updatePoint)}}function Ps(t,s){return s?{point:s(t.point)}:t}function en(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Es({point:t},s){return{point:t,delta:en(t,fo(s)),offset:en(t,qu(s)),velocity:Ku(s,.1)}}function qu(t){return t[0]}function fo(t){return t[t.length-1]}function Ku(t,s){if(t.length<2)return{x:0,y:0};let r=t.length-1,a=null;const n=fo(t);for(;r>=0&&(a=t[r],!(n.timestamp-a.timestamp>we(s)));)r--;if(!a)return{x:0,y:0};const l=ke(n.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const i={x:(n.x-a.x)/l,y:(n.y-a.y)/l};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Wu(t,{min:s,max:r},a){return s!==void 0&&t<s?t=a?G(s,t,a.min):Math.max(t,s):r!==void 0&&t>r&&(t=a?G(r,t,a.max):Math.min(t,r)),t}function tn(t,s,r){return{min:s!==void 0?t.min+s:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Hu(t,{top:s,left:r,bottom:a,right:n}){return{x:tn(t.x,r,n),y:tn(t.y,s,a)}}function sn(t,s){let r=s.min-t.min,a=s.max-t.max;return s.max-s.min<t.max-t.min&&([r,a]=[a,r]),{min:r,max:a}}function Gu(t,s){return{x:sn(t.x,s.x),y:sn(t.y,s.y)}}function Yu(t,s){let r=.5;const a=xe(t),n=xe(s);return n>a?r=Mt(s.min,s.max-a,t.min):a>n&&(r=Mt(t.min,t.max-n,s.min)),Pe(0,1,r)}function Xu(t,s){const r={};return s.min!==void 0&&(r.min=s.min-t.min),s.max!==void 0&&(r.max=s.max-t.min),r}const ar=.35;function Ju(t=ar){return t===!1?t=0:t===!0&&(t=ar),{x:rn(t,"left","right"),y:rn(t,"top","bottom")}}function rn(t,s,r){return{min:an(t,s),max:an(t,r)}}function an(t,s){return typeof t=="number"?t:t[s]||0}const Qu=new WeakMap;class ex{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ee(),this.visualElement=s}start(s,{snapToCursor:r=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ht(u).point)},l=(u,m)=>{const{drag:x,dragPropagation:g,onDragStart:j}=this.getProps();if(x&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vm(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),je(T=>{let p=this.getAxisMotionValue(T).get()||0;if(Te.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const f=w.layout.layoutBox[T];f&&(p=xe(f)*(parseFloat(p)/100))}}this.originPoint[T]=p}),j&&Y.postRender(()=>j(u,m)),er(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(u,m)=>{const{dragPropagation:x,dragDirectionLock:g,onDirectionLock:j,onDrag:y}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=m;if(g&&this.currentDirection===null){this.currentDirection=tx(T),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",m.point,T),this.updateAxis("y",m.point,T),this.visualElement.render(),y&&y(u,m)},o=(u,m)=>this.stop(u,m),c=()=>je(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new po(s,{onSessionStart:n,onStart:l,onMove:i,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:ho(this.visualElement)})}stop(s,r){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=r;this.startAnimation(n);const{onDragEnd:l}=this.getProps();l&&Y.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:r}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(s,r,a){const{drag:n}=this.getProps();if(!a||!Xt(s,n,this.currentDirection))return;const l=this.getAxisMotionValue(s);let i=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(i=Wu(i,this.constraints[s],this.elastic[s])),l.set(i)}resolveConstraints(){var l;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,n=this.constraints;s&&nt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=Hu(a.layoutBox,s):this.constraints=!1,this.elastic=Ju(r),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&je(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Xu(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:r}=this.getProps();if(!s||!nt(s))return!1;const a=s.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const l=_u(a,n.root,this.visualElement.getTransformPagePoint());let i=Gu(n.layout.layoutBox,l);if(r){const o=r(Mu(i));this.hasMutatedConstraints=!!o,o&&(i=oo(o))}return i}startAnimation(s){const{drag:r,dragMomentum:a,dragElastic:n,dragTransition:l,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=je(u=>{if(!Xt(u,r,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const x=n?200:1e6,g=n?40:1e7,j={type:"inertia",velocity:a?s[u]:0,bounceStiffness:x,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...l,...m};return this.startAxisValueAnimation(u,j)});return Promise.all(d).then(o)}startAxisValueAnimation(s,r){const a=this.getAxisMotionValue(s);return er(this.visualElement,s),a.start(Hr(s,a,0,r,this.visualElement,!1))}stopAnimation(){je(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){je(s=>{var r;return(r=this.getAxisMotionValue(s).animation)==null?void 0:r.pause()})}getAnimationState(s){var r;return(r=this.getAxisMotionValue(s).animation)==null?void 0:r.state}getAxisMotionValue(s){const r=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),n=a[r];return n||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){je(r=>{const{drag:a}=this.getProps();if(!Xt(r,a,this.currentDirection))return;const{projection:n}=this.visualElement,l=this.getAxisMotionValue(r);if(n&&n.layout){const{min:i,max:o}=n.layout.layoutBox[r];l.set(s[r]-G(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!nt(r)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};je(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();n[i]=Yu({min:c,max:c},this.constraints[i])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),je(i=>{if(!Xt(i,s,null))return;const o=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];o.set(G(c,d,n[i]))})}addListeners(){if(!this.visualElement.current)return;Qu.set(this.visualElement,this);const s=this.visualElement.current,r=At(s,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();nt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,l=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Y.read(a);const i=$t(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(je(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),r(),l(),o&&o()}}getProps(){const s=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:l=!1,dragElastic:i=ar,dragMomentum:o=!0}=s;return{...s,drag:r,dragDirectionLock:a,dragPropagation:n,dragConstraints:l,dragElastic:i,dragMomentum:o}}}function Xt(t,s,r){return(s===!0||s===t)&&(r===null||r===t)}function tx(t,s=10){let r=null;return Math.abs(t.y)>s?r="y":Math.abs(t.x)>s&&(r="x"),r}class sx extends Ue{constructor(s){super(s),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new ex(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const nn=t=>(s,r)=>{t&&Y.postRender(()=>t(s,r))};class rx extends Ue{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(s){this.session=new po(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ho(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:r,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:nn(s),onStart:nn(r),onMove:a,onEnd:(l,i)=>{delete this.session,n&&Y.postRender(()=>n(l,i))}}}mount(){this.removePointerDownListener=At(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ts={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function on(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Nt={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(O.test(t))t=parseFloat(t);else return t;const r=on(t,s.target.x),a=on(t,s.target.y);return`${r}% ${a}%`}},ax={correct:(t,{treeScale:s,projectionDelta:r})=>{const a=t,n=Be.parse(t);if(n.length>5)return a;const l=Be.createTransformer(t),i=typeof n[0]!="number"?1:0,o=r.x.scale*s.x,c=r.y.scale*s.y;n[0+i]/=o,n[1+i]/=c;const d=G(o,c,.5);return typeof n[2+i]=="number"&&(n[2+i]/=d),typeof n[3+i]=="number"&&(n[3+i]/=d),l(n)}};class nx extends h.Component{componentDidMount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:a,layoutId:n}=this.props,{projection:l}=s;qm(ix),l&&(r.group&&r.group.add(l),a&&a.register&&n&&a.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ts.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:r,visualElement:a,drag:n,isPresent:l}=this.props,{projection:i}=a;return i&&(i.isPresent=l,n||s.layoutDependency!==r||r===void 0||s.isPresent!==l?i.willUpdate():this.safeToRemove(),s.isPresent!==l&&(l?i.promote():i.relegate()||Y.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),Vr.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:n}=s;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function go(t){const[s,r]=Md(),a=h.useContext(Jn);return e.jsx(nx,{...t,layoutGroup:a,switchLayoutGroup:h.useContext(Wi),isPresent:s,safeToRemove:r})}const ix={borderRadius:{...Nt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomLeftRadius:Nt,borderBottomRightRadius:Nt,boxShadow:ax};function ox(t,s,r){const a=me(t)?t:xt(t);return a.start(Hr("",a,s,r)),a.animation}function lx(t){return t instanceof SVGElement&&t.tagName!=="svg"}const dx=(t,s)=>t.depth-s.depth;class cx{constructor(){this.children=[],this.isDirty=!1}add(s){jr(this.children,s),this.isDirty=!0}remove(s){yr(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(dx),this.isDirty=!1,this.children.forEach(s)}}function mx(t,s){const r=pe.now(),a=({timestamp:n})=>{const l=n-r;l>=s&&(Fe(a),t(l-s))};return Y.setup(a,!0),()=>Fe(a)}const bo=["TopLeft","TopRight","BottomLeft","BottomRight"],ux=bo.length,ln=t=>typeof t=="string"?parseFloat(t):t,dn=t=>typeof t=="number"||O.test(t);function xx(t,s,r,a,n,l){n?(t.opacity=G(0,r.opacity??1,hx(a)),t.opacityExit=G(s.opacity??1,0,px(a))):l&&(t.opacity=G(s.opacity??1,r.opacity??1,a));for(let i=0;i<ux;i++){const o=`border${bo[i]}Radius`;let c=cn(s,o),d=cn(r,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||dn(c)===dn(d)?(t[o]=Math.max(G(ln(c),ln(d),a),0),(Te.test(d)||Te.test(c))&&(t[o]+="%")):t[o]=d}(s.rotate||r.rotate)&&(t.rotate=G(s.rotate||0,r.rotate||0,a))}function cn(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const hx=jo(0,.5,mi),px=jo(.5,.95,ye);function jo(t,s,r){return a=>a<t?0:a>s?1:r(Mt(t,s,a))}function mn(t,s){t.min=s.min,t.max=s.max}function be(t,s){mn(t.x,s.x),mn(t.y,s.y)}function un(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function xn(t,s,r,a,n){return t-=s,t=us(t,1/r,a),n!==void 0&&(t=us(t,1/n,a)),t}function fx(t,s=0,r=1,a=.5,n,l=t,i=t){if(Te.test(s)&&(s=parseFloat(s),s=G(i.min,i.max,s/100)-i.min),typeof s!="number")return;let o=G(l.min,l.max,a);t===l&&(o-=s),t.min=xn(t.min,s,r,o,n),t.max=xn(t.max,s,r,o,n)}function hn(t,s,[r,a,n],l,i){fx(t,s[r],s[a],s[n],s.scale,l,i)}const gx=["x","scaleX","originX"],bx=["y","scaleY","originY"];function pn(t,s,r,a){hn(t.x,s,gx,r?r.x:void 0,a?a.x:void 0),hn(t.y,s,bx,r?r.y:void 0,a?a.y:void 0)}function fn(t){return t.translate===0&&t.scale===1}function yo(t){return fn(t.x)&&fn(t.y)}function gn(t,s){return t.min===s.min&&t.max===s.max}function jx(t,s){return gn(t.x,s.x)&&gn(t.y,s.y)}function bn(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function vo(t,s){return bn(t.x,s.x)&&bn(t.y,s.y)}function jn(t){return xe(t.x)/xe(t.y)}function yn(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class yx{constructor(){this.members=[]}add(s){jr(this.members,s),s.scheduleRender()}remove(s){if(yr(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(s){const r=this.members.findIndex(n=>s===n);if(r===0)return!1;let a;for(let n=r;n>=0;n--){const l=this.members[n];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(s,r){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,r&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:n}=s.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:r,resumingFrom:a}=s;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vx(t,s,r){let a="";const n=t.x.translate/s.x,l=t.y.translate/s.y,i=(r==null?void 0:r.z)||0;if((n||l||i)&&(a=`translate3d(${n}px, ${l}px, ${i}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:x,skewX:g,skewY:j}=r;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),m&&(a+=`rotateX(${m}deg) `),x&&(a+=`rotateY(${x}deg) `),g&&(a+=`skewX(${g}deg) `),j&&(a+=`skewY(${j}deg) `)}const o=t.x.scale*s.x,c=t.y.scale*s.y;return(o!==1||c!==1)&&(a+=`scale(${o}, ${c})`),a||"none"}const Rs=["","X","Y","Z"],Nx={visibility:"hidden"},wx=1e3;let kx=0;function Ms(t,s,r,a){const{latestValues:n}=s;n[t]&&(r[t]=n[t],s.setStaticValue(t,0),a&&(a[t]=0))}function No(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const r=so(s);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Y,!(n||l))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&No(a)}function wo({attachResizeListener:t,defaultParent:s,measureScroll:r,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(i={},o=s==null?void 0:s()){this.id=kx++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cx),this.nodes.forEach(Ex),this.nodes.forEach(Rx),this.nodes.forEach(Ax)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new cx)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Nr),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=lx(i),this.instance=i;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let u;const m=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=mx(m,250),ts.hasAnimatedSinceResize&&(ts.hasAnimatedSinceResize=!1,this.nodes.forEach(Nn))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||Fx,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=d.getProps(),p=!this.targetLayout||!vo(this.targetLayout,g),w=!m&&x;if(this.options.layoutRoot||this.resumeFrom||w||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const f={...Ir(j,"layout"),onPlay:y,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(f.delay=0,f.type=!1),this.startAnimation(f)}else m||Nn(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mx),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&No(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vn);return}this.isUpdating||this.nodes.forEach(zx),this.isUpdating=!1,this.nodes.forEach(Px),this.nodes.forEach(Tx),this.nodes.forEach(Sx),this.clearAllSnapshots();const o=pe.now();le.delta=Pe(0,1e3/60,o-le.timestamp),le.timestamp=o,le.isProcessing=!0,ks.update.process(le),ks.preRender.process(le),ks.render.process(le),le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dx),this.sharedNodes.forEach(Ix)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xe(this.snapshot.measuredBox.x)&&!xe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yo(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&this.instance&&(o||We(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),Bx(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:i}=this.options;if(!i)return ee();const o=i.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some($x))){const{scroll:u}=this.root;u&&(ot(o.x,u.offset.x),ot(o.y,u.offset.y))}return o}removeElementScroll(i){var c;const o=ee();if(be(o,i),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:x}=u;u!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&be(o,i),ot(o.x,m.offset.x),ot(o.y,m.offset.y))}return o}applyTransform(i,o=!1){const c=ee();be(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&lt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),We(u.latestValues)&&lt(c,u.latestValues)}return We(this.latestValues)&&lt(c,this.latestValues),c}removeTransform(i){const o=ee();be(o,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!We(d.latestValues))continue;sr(d.latestValues)&&d.updateSnapshot();const u=ee(),m=d.measurePageBox();be(u,m),pn(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return We(this.latestValues)&&pn(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var x;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=le.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ee(),this.relativeTargetOrigin=ee(),zt(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),be(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ee(),this.targetWithTransforms=ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ou(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):be(this.target,this.layout.layoutBox),uo(this.target,this.targetDelta)):be(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ee(),this.relativeTargetOrigin=ee(),zt(this.relativeTargetOrigin,this.target,g.target),be(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sr(this.parent.latestValues)||mo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===le.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;be(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;Uu(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=ee());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(un(this.prevProjectionDelta.x,this.projectionDelta.x),un(this.prevProjectionDelta.y,this.projectionDelta.y)),Dt(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!yn(this.projectionDelta.x,this.prevProjectionDelta.x)||!yn(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=it(),this.projectionDelta=it(),this.projectionDeltaWithTransform=it()}setAnimationOrigin(i,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=it();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=ee(),g=c?c.source:void 0,j=this.layout?this.layout.source:void 0,y=g!==j,T=this.getStack(),p=!T||T.members.length<=1,w=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(Vx));this.animationProgress=0;let f;this.mixTargetDelta=N=>{const b=N/1e3;wn(m.x,i.x,b),wn(m.y,i.y,b),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zt(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lx(this.relativeTarget,this.relativeTargetOrigin,x,b),f&&jx(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=ee()),be(f,this.relativeTarget)),y&&(this.animationValues=u,xx(u,d,this.latestValues,b,w,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(Fe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{ts.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xt(0)),this.currentAnimation=ox(this.motionValue,[0,1e3],{...i,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wx),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=i;if(!(!o||!c||!d)){if(this!==i&&this.layout&&d&&ko(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ee();const m=xe(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const x=xe(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+x}be(o,c),lt(o,u),Dt(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new yx),this.sharedNodes.get(i).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&Ms("z",i,d,this.animationValues);for(let u=0;u<Rs.length;u++)Ms(`rotate${Rs[u]}`,i,d,this.animationValues),Ms(`skew${Rs[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Nx;const o={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=es(i==null?void 0:i.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none",o;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=es(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!We(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),o.transform=vx(this.projectionDeltaWithTransform,this.treeScale,u),c&&(o.transform=c(u,o.transform));const{x:m,y:x}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Ft){if(u[g]===void 0)continue;const{correct:j,applyTo:y,isCSSVariable:T}=Ft[g],p=o.transform==="none"?u[g]:j(u[g],d);if(y){const w=y.length;for(let f=0;f<w;f++)o[y[f]]=p}else T?this.options.visualElement.renderState.vars[g]=p:o[g]=p}return this.options.layoutId&&(o.pointerEvents=d===this?es(i==null?void 0:i.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(vn),this.root.sharedNodes.clear()}}}function Tx(t){t.updateLayout()}function Sx(t){var r;const s=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=t.layout,{animationType:l}=t.options,i=s.source!==t.layout.source;l==="size"?je(m=>{const x=i?s.measuredBox[m]:s.layoutBox[m],g=xe(x);x.min=a[m].min,x.max=x.min+g}):ko(l,s.layoutBox,a)&&je(m=>{const x=i?s.measuredBox[m]:s.layoutBox[m],g=xe(a[m]);x.max=x.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const o=it();Dt(o,a,s.layoutBox);const c=it();i?Dt(c,t.applyTransform(n,!0),s.measuredBox):Dt(c,a,s.layoutBox);const d=!yo(o);let u=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:g}=m;if(x&&g){const j=ee();zt(j,s.layoutBox,x.layoutBox);const y=ee();zt(y,a,g.layoutBox),vo(j,y)||(u=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=j,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function Cx(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ax(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dx(t){t.clearSnapshot()}function vn(t){t.clearMeasurements()}function zx(t){t.isLayoutDirty=!1}function Px(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nn(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ex(t){t.resolveTargetDelta()}function Rx(t){t.calcProjection()}function Mx(t){t.resetSkewAndRotation()}function Ix(t){t.removeLeadSnapshot()}function wn(t,s,r){t.translate=G(s.translate,0,r),t.scale=G(s.scale,1,r),t.origin=s.origin,t.originPoint=s.originPoint}function kn(t,s,r,a){t.min=G(s.min,r.min,a),t.max=G(s.max,r.max,a)}function Lx(t,s,r,a){kn(t.x,s.x,r.x,a),kn(t.y,s.y,r.y,a)}function Vx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fx={duration:.45,ease:[.4,0,.1,1]},Tn=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Sn=Tn("applewebkit/")&&!Tn("chrome/")?Math.round:ye;function Cn(t){t.min=Sn(t.min),t.max=Sn(t.max)}function Bx(t){Cn(t.x),Cn(t.y)}function ko(t,s,r){return t==="position"||t==="preserve-aspect"&&!$u(jn(s),jn(r),.2)}function $x(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const Ox=wo({attachResizeListener:(t,s)=>$t(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Is={current:void 0},To=wo({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Is.current){const t=new Ox({});t.mount(window),t.setOptions({layoutScroll:!0}),Is.current=t}return Is.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ux={pan:{Feature:rx},drag:{Feature:sx,ProjectionNode:To,MeasureLayout:go}};function An(t,s,r){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,l=a[n];l&&Y.postRender(()=>l(s,Ht(s)))}class _x extends Ue{mount(){const{current:s}=this.node;s&&(this.unmount=Nm(s,(r,a)=>(An(this.node,a,"Start"),n=>An(this.node,n,"End"))))}unmount(){}}class Zx extends Ue{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qt($t(this.node.current,"focus",()=>this.onFocus()),$t(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dn(t,s,r){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),l=a[n];l&&Y.postRender(()=>l(s,Ht(s)))}class qx extends Ue{mount(){const{current:s}=this.node;s&&(this.unmount=Sm(s,(r,a)=>(Dn(this.node,a,"Start"),(n,{success:l})=>Dn(this.node,n,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nr=new WeakMap,Ls=new WeakMap,Kx=t=>{const s=nr.get(t.target);s&&s(t)},Wx=t=>{t.forEach(Kx)};function Hx({root:t,...s}){const r=t||document;Ls.has(r)||Ls.set(r,{});const a=Ls.get(r),n=JSON.stringify(s);return a[n]||(a[n]=new IntersectionObserver(Wx,{root:t,...s})),a[n]}function Gx(t,s,r){const a=Hx(s);return nr.set(t,r),a.observe(t),()=>{nr.delete(t),a.unobserve(t)}}const Yx={some:0,all:1};class Xx extends Ue{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:r,margin:a,amount:n="some",once:l}=s,i={root:r?r.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:Yx[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),x=d?u:m;x&&x(c)};return Gx(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:r}=this.node;["amount","margin","root"].some(Jx(s,r))&&this.startObserver()}unmount(){}}function Jx({viewport:t={}},{viewport:s={}}={}){return r=>t[r]!==s[r]}const Qx={inView:{Feature:Xx},tap:{Feature:qx},focus:{Feature:Zx},hover:{Feature:_x}},eh={layout:{ProjectionNode:To,MeasureLayout:go}},ir={current:null},So={current:!1};function th(){if(So.current=!0,!!gr)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>ir.current=t.matches;t.addListener(s),s()}else ir.current=!1}const sh=new WeakMap;function rh(t,s,r){for(const a in s){const n=s[a],l=r[a];if(me(n))t.addValue(a,n);else if(me(l))t.addValue(a,xt(n,{owner:t}));else if(l!==n)if(t.hasValue(a)){const i=t.getValue(a);i.liveStyle===!0?i.jump(n):i.hasAnimated||i.set(n)}else{const i=t.getStaticValue(a);t.addValue(a,xt(i!==void 0?i:n,{owner:t}))}}for(const a in r)s[a]===void 0&&t.removeValue(a);return s}const zn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ah{scrapeMotionValuesFromProps(s,r,a){return{}}constructor({parent:s,props:r,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:l,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=pe.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Y.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=s,this.props=r,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!l,this.isControllingVariants=js(r),this.isVariantNode=qi(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in m){const g=m[x];c[x]!==void 0&&me(g)&&g.set(c[x],!1)}}mount(s){this.current=s,sh.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),So.current||th(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ir.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fe(this.notifyUpdate),Fe(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(s,r){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=bt.has(s);a&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",o=>{this.latestValues[s]=o,this.props.onUpdate&&Y.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,s,r)),this.valueSubscriptions.set(s,()=>{n(),l(),i&&i(),r.owner&&r.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in ht){const r=ht[s];if(!r)continue;const{isEnabled:a,Feature:n}=r;if(!this.features[s]&&n&&a(this.props)&&(this.features[s]=new n(this)),this.features[s]){const l=this.features[s];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ee()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,r){this.latestValues[s]=r}update(s,r){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<zn.length;a++){const n=zn[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const l="on"+n,i=s[l];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=rh(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(s),()=>r.variantChildren.delete(s)}addValue(s,r){const a=this.values.get(s);r!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,r),this.values.set(s,r),this.latestValues[s]=r.get())}removeValue(s){this.values.delete(s);const r=this.valueSubscriptions.get(s);r&&(r(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,r){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&r!==void 0&&(a=xt(r===null?void 0:r,{owner:this}),this.addValue(s,a)),a}readValue(s,r){let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(si(a)||ri(a))?a=parseFloat(a):!Am(a)&&Be.test(r)&&(a=Fi(s,r)),this.setBaseTarget(s,me(a)?a.get():a)),me(a)?a.get():a}setBaseTarget(s,r){this.baseTarget[s]=r}getBaseTarget(s){var l;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const i=qr(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);i&&(a=i[s])}if(r&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,s);return n!==void 0&&!me(n)?n:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,r){return this.events[s]||(this.events[s]=new Nr),this.events[s].add(r)}notify(s,...r){this.events[s]&&this.events[s].notify(...r)}}class Co extends ah{constructor(){super(...arguments),this.KeyframeResolver=gm}sortInstanceNodePosition(s,r){return s.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(s,r){return s.style?s.style[r]:void 0}removeValueFromRenderState(s,{vars:r,style:a}){delete r[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;me(s)&&(this.childSubscription=s.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Ao(t,{style:s,vars:r},a,n){Object.assign(t.style,s,n&&n.getProjectionStyles(a));for(const l in r)t.style.setProperty(l,r[l])}function nh(t){return window.getComputedStyle(t)}class ih extends Co{constructor(){super(...arguments),this.type="html",this.renderInstance=Ao}readValueFromInstance(s,r){if(bt.has(r))return Lc(s,r);{const a=nh(s),n=(Tr(r)?a.getPropertyValue(r):a[r])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(s,{transformPagePoint:r}){return xo(s,r)}build(s,r,a){Ur(s,r,a.transformTemplate)}scrapeMotionValuesFromProps(s,r,a){return Kr(s,r,a)}}const Do=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oh(t,s,r,a){Ao(t,s,void 0,a);for(const n in s.attrs)t.setAttribute(Do.has(n)?n:Or(n),s.attrs[n])}class lh extends Co{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ee}getBaseTargetFromProps(s,r){return s[r]}readValueFromInstance(s,r){if(bt.has(r)){const a=Vi(r);return a&&a.default||0}return r=Do.has(r)?r:Or(r),s.getAttribute(r)}scrapeMotionValuesFromProps(s,r,a){return to(s,r,a)}build(s,r,a){Xi(s,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(s,r,a,n){oh(s,r,a,n)}mount(s){this.isSVGTag=Qi(s.tagName),super.mount(s)}}const dh=(t,s)=>Zr(t)?new lh(s):new ih(s,{allowProjection:t!==h.Fragment}),ch=lu({...Eu,...Qx,...Ux,...eh},dh),mh=Rm(ch);function uh(t){t.values.forEach(s=>s.stop())}function or(t,s){[...s].reverse().forEach(a=>{const n=t.getVariant(a);n&&Wr(t,n),t.variantChildren&&t.variantChildren.forEach(l=>{or(l,s)})})}function xh(t,s){if(Array.isArray(s))return or(t,s);if(typeof s=="string")return or(t,[s]);Wr(t,s)}function hh(){const t=new Set,s={subscribe(r){return t.add(r),()=>void t.delete(r)},start(r,a){const n=[];return t.forEach(l=>{n.push(ao(l,r,{transitionOverride:a}))}),Promise.all(n)},set(r){return t.forEach(a=>{xh(a,r)})},stop(){t.forEach(r=>{uh(r)})},mount(){return()=>{s.stop()}}};return s}function ph(){const t=Qn(hh);return ei(t.mount,[]),t}const fh=ph,Ce=({children:t,className:s,delay:r=0,once:a=!0,id:n})=>{const l=fh(),[i,o]=Rn({triggerOnce:a,threshold:.1});h.useEffect(()=>{o?l.start("visible"):a||l.start("hidden")},[l,o,a]);const c={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",delay:r}}};return e.jsx(mh.section,{ref:i,animate:l,initial:"hidden",variants:c,className:s,id:n,children:t})},gh=()=>{const t=[{name:"模板驱动生成",description:"通过预设模板快速生成各类文档，如合同、报告、邀请函等，规范统一，省时省力。",icon:e.jsx(cl,{size:32,className:"text-red-500"})},{name:"集中文档管理",description:"所有文档一处管理，支持分类、搜索、版本控制，查找方便快捷，信息安全有保障。",icon:e.jsx(ml,{size:32,className:"text-sky-500"})},{name:"简洁易用界面",description:"专为提升用户体验设计的现代化界面，操作直观，无需复杂培训即可上手。",icon:e.jsx(Q,{size:32,className:"text-emerald-500"})},{name:"协作与分享（规划中）",description:"轻松与团队成员共享文档，协同编辑，提升团队工作效率。",icon:e.jsx(_t,{size:32,className:"text-amber-500"})},{name:"版本历史（规划中）",description:"文档修改历史全记录，随时回溯到任一版本，修改不再怕出错。",icon:e.jsx(ul,{size:32,className:"text-violet-500"})},{name:"权限管理（规划中）",description:"精细控制文档的访问与编辑权限，保障信息安全与团队协作效率。",icon:e.jsx(Tt,{size:32,className:"text-rose-500"})}],s=[{title:"1. 上传/选择模板",description:"从您的设备上传Word模板，或从系统中选择已有模板。",icon:e.jsx(xl,{size:32,className:"text-primary-600"})},{title:"2. 填写数据",description:"根据模板中的占位符，在线填写或导入相关数据。",icon:e.jsx(Un,{size:32,className:"text-primary-600"})},{title:"3. 一键生成文档",description:"系统将数据填充至模板，快速生成所需格式的文档。",icon:e.jsx(hr,{size:32,className:"text-primary-600"})},{title:"4. 管理与分享",description:"生成的文档可在线预览、下载、归档，或分享给他人。",icon:e.jsx($,{size:32,className:"text-primary-600"})}],r=[{title:"人力资源",description:"快速生成员工合同、录用通知、保密协议等，规范人事流程。",icon:e.jsx(de,{size:28,className:"text-indigo-500"})},{title:"销售与市场",description:"制作标准化的报价单、合作协议、营销材料，提升专业形象。",icon:e.jsx(H,{size:28,className:"text-green-500"})},{title:"法务合规",description:"管理各类法律文书、授权委托书，确保版本一致性和合规性。",icon:e.jsx($,{size:28,className:"text-red-500"})},{title:"教育培训",description:"生成结业证书、培训通知、教学大纲，简化行政工作。",icon:e.jsx(Ne,{size:28,className:"text-yellow-500"})}],a=[{title:"极致易用",description:"专为效率设计，无需培训，快速上手，让技术服务于人，而非相反。",icon:e.jsx(hl,{size:32,className:"text-primary-600"})},{title:"强大模板引擎",description:"支持复杂逻辑与动态内容，满足各种专业文档需求（持续增强中）。",icon:e.jsx(pl,{size:32,className:"text-primary-600"})},{title:"安全可靠",description:"银行级数据加密，多重备份机制，确保您的文档安全无忧。",icon:e.jsx(Tt,{size:32,className:"text-primary-600"})},{title:"持续进化",description:"我们倾听用户声音，产品功能持续迭代更新，力求完美。",icon:e.jsx(he,{size:32,className:"text-primary-600"})}],n=[{title:"数据加密",description:"传输过程与静态存储均采用行业标准SSL/TLS和AES-256加密技术。"},{title:"权限控制（规划中）",description:"精细化的用户角色与权限设置，确保文档仅被授权人员访问和操作。"},{title:"定期备份",description:"每日自动化数据备份机制，保障您的数据在极端情况下的可恢复性。"},{title:"稳定服务",description:"高可用的云服务架构，SLA保障，确保业务连续性与系统稳定性。"}],l=[{quote:"文管家大大提升了我们团队的文档处理效率，特别是合同生成方面，节省了大量时间！",name:"李经理",company:"某科技公司HR",avatar:"https://i.pravatar.cc/100?u=userA1"},{quote:"界面非常清爽，操作简单易懂，即使是技术新手也能很快上手。推荐！",name:"张工",company:"创业者",avatar:"https://i.pravatar.cc/100?u=personB2"},{quote:"自从用了文管家，我们准备项目提案和报告的效率至少提升了50%。模板功能特别强大，能快速定制出符合客户要求的专业文档，界面也很友好，团队上手很快。",name:"王顾问",company:"某市场咨询公司项目经理",avatar:"https://i.pravatar.cc/100?u=profileC3"},{quote:"作为初创团队，我们需要快速、规范地处理大量招生简章和课程协议。文管家帮助我们解决了大问题，生成的文档非常专业，而且在线管理很方便，节省了我们宝贵的时间。",name:"赵校长",company:"初创教育机构创始人",avatar:"https://i.pravatar.cc/100?u=avatarD4"},{quote:"我经常需要给客户提供设计合同和服务说明。文管家的模板库帮我省了不少事，而且文档版本管理功能让我不再担心混乱。对于个人工作者来说，性价比很高！",name:"陈设计师",company:"自由职业设计师",avatar:"https://i.pravatar.cc/100?u=imageE5"}],i=[...l,...l],o=[{question:"文管家支持哪些模板格式？",answer:"目前主要支持 .docx (Microsoft Word) 格式的模板上传。我们正在努力支持更多格式。"},{question:"生成文档的数据安全吗？",answer:"我们高度重视用户数据安全。所有数据传输均加密，并采取严格的权限控制和安全措施保护您的信息。"},{question:"我的文档和数据隐私如何得到保障？",answer:"我们严格遵守数据保护法规，未经您的许可，绝不会访问或泄露您的个人数据和文档内容。详情请参阅我们的隐私政策。"},{question:"我可以免费试用吗？",answer:"是的，您可以注册后体验核心功能。我们提供灵活的付费方案以满足不同需求。"}],c=[{text:"秒级生成专业文档",icon:e.jsx(H,{size:20,className:"text-yellow-400 drop-shadow-sm"})},{text:"告别重复手动输入",icon:e.jsx(H,{size:20,className:"text-yellow-400 drop-shadow-sm"})},{text:"安全存储与轻松分享",icon:e.jsx(H,{size:20,className:"text-yellow-400 drop-shadow-sm"})}];return e.jsxs(Pd,{children:[e.jsx("style",{children:`
          @keyframes marquee {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-50%); } 
          }
          .animate-marquee {
            animation: marquee ${l.length*10}s linear infinite;
          }
          .testimonial-card-container:hover .animate-marquee {
            animation-play-state: paused;
          }
          @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(40px); }
            100% { opacity: 1; transform: translateY(0); }
          }
          .animate-fadeInUp {
            animation: fadeInUp 0.8s cubic-bezier(.4,0,.2,1) both;
          }
          @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
          }
          .shimmer {
            background: linear-gradient(90deg, #FFD600 25%, #FFF 50%, #FFD600 75%);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 1.2s infinite linear;
          }
          @keyframes heroGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
          }
          .hero-animated-bg {
            background-size: 200% 200%;
            animation: heroGradient 10s ease-in-out infinite;
          }
          @keyframes breath {
            0%, 100% { box-shadow: 0 0 32px 0 rgba(53,93,255,0.18); transform: scale(1); }
            50% { box-shadow: 0 0 48px 8px rgba(53,93,255,0.28); transform: scale(1.045); }
          }
          .animate-breath {
            animation: breath 2.4s ease-in-out infinite;
          }
          .hero-glow-bar {
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 60vw;
            height: 48px;
            background: radial-gradient(ellipse at center, rgba(80,150,255,0.18) 0%, rgba(80,150,255,0.08) 60%, transparent 100%);
            filter: blur(8px);
            opacity: 0;
            animation: fadeInUp 1.2s 1.2s both;
            pointer-events: none;
            z-index: 2;
          }
          .hero-particles {
            position: absolute;
            left: 0; right: 0; top: 0; bottom: 0;
            pointer-events: none;
            z-index: 1;
          }
          .hero-particle {
            position: absolute;
            border-radius: 9999px;
            background: radial-gradient(circle, #fff 0%, #a3c9ff 80%, transparent 100%);
            opacity: 0.7;
            animation: particleFloat 7s linear infinite;
          }
          @keyframes particleFloat {
            0% { transform: translateY(0) scale(1); opacity: 0.7; }
            50% { opacity: 1; }
            100% { transform: translateY(-60px) scale(1.2); opacity: 0.2; }
          }
          .btn-glow:hover, .btn-glow:focus {
            box-shadow: 0 0 0 4px #355DFF33, 0 0 24px 0 #355DFF99;
          }
        `}),e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary-600 to-primary-700 dark:bg-gradient-to-b dark:from-[#101729] dark:to-[#232946] hero-animated-bg text-white pt-28 pb-24 md:pt-40 md:pb-32",children:[e.jsxs("div",{className:"hero-particles",children:[e.jsx("div",{className:"hero-particle",style:{left:"12%",top:"38%",width:10,height:10,animationDelay:"0s"}}),e.jsx("div",{className:"hero-particle",style:{left:"28%",top:"60%",width:7,height:7,animationDelay:"1.2s"}}),e.jsx("div",{className:"hero-particle",style:{left:"55%",top:"30%",width:8,height:8,animationDelay:"2.1s"}}),e.jsx("div",{className:"hero-particle",style:{left:"70%",top:"55%",width:12,height:12,animationDelay:"0.7s"}}),e.jsx("div",{className:"hero-particle",style:{left:"80%",top:"40%",width:6,height:6,animationDelay:"2.7s"}})]}),e.jsx("div",{className:"hero-glow-bar"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsx("div",{className:"flex flex-col items-center text-center",children:e.jsxs("div",{className:"max-w-5xl",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight mb-6 drop-shadow-lg animate-fadeInUp",style:{animationDelay:"0.1s"},children:[e.jsx("span",{className:"text-white dark:text-white",children:"文管家:"})," ",e.jsx("span",{className:"block sm:inline text-yellow-400 dark:text-yellow-300 shimmer",children:"您的智能文档助手"})]}),e.jsx("p",{className:"mt-3 text-lg sm:text-xl text-gray-200 dark:text-gray-300 leading-relaxed mb-12 animate-fadeInUp",style:{animationDelay:"0.3s"},children:"快速、智能地创建、管理和生成各类专业文档，大幅提升您的工作效率与规范性，让繁琐的文档处理变得轻松简单。"}),e.jsx("ul",{className:"mb-12 grid grid-cols-1 md:grid-cols-3 gap-x-8 gap-y-4 max-w-4xl mx-auto animate-fadeInUp",style:{animationDelay:"0.5s"},children:c.map((d,u)=>e.jsxs("li",{className:"flex items-center",children:[fe.cloneElement(d.icon,{className:`${d.icon.props.className} mr-3 flex-shrink-0 dark:text-yellow-300`}),e.jsx("span",{className:"text-base sm:text-lg text-gray-50 dark:text-gray-200",children:d.text})]},u))}),e.jsxs(V,{to:"/login",className:"inline-flex items-center justify-center px-10 py-3.5 border border-primary-400 dark:border-[#355DFF] text-base lg:text-lg font-semibold rounded-md text-white bg-primary-600 hover:bg-primary-700 dark:bg-[#355DFF] dark:hover:bg-[#2446b6] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary-700 dark:focus:ring-offset-[#101729] focus:ring-primary-400 transition-all duration-300 ease-in-out transform hover:scale-105 shadow-lg hover:shadow-primary-500/50 dark:hover:shadow-[#355DFF]/30 animate-fadeInUp animate-breath btn-glow",style:{animationDelay:"0.7s"},children:["立即体验",e.jsx(Le,{size:20,className:"ml-2.5"})]})]})})})]}),e.jsx(Ce,{className:"py-16 md:py-24 bg-gray-100 dark:bg-gray-900",id:"features",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"核心功能"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"探索文管家如何简化您的文档处理流程。"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:t.map(d=>{const u=d.icon.props.className.match(/text-(.*?)-500/),m=u?u[1]:"gray";return e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:shadow-primary-500/50 transition-all duration-300 flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-opacity-10 mb-5 ring-2 ring-gray-200 dark:ring-gray-700",style:{backgroundColor:`${m}1A`},children:fe.cloneElement(d.icon,{className:`${d.icon.props.className} dark:opacity-90`})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:d.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed flex-grow",children:d.description})]},d.name)})})]})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-white dark:bg-gray-900",id:"how-it-works",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"运作流程"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"简单四步，轻松搞定文档自动化。"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-10",children:s.map(d=>e.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl hover:shadow-primary-500/50 transition-shadow duration-300",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 mb-5 border-4 border-white dark:border-gray-700 ring-4 ring-primary-200 dark:ring-primary-800",children:d.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:d.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:d.description})]},d.title))})]})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-gray-50 dark:bg-gray-900",id:"use-cases",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"为专业人士打造"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"无论您身处哪个行业，文管家都能助您一臂之力。"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map(d=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg hover:shadow-xl hover:shadow-primary-500/50 transition-shadow duration-300 flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-opacity-10 mb-5",style:{backgroundColor:`${d.icon.props.className.match(/text-(.*?)-500/)[1]}1A`},children:fe.cloneElement(d.icon,{size:32})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:d.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:d.description})]},d.title))})]})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-white dark:bg-gray-900",id:"why-choose-us",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"为何选择文管家？"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"我们致力于提供最佳的文档自动化体验。"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-10",children:a.map(d=>e.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl hover:shadow-primary-500/50 transition-shadow duration-300",children:[e.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 mb-5 border-4 border-white dark:border-gray-700 ring-4 ring-primary-200 dark:ring-primary-800",children:d.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:d.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:d.description})]},d.title))})]})}),e.jsx(Ce,{children:e.jsx(Rd,{})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-primary-700 dark:bg-gray-900 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white dark:text-white",children:"安全与保障"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-primary-100 dark:text-gray-300",children:"您的数据安全是我们的首要任务。"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-10 max-w-4xl mx-auto",children:n.map(d=>e.jsxs("div",{className:"flex items-start bg-primary-800/50 dark:bg-gray-800/50 p-6 rounded-xl backdrop-blur-sm",children:[e.jsx(Tt,{size:28,className:"flex-shrink-0 h-8 w-8 text-primary-300 dark:text-primary-400 mr-4 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-1 text-white dark:text-white",children:d.title}),e.jsx("p",{className:"text-primary-100 dark:text-gray-300 leading-relaxed text-sm",children:d.description})]})]},d.title))})]})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"用户之声"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"听听我们的用户怎么说。"})]}),e.jsx("div",{className:"testimonial-card-container w-full overflow-hidden relative group",children:e.jsx("div",{className:"flex animate-marquee",children:i.map((d,u)=>e.jsx("div",{className:"w-80 md:w-96 flex-shrink-0 p-3",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-xl hover:shadow-primary-500/50 transition-shadow duration-300 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("img",{src:d.avatar,alt:d.name,className:"w-12 h-12 rounded-full mr-4 border-2 border-primary-300 dark:border-primary-600 ring-1 ring-primary-200 dark:ring-primary-700"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-md text-gray-900 dark:text-white",children:d.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.company})]})]}),e.jsxs("blockquote",{className:"italic text-sm text-gray-600 dark:text-gray-300 leading-relaxed relative pl-6 flex-grow text-left",children:[e.jsx("span",{className:"absolute top-0 left-0 text-4xl text-primary-100 dark:text-primary-700 font-serif",children:'"'}),d.quote,e.jsx("span",{className:"absolute -bottom-2 right-2 text-4xl text-primary-100 dark:text-primary-700 font-serif",children:'"'})]})]})},`${d.name}-${u}`))})})]})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-gray-100 dark:bg-gray-900",id:"faq",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"常见问题解答"}),e.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-500 dark:text-gray-400",children:"有疑问？我们为您解答。"})]}),e.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:o.map((d,u)=>e.jsxs("details",{className:"p-6 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-sm group hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 cursor-pointer open:ring-2 open:ring-primary-200 dark:open:ring-primary-700 open:shadow-md",children:[e.jsxs("summary",{className:"flex items-center justify-between text-lg font-medium text-gray-800 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 list-none",children:[e.jsx("span",{children:d.question}),e.jsx(dl,{size:20,className:"text-gray-400 dark:text-gray-500 group-hover:text-primary-500 dark:group-hover:text-primary-400 transition-transform duration-300 group-open:rotate-180 ml-2"})]}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300 leading-relaxed text-sm",children:d.answer})]},u))})]})}),e.jsx(Ce,{className:"py-16 md:py-24 bg-white dark:bg-[#101729]",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white mb-6",children:"准备好提升您的文档效率了吗？"}),e.jsx("p",{className:"max-w-xl mx-auto text-lg text-gray-600 dark:text-gray-400 mb-10",children:"立即加入文管家，体验前所未有的便捷文档管理与生成。"}),e.jsxs(V,{to:"/login",className:"inline-flex items-center justify-center px-10 py-4 border border-transparent text-lg font-semibold rounded-md shadow-lg text-white bg-primary-600 hover:bg-primary-700 dark:bg-[#355DFF] dark:hover:bg-[#2446b6] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-[#101729] transition-transform transform hover:scale-105",children:["免费开始使用",e.jsx(Le,{size:22,className:"ml-2.5"})]})]})})]})},zo="explore_world_data",Pn={score:0,collectedStars:[],achievements:[],totalPlayTime:0,lastVisitTime:Date.now(),visitCount:0,collectedItems:[],unlockedAreas:["starfield"],dataStreamItems:[],mysteryItems:[],rareStarsCollected:[],maxCombo:0,dailyTasks:[],lastDailyReset:0,collectionBook:{},powerUps:[],playerLevel:1,experience:0,skillPoints:0,unlockedSkills:[],ownedItems:[],totalScore:0,perfectHits:0,totalMisses:0},Je=()=>{try{const t=localStorage.getItem(zo);if(t){const s=JSON.parse(t);return{...Pn,...s}}}catch(t){console.error("Failed to load explore world data:",t)}return{...Pn}},pt=t=>{try{localStorage.setItem(zo,JSON.stringify(t))}catch(s){console.error("Failed to save explore world data:",s)}},bh=t=>{const s=Je();s.score=t,s.lastVisitTime=Date.now(),pt(s)},jh=t=>{const s=Je();s.collectedStars.includes(t)||(s.collectedStars.push(t),s.lastVisitTime=Date.now(),pt(s))},yh=t=>{const s=Je();s.achievements.includes(t)||(s.achievements.push(t),s.lastVisitTime=Date.now(),pt(s))},vh=()=>{const t=Je();t.visitCount+=1,t.lastVisitTime=Date.now(),pt(t)},Nh=()=>{const t=re(),r=$e().pathname==="/explore-world",[a,n]=h.useState([]),[l,i]=h.useState([]),[o,c]=h.useState(0),[d,u]=h.useState([]),[m,x]=h.useState(!1),[g,j]=h.useState(""),[y,T]=h.useState(null),[p,w]=h.useState(!1),[f,N]=h.useState(0);h.useEffect(()=>{if(r){const D=Je();T(D),c(D.score),i(D.collectedStars),u(D.achievements),vh(),(()=>{const L=Array.from({length:80},(k,M)=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+.5,delay:Math.random()*4,duration:2+Math.random()*3,id:M,collected:D.collectedStars.includes(M)}));n(L)})()}else(()=>{const C=Array.from({length:80},(L,k)=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+.5,delay:Math.random()*4,duration:2+Math.random()*3,id:k}));n(C)})()},[r]),h.useEffect(()=>{if(r){const D=setInterval(()=>{N(C=>{const L=C+1;if(L%10===0&&y){const k=Je();k.totalPlayTime+=10,pt(k)}return L})},1e3);return()=>{if(clearInterval(D),y&&f>0){const C=Je();C.totalPlayTime+=f,pt(C)}}}},[r,y,f]);const b=D=>{const C=[];D>=5&&!d.includes("star-collector")&&(C.push("star-collector"),j("⭐ 星星收集者 - 收集了5颗星星！"),x(!0)),D>=20&&!d.includes("star-master")&&(C.push("star-master"),j("🌟 星星大师 - 收集了20颗星星！"),x(!0)),D>=50&&!d.includes("star-legend")&&(C.push("star-legend"),j("✨ 星星传奇 - 收集了50颗星星！"),x(!0)),C.length>0&&(u(L=>[...L,...C]),C.forEach(L=>yh(L)),setTimeout(()=>x(!1),3e3))},v=D=>{l.includes(D)||(i(C=>[...C,D]),jh(D),c(C=>{const L=C+1;return bh(L),b(L),L}),n(C=>C.map(L=>L.id===D?{...L,collected:!0}:L)),I.success("⭐ +1",{duration:500}))};return e.jsxs("div",{className:"fixed inset-0 w-screen h-screen flex items-center justify-center bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 px-4 relative overflow-y-auto z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-purple-950/20 to-slate-950 animate-gradient-shift"}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-float-slow"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-float-slow-delay"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:a.map(D=>e.jsx("div",{onClick:()=>r&&v(D.id),className:`absolute rounded-full transition-all ${D.collected?"bg-yellow-400 opacity-0 scale-0":r?"bg-white cursor-pointer hover:scale-150 hover:opacity-100":"bg-white"}`,style:{left:`${D.x}%`,top:`${D.y}%`,width:`${D.size}px`,height:`${D.size}px`,opacity:D.collected?0:.6,animation:D.collected?"none":`twinkle ${D.duration}s ease-in-out infinite`,animationDelay:`${D.delay}s`,pointerEvents:r&&!D.collected?"auto":"none"},title:r&&!D.collected?"点击收集":void 0},D.id))}),m&&e.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 animate-fade-in-up",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border border-yellow-500/50 rounded-xl px-6 py-4 shadow-2xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ge,{size:24,className:"text-yellow-400"}),e.jsx("span",{className:"text-white font-semibold",children:g})]})})}),e.jsxs("div",{className:"relative z-10 max-w-4xl w-full text-center py-12",children:[!r&&e.jsx("div",{className:"mb-12 animate-float-gentle",children:e.jsx("h1",{className:"text-9xl md:text-[12rem] font-light text-white/10 mb-4 tracking-wider",children:"404"})}),e.jsxs("div",{className:"mb-12 space-y-4 animate-fade-in-up",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-light text-white/90 mb-4",children:r?"探索世界":"你来到了未知的领域"}),e.jsx("p",{className:"text-base md:text-lg text-white/60 max-w-md mx-auto leading-relaxed",children:r?e.jsxs(e.Fragment,{children:["这里是一片浩瀚的宇宙",e.jsx("br",{}),"点击星星收集它们，探索隐藏的秘密"]}):e.jsxs(e.Fragment,{children:["这里是一片浩瀚的虚空",e.jsx("br",{}),"没有你寻找的内容"]})}),r&&e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/15 transition-colors cursor-pointer",onClick:()=>w(!0),children:[e.jsx(te,{size:18,className:"text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-white font-medium",children:o})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/15 transition-colors cursor-pointer",onClick:()=>w(!0),children:[e.jsx($s,{size:18,className:"text-yellow-400"}),e.jsx("span",{className:"text-white font-medium",children:d.length})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/15 transition-colors cursor-pointer",onClick:()=>w(!0),children:[e.jsx(De,{size:18,className:"text-blue-400"}),e.jsx("span",{className:"text-white font-medium text-xs",children:"统计"})]})]})]}),e.jsxs("div",{className:"space-y-6 animate-fade-in-up-delay pb-8",children:[e.jsxs("button",{onClick:()=>t("/"),className:"group relative inline-flex items-center gap-3 px-8 py-4 bg-white/10 backdrop-blur-sm border border-white/20 text-white rounded-lg font-medium hover:bg-white/20 hover:border-white/30 transition-all duration-300 animate-pulse-gentle",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 to-purple-500/20 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity blur-xl animate-glow"}),e.jsx(fl,{size:20,className:"relative z-10 group-hover:rotate-12 transition-transform duration-300"}),e.jsx("span",{className:"relative z-10",children:"回到起点"}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/30 to-purple-500/30 rounded-lg opacity-0 group-hover:opacity-100 blur-md transition-opacity -z-10"})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:()=>t(-1),className:"text-sm text-white/50 hover:text-white/80 transition-colors flex items-center gap-2 mx-auto hover:translate-x-[-2px] duration-300",children:[e.jsx(oe,{size:16,className:"transition-transform group-hover:-translate-x-1"}),e.jsx("span",{children:"回到上一页"})]})})]}),r&&p&&y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-md border border-white/20 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(De,{size:24,className:"text-blue-400"}),"探索统计"]}),e.jsx("button",{onClick:()=>w(!1),className:"text-white/50 hover:text-white transition-colors",children:e.jsx(ze,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(te,{size:18,className:"text-yellow-400"}),e.jsx("span",{className:"text-white/70 text-sm",children:"收集星星"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:o}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:"共80颗"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($s,{size:18,className:"text-yellow-400"}),e.jsx("span",{className:"text-white/70 text-sm",children:"成就数量"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:d.length}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:"已解锁"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ln,{size:18,className:"text-blue-400"}),e.jsx("span",{className:"text-white/70 text-sm",children:"探索时间"})]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.floor((y.totalPlayTime+f)/60),"分"]}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:"累计"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(gl,{size:18,className:"text-purple-400"}),e.jsx("span",{className:"text-white/70 text-sm",children:"访问次数"})]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:y.visitCount}),e.jsx("div",{className:"text-xs text-white/50 mt-1",children:"次访问"})]})]}),d.length>0&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("h4",{className:"text-white/90 font-medium mb-3 flex items-center gap-2",children:[e.jsx(ge,{size:18,className:"text-yellow-400"}),"已解锁成就"]}),e.jsx("div",{className:"space-y-2",children:d.map((D,C)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[e.jsx("span",{className:"text-yellow-400",children:"✓"}),e.jsxs("span",{children:[D==="star-collector"&&"⭐ 星星收集者",D==="star-master"&&"🌟 星星大师",D==="star-legend"&&"✨ 星星传奇"]})]},C))})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white/70 text-sm",children:"收集进度"}),e.jsxs("span",{className:"text-white/70 text-sm",children:[Math.round(o/80*100),"%"]})]}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-400 transition-all duration-300",style:{width:`${o/80*100}%`}})})]})]})]})})]}),e.jsx("style",{children:`
        @keyframes twinkle {
          0%, 100% {
            opacity: 0.2;
            transform: scale(1);
          }
          50% {
            opacity: 1;
            transform: scale(1.3);
          }
        }
        
        @keyframes float-gentle {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-20px);
          }
        }
        
        @keyframes float-slow {
          0%, 100% {
            transform: translate(0, 0) scale(1);
          }
          33% {
            transform: translate(30px, -30px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
        }
        
        @keyframes float-slow-delay {
          0%, 100% {
            transform: translate(0, 0) scale(1);
          }
          33% {
            transform: translate(-30px, 30px) scale(0.9);
          }
          66% {
            transform: translate(20px, -20px) scale(1.1);
          }
        }
        
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes gradient-shift {
          0%, 100% {
            background-position: 0% 50%;
          }
          50% {
            background-position: 100% 50%;
          }
        }
        
        @keyframes pulse-gentle {
          0%, 100% {
            box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.1);
          }
          50% {
            box-shadow: 0 0 0 8px rgba(255, 255, 255, 0);
          }
        }
        
        @keyframes glow {
          0%, 100% {
            opacity: 0.3;
          }
          50% {
            opacity: 0.6;
          }
        }
        
        .animate-float-gentle {
          animation: float-gentle 6s ease-in-out infinite;
        }
        
        .animate-float-slow {
          animation: float-slow 20s ease-in-out infinite;
        }
        
        .animate-float-slow-delay {
          animation: float-slow-delay 25s ease-in-out infinite;
          animation-delay: 2s;
        }
        
        .animate-fade-in-up {
          animation: fade-in-up 1s ease-out;
        }
        
        .animate-fade-in-up-delay {
          animation: fade-in-up 1s ease-out 0.3s both;
        }
        
        .animate-gradient-shift {
          background-size: 200% 200%;
          animation: gradient-shift 15s ease infinite;
        }
        
        .animate-pulse-gentle {
          animation: pulse-gentle 3s ease-in-out infinite;
        }
        
        .animate-glow {
          animation: glow 2s ease-in-out infinite;
        }
      `})]})},wh=fe.lazy(()=>_n(()=>import("./explore-world-B9IR7DPw.js").then(t=>t.E),__vite__mapDeps([0,1,2]))),kh=fe.lazy(()=>_n(()=>import("./explore-world-B9IR7DPw.js").then(t=>t.a),__vite__mapDeps([0,1,2])));function Th(){const t=$e();return["/login","/register","/forgot-password","/reset-password"].some(r=>t.pathname.startsWith(r)),e.jsx(qn,{children:e.jsx(yl,{children:e.jsxs(e.Fragment,{children:[e.jsx(Po,{position:"top-right",toastOptions:{duration:3e3,style:{background:"var(--color-card)",color:"var(--color-card-foreground)",border:"1px solid var(--color-border)"},success:{iconTheme:{primary:"var(--color-primary-600)",secondary:"#fff"}},error:{iconTheme:{primary:"var(--color-destructive)",secondary:"#fff"}}}}),e.jsx(h.Suspense,{fallback:e.jsx(vl,{}),children:e.jsxs(Eo,{location:t,children:[e.jsxs(_,{path:"/",element:e.jsx(Tl,{}),children:[e.jsx(_,{index:!0,element:e.jsx(od,{})}),e.jsx(_,{path:"discover",element:e.jsx(ld,{})}),e.jsx(_,{path:"search",element:e.jsx(dd,{})}),e.jsx(_,{path:"templates",element:e.jsx(pa,{})}),e.jsx(_,{path:"templates/:id",element:e.jsx(cd,{})}),e.jsx(_,{path:"documents",element:e.jsx(pa,{})}),e.jsx(_,{path:"documents/:id",element:e.jsx(md,{})}),e.jsx(_,{path:"cases",element:e.jsx(pd,{})}),e.jsx(_,{path:"cases/:id",element:e.jsx(gd,{})}),e.jsx(_,{path:"ai",element:e.jsx(fd,{})}),e.jsx(_,{path:"ranking",element:e.jsx(hd,{})}),e.jsx(_,{path:"author/:id",element:e.jsx(xd,{})}),e.jsx(_,{path:"publish",element:e.jsx(ha,{})}),e.jsx(_,{path:"profile",element:e.jsx(ud,{})})]}),e.jsx(_,{path:"/explore",element:e.jsx(wh,{})}),e.jsx(_,{path:"/explore-world",element:e.jsx(kh,{})}),e.jsx(_,{path:"/about",element:e.jsx(gh,{})}),e.jsx(_,{path:"/login",element:e.jsx(bd,{})}),e.jsx(_,{path:"/register",element:e.jsx(jd,{})}),e.jsx(_,{path:"/forgot-password",element:e.jsx(yd,{})}),e.jsx(_,{path:"/reset-password/:token",element:e.jsx(fa,{})}),e.jsx(_,{path:"/reset-password",element:e.jsx(fa,{})}),e.jsx(_,{path:"/m/generate",element:e.jsx(ed,{})}),e.jsxs(_,{path:"/app",element:e.jsx(kl,{}),children:[e.jsx(_,{index:!0,element:e.jsx(El,{})})," ",e.jsx(_,{path:"data",element:e.jsx(id,{})}),e.jsx(_,{path:"templates",element:e.jsx(Ql,{})}),e.jsx(_,{path:"generate",element:e.jsx(ma,{})}),e.jsx(_,{path:"generate/:templateId",element:e.jsx(ma,{})}),e.jsx(_,{path:"documents",element:e.jsx(td,{})}),e.jsx(_,{path:"settings",element:e.jsx(sd,{})}),e.jsx(_,{path:"profile",element:e.jsx(vd,{})}),e.jsx(_,{path:"creator",element:e.jsx(Nd,{})}),e.jsx(_,{path:"creator/published",element:e.jsx(wd,{})}),e.jsx(_,{path:"creator/earnings",element:e.jsx(kd,{})}),e.jsx(_,{path:"creator/analytics",element:e.jsx(Td,{})}),e.jsx(_,{path:"creator/interactions",element:e.jsx(Sd,{})}),e.jsx(_,{path:"creator/favorites",element:e.jsx(Cd,{})}),e.jsx(_,{path:"creator/publish",element:e.jsx(ha,{})})]}),e.jsx(_,{path:"*",element:e.jsx(Nh,{})})]},t.pathname)})]})})})}const Sh=[{id:1,name:"员工合同模板",description:"用于生成标准员工劳动合同，包含基本条款和条件。",content:"<h1>员工劳动合同</h1><p>甲方（用人单位）：{{companyName}}</p><p>地址：{{companyAddress}}</p><p>乙方（员工）：{{employeeName}}</p><p>身份证号：{{employeeId}}</p><p>合同开始日期：{{contractStartDate}}</p><p>合同结束日期：{{contractEndDate}}</p><p>职位：{{position}}</p><p>基本工资：{{baseSalary}}元/月</p><p>本合同一式两份，甲乙双方各执一份。</p>",createdAt:"2024-01-15T09:30:00Z",updatedAt:"2024-01-20T11:00:00Z",createdBy:"管理员",placeholders:["companyName","companyAddress","employeeName","employeeId","contractStartDate","contractEndDate","position","baseSalary"]},{id:2,name:"保密协议 (NDA)",description:"标准保密协议模板，用于保护双方信息保密。",content:"<h2>保密协议</h2><p>本协议由 {{partyOneName}}（甲方）与 {{partyTwoName}}（乙方）于 {{agreementDate}} 签订。</p><p>保密信息包括：{{confidentialInfoDescription}}</p><p>保密期限：{{confidentialPeriod}}</p><p>违约责任：{{breachConsequences}}</p>",createdAt:"2024-02-10T14:00:00Z",updatedAt:"2024-02-11T16:45:00Z",createdBy:"管理员",placeholders:["partyOneName","partyTwoName","agreementDate","confidentialInfoDescription","confidentialPeriod","breachConsequences"]},{id:3,name:"录用通知书",description:"用于向候选人发送正式录用通知。",content:"<h3>录用通知书</h3><p>尊敬的 {{candidateName}}：</p><p>我们很高兴地通知您，经过综合评估，我们决定录用您担任 {{jobTitle}} 职位。</p><p>公司名称：{{companyName}}</p><p>入职日期：{{startDate}}</p><p>工作地点：{{workLocation}}</p><p>年薪：{{annualSalary}} 元</p><p>请于 {{replyDeadline}} 前确认是否接受此录用。</p><p>此致</p><p>敬礼</p><p>人力资源部</p>",createdAt:"2024-03-01T10:00:00Z",updatedAt:"2024-03-05T12:15:00Z",createdBy:"HR部门",placeholders:["candidateName","jobTitle","companyName","startDate","workLocation","annualSalary","replyDeadline"]},{id:4,name:"项目合作协议",description:"用于项目外包和合作的标准协议模板。",content:"<h2>项目合作协议</h2><p>项目名称：{{projectName}}</p><p>甲方：{{clientName}}</p><p>乙方：{{serviceProviderName}}</p><p>项目开始日期：{{projectStartDate}}</p><p>项目结束日期：{{projectEndDate}}</p><p>项目预算：{{projectBudget}} 元</p><p>项目描述：{{projectDescription}}</p><p>付款方式：{{paymentTerms}}</p>",createdAt:"2024-03-10T11:00:00Z",updatedAt:"2024-03-12T14:30:00Z",createdBy:"项目经理",placeholders:["projectName","clientName","serviceProviderName","projectStartDate","projectEndDate","projectBudget","projectDescription","paymentTerms"]},{id:5,name:"销售报价单",description:"标准销售报价单模板，用于向客户提供产品报价。",content:"<h2>销售报价单</h2><p>报价单号：{{quoteNumber}}</p><p>客户名称：{{customerName}}</p><p>报价日期：{{quoteDate}}</p><p>产品名称：{{productName}}</p><p>数量：{{quantity}}</p><p>单价：{{unitPrice}} 元</p><p>总价：{{totalPrice}} 元</p><p>有效期：{{validUntil}}</p><p>备注：{{notes}}</p>",createdAt:"2024-03-15T09:00:00Z",updatedAt:"2024-03-16T10:20:00Z",createdBy:"销售部门",placeholders:["quoteNumber","customerName","quoteDate","productName","quantity","unitPrice","totalPrice","validUntil","notes"]},{id:6,name:"服务合同",description:"用于服务类项目的标准合同模板。",content:"<h2>服务合同</h2><p>合同编号：{{contractNumber}}</p><p>甲方（委托方）：{{clientName}}</p><p>乙方（服务方）：{{serviceProviderName}}</p><p>服务内容：{{serviceDescription}}</p><p>服务期限：{{serviceStartDate}} 至 {{serviceEndDate}}</p><p>服务费用：{{serviceFee}} 元</p><p>付款方式：{{paymentMethod}}</p><p>违约责任：{{liabilityTerms}}</p>",createdAt:"2024-03-20T13:00:00Z",updatedAt:"2024-03-21T15:45:00Z",createdBy:"法务部门",placeholders:["contractNumber","clientName","serviceProviderName","serviceDescription","serviceStartDate","serviceEndDate","serviceFee","paymentMethod","liabilityTerms"]},{id:7,name:"授权委托书",description:"用于授权他人代为处理事务的委托书模板。",content:"<h2>授权委托书</h2><p>委托人：{{principalName}}</p><p>身份证号：{{principalId}}</p><p>受托人：{{agentName}}</p><p>身份证号：{{agentId}}</p><p>委托事项：{{authorizedMatters}}</p><p>委托期限：{{authorizationStartDate}} 至 {{authorizationEndDate}}</p><p>委托日期：{{authorizationDate}}</p><p>委托人签字：{{principalSignature}}</p>",createdAt:"2024-03-25T10:30:00Z",updatedAt:"2024-03-26T11:15:00Z",createdBy:"法务部门",placeholders:["principalName","principalId","agentName","agentId","authorizedMatters","authorizationStartDate","authorizationEndDate","authorizationDate","principalSignature"]},{id:8,name:"离职证明",description:"用于为离职员工开具的离职证明模板。",content:"<h2>离职证明</h2><p>兹证明 {{employeeName}}（身份证号：{{employeeId}}）于 {{joinDate}} 入职我公司，担任 {{position}} 职位。</p><p>该员工于 {{leaveDate}} 因 {{leaveReason}} 原因离职，在职期间工作表现 {{performance}}。</p><p>特此证明。</p><p>公司名称：{{companyName}}</p><p>开具日期：{{issueDate}}</p><p>（公司盖章）</p>",createdAt:"2024-04-01T09:00:00Z",updatedAt:"2024-04-02T10:30:00Z",createdBy:"HR部门",placeholders:["employeeName","employeeId","joinDate","position","leaveDate","leaveReason","performance","companyName","issueDate"]},{id:9,name:"采购订单",description:"用于采购商品或服务的标准订单模板。",content:"<h2>采购订单</h2><p>订单编号：{{orderNumber}}</p><p>供应商：{{supplierName}}</p><p>采购日期：{{orderDate}}</p><p>商品名称：{{productName}}</p><p>规格型号：{{specification}}</p><p>数量：{{quantity}}</p><p>单价：{{unitPrice}} 元</p><p>总金额：{{totalAmount}} 元</p><p>交货日期：{{deliveryDate}}</p><p>付款条件：{{paymentTerms}}</p>",createdAt:"2024-04-05T11:00:00Z",updatedAt:"2024-04-06T14:20:00Z",createdBy:"采购部门",placeholders:["orderNumber","supplierName","orderDate","productName","specification","quantity","unitPrice","totalAmount","deliveryDate","paymentTerms"]},{id:10,name:"培训通知",description:"用于通知员工参加培训的通知模板。",content:"<h2>培训通知</h2><p>各位同事：</p><p>为提升员工技能，公司将于 {{trainingDate}} 举办 {{trainingTopic}} 培训。</p><p>培训时间：{{trainingTime}}</p><p>培训地点：{{trainingLocation}}</p><p>培训讲师：{{trainerName}}</p><p>参加人员：{{participants}}</p><p>请准时参加，如有疑问请联系 {{contactPerson}}。</p><p>人力资源部</p><p>{{issueDate}}</p>",createdAt:"2024-04-10T08:30:00Z",updatedAt:"2024-04-11T09:45:00Z",createdBy:"HR部门",placeholders:["trainingDate","trainingTopic","trainingTime","trainingLocation","trainerName","participants","contactPerson","issueDate"]},{id:11,name:"请假申请单",description:"员工请假申请的标准表单模板。",content:"<h2>请假申请单</h2><p>申请人：{{applicantName}}</p><p>部门：{{department}}</p><p>职位：{{position}}</p><p>请假类型：{{leaveType}}</p><p>请假开始日期：{{leaveStartDate}}</p><p>请假结束日期：{{leaveEndDate}}</p><p>请假天数：{{leaveDays}} 天</p><p>请假事由：{{leaveReason}}</p><p>申请日期：{{applicationDate}}</p><p>审批人：{{approverName}}</p>",createdAt:"2024-04-15T10:00:00Z",updatedAt:"2024-04-16T11:30:00Z",createdBy:"HR部门",placeholders:["applicantName","department","position","leaveType","leaveStartDate","leaveEndDate","leaveDays","leaveReason","applicationDate","approverName"]},{id:12,name:"会议纪要",description:"用于记录会议内容和决议的模板。",content:"<h2>会议纪要</h2><p>会议主题：{{meetingTopic}}</p><p>会议时间：{{meetingDate}} {{meetingTime}}</p><p>会议地点：{{meetingLocation}}</p><p>主持人：{{hostName}}</p><p>参会人员：{{attendees}}</p><p>会议内容：</p><p>{{meetingContent}}</p><p>会议决议：</p><p>{{resolutions}}</p><p>记录人：{{recorderName}}</p><p>日期：{{recordDate}}</p>",createdAt:"2024-04-20T14:00:00Z",updatedAt:"2024-04-21T15:20:00Z",createdBy:"行政部门",placeholders:["meetingTopic","meetingDate","meetingTime","meetingLocation","hostName","attendees","meetingContent","resolutions","recorderName","recordDate"]}],Ch=[{id:101,name:"员工合同-张三",templateId:1,generatedAt:"2024-01-25T10:00:00Z",generatedBy:"管理员",status:"Finalized",contentPreview:"甲方：科技有限公司，乙方：张三，职位：软件工程师，基本工资：15000元/月..."},{id:102,name:"保密协议-项目A",templateId:2,generatedAt:"2024-02-15T11:30:00Z",generatedBy:"项目经理",status:"Finalized",contentPreview:"甲方：科技有限公司，乙方：合作伙伴公司，保密期限：2年..."},{id:103,name:"录用通知书-李四",templateId:3,generatedAt:"2024-03-10T09:15:00Z",generatedBy:"HR部门",status:"Finalized",contentPreview:"尊敬的 李四：我们很高兴地通知您，决定录用您担任 产品经理 职位..."},{id:104,name:"项目合作协议-项目B",templateId:4,generatedAt:"2024-03-20T16:00:00Z",generatedBy:"项目经理",status:"Finalized",contentPreview:"项目名称：项目B，甲方：客户公司，乙方：科技有限公司，项目预算：500000元..."},{id:105,name:"销售报价单-QT-2024-001",templateId:5,generatedAt:"2024-03-25T14:20:00Z",generatedBy:"销售部门",status:"Finalized",contentPreview:"报价单号：QT-2024-001，客户名称：ABC公司，产品名称：软件系统，总价：200000元..."},{id:106,name:"服务合同-SVC-2024-001",templateId:6,generatedAt:"2024-04-01T09:00:00Z",generatedBy:"法务部门",status:"Finalized",contentPreview:"合同编号：SVC-2024-001，甲方：客户公司，服务内容：系统维护，服务费用：100000元..."},{id:107,name:"授权委托书-张三",templateId:7,generatedAt:"2024-04-05T11:30:00Z",generatedBy:"法务部门",status:"Finalized",contentPreview:"委托人：张三，受托人：李四，委托事项：代为签署合同..."},{id:108,name:"离职证明-王五",templateId:8,generatedAt:"2024-04-10T10:15:00Z",generatedBy:"HR部门",status:"Finalized",contentPreview:"兹证明 王五 于 2022-01-01 入职我公司，担任 设计师 职位，于 2024-04-01 离职..."},{id:109,name:"采购订单-PO-2024-001",templateId:9,generatedAt:"2024-04-15T13:45:00Z",generatedBy:"采购部门",status:"Finalized",contentPreview:"订单编号：PO-2024-001，供应商：供应商A，商品名称：办公用品，总金额：50000元..."},{id:110,name:"培训通知-技术培训",templateId:10,generatedAt:"2024-04-20T08:30:00Z",generatedBy:"HR部门",status:"Finalized",contentPreview:"培训主题：技术培训，培训时间：2024-05-01 09:00，培训地点：会议室A..."},{id:111,name:"请假申请单-赵六",templateId:11,generatedAt:"2024-04-25T15:20:00Z",generatedBy:"HR部门",status:"Draft",contentPreview:"申请人：赵六，部门：技术部，请假类型：年假，请假天数：3天..."},{id:112,name:"会议纪要-项目评审会",templateId:12,generatedAt:"2024-04-28T16:00:00Z",generatedBy:"行政部门",status:"Finalized",contentPreview:"会议主题：项目评审会，会议时间：2024-04-28 14:00，主持人：项目经理..."},{id:113,name:"员工合同-王七",templateId:1,generatedAt:"2024-05-01T09:00:00Z",generatedBy:"管理员",status:"Finalized",contentPreview:"甲方：科技有限公司，乙方：王七，职位：测试工程师，基本工资：12000元/月..."},{id:114,name:"录用通知书-孙八",templateId:3,generatedAt:"2024-05-05T10:30:00Z",generatedBy:"HR部门",status:"Finalized",contentPreview:"尊敬的 孙八：我们很高兴地通知您，决定录用您担任 运营专员 职位..."},{id:115,name:"销售报价单-QT-2024-002",templateId:5,generatedAt:"2024-05-10T11:15:00Z",generatedBy:"销售部门",status:"Draft",contentPreview:"报价单号：QT-2024-002，客户名称：XYZ公司，产品名称：定制开发，总价：300000元..."},{id:116,name:"项目合作协议-项目C",templateId:4,generatedAt:"2024-05-15T14:00:00Z",generatedBy:"项目经理",status:"Finalized",contentPreview:"项目名称：项目C，甲方：客户B，乙方：科技有限公司，项目预算：800000元..."},{id:117,name:"服务合同-SVC-2024-002",templateId:6,generatedAt:"2024-05-20T09:45:00Z",generatedBy:"法务部门",status:"Finalized",contentPreview:"合同编号：SVC-2024-002，甲方：客户C，服务内容：技术支持，服务费用：150000元..."},{id:118,name:"采购订单-PO-2024-002",templateId:9,generatedAt:"2024-05-25T13:20:00Z",generatedBy:"采购部门",status:"Finalized",contentPreview:"订单编号：PO-2024-002，供应商：供应商B，商品名称：服务器设备，总金额：200000元..."},{id:119,name:"培训通知-管理培训",templateId:10,generatedAt:"2024-05-28T10:00:00Z",generatedBy:"HR部门",status:"Finalized",contentPreview:"培训主题：管理培训，培训时间：2024-06-01 09:00，培训地点：培训室..."},{id:120,name:"会议纪要-周例会",templateId:12,generatedAt:"2024-06-01T15:30:00Z",generatedBy:"行政部门",status:"Finalized",contentPreview:"会议主题：周例会，会议时间：2024-06-01 14:00，主持人：部门经理..."},{id:121,name:"员工合同-周九",templateId:1,generatedAt:"2024-06-05T09:15:00Z",generatedBy:"管理员",status:"Finalized",contentPreview:"甲方：科技有限公司，乙方：周九，职位：前端工程师，基本工资：14000元/月..."},{id:122,name:"保密协议-项目D",templateId:2,generatedAt:"2024-06-10T11:00:00Z",generatedBy:"项目经理",status:"Finalized",contentPreview:"甲方：科技有限公司，乙方：合作伙伴B，保密期限：3年..."}];Xl(Sh,Ch);Ro(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(Mo,{children:e.jsx(qn,{children:e.jsx(Th,{})})})}));
